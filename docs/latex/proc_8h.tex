\hypertarget{proc_8h}{}\section{proc.\+h File Reference}
\label{proc_8h}\index{proc.\+h@{proc.\+h}}


Generic processor (P\+R\+OC) module.  


{\ttfamily \#include $<$stdarg.\+h$>$}\\*
{\ttfamily \#include $<$pthread.\+h$>$}\\*
{\ttfamily \#include $<$libmediaprocsutils/mem\+\_\+utils.\+h$>$}\\*
Include dependency graph for proc.\+h\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=321pt]{proc_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=192pt]{proc_8h__dep__incl}
\end{center}
\end{figure}
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structproc__ctx__s}{proc\+\_\+ctx\+\_\+s}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{proc_8h_a123c203ae476d5abf664207895880d98}{C\+J\+S\+O\+N\+\_\+\+P\+R\+I\+NT}(C\+J\+S\+O\+N\+\_\+\+P\+TR)~c\+J\+S\+O\+N\+\_\+\+Print(C\+J\+S\+O\+N\+\_\+\+P\+TR)
\end{DoxyCompactItemize}
{\bf }\par
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{proc_8h_af53db00bc88282285037381807cc5c1d}{I\+P\+U\+T\+\_\+\+P\+T\+S\+\_\+\+A\+R\+R\+A\+Y\+\_\+\+S\+I\+ZE}~128
\item 
\#define {\bfseries I\+P\+U\+T\+\_\+\+P\+T\+S\+\_\+\+V\+AL}~0\hypertarget{proc_8h_afa86ee7ab4ee6007957c849be8f775d1}{}\label{proc_8h_afa86ee7ab4ee6007957c849be8f775d1}

\item 
\#define {\bfseries I\+P\+U\+T\+\_\+\+P\+T\+S\+\_\+\+S\+T\+C\+\_\+\+V\+AL}~1\hypertarget{proc_8h_af5c3c106c2bf1fb0ced5d4b6a1de4938}{}\label{proc_8h_af5c3c106c2bf1fb0ced5d4b6a1de4938}

\end{DoxyCompactItemize}

\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct \hyperlink{structproc__if__s}{proc\+\_\+if\+\_\+s} \hyperlink{proc_8h_a679816cf30e0b7a8f3e7464e67a6a844}{proc\+\_\+if\+\_\+t}
\item 
typedef struct \hyperlink{structlog__ctx__s}{log\+\_\+ctx\+\_\+s} {\bfseries log\+\_\+ctx\+\_\+t}\hypertarget{proc_8h_a01e036219a22bb5933ddbc277cee8776}{}\label{proc_8h_a01e036219a22bb5933ddbc277cee8776}

\item 
typedef struct \hyperlink{structfifo__ctx__s}{fifo\+\_\+ctx\+\_\+s} {\bfseries fifo\+\_\+ctx\+\_\+t}\hypertarget{proc_8h_ac236baa51eea7e195ac745426ae30759}{}\label{proc_8h_ac236baa51eea7e195ac745426ae30759}

\item 
typedef struct \hyperlink{structfair__lock__s}{fair\+\_\+lock\+\_\+s} {\bfseries fair\+\_\+lock\+\_\+t}\hypertarget{proc_8h_a44a29fc83b5ff723e1c95dded13ed08c}{}\label{proc_8h_a44a29fc83b5ff723e1c95dded13ed08c}

\item 
typedef struct \hyperlink{structproc__frame__ctx__s}{proc\+\_\+frame\+\_\+ctx\+\_\+s} {\bfseries proc\+\_\+frame\+\_\+ctx\+\_\+t}\hypertarget{proc_8h_aac34f37074877acd40892cfb99d6298d}{}\label{proc_8h_aac34f37074877acd40892cfb99d6298d}

\item 
typedef struct \hyperlink{structinterr__usleep__ctx__s}{interr\+\_\+usleep\+\_\+ctx\+\_\+s} {\bfseries interr\+\_\+usleep\+\_\+ctx\+\_\+t}\hypertarget{proc_8h_aa50cf7f3dbb2547f58dc8a8af0744f5f}{}\label{proc_8h_aa50cf7f3dbb2547f58dc8a8af0744f5f}

\item 
typedef struct \hyperlink{structproc__ctx__s}{proc\+\_\+ctx\+\_\+s} \hyperlink{proc_8h_ae264f89be30fc03f5053bc16d58cba05}{proc\+\_\+ctx\+\_\+t}
\end{DoxyCompactItemize}
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{proc_8h_ad9d50caaae50c1832dd22f487331657a}{proc\+\_\+io\+\_\+t} \{ {\bfseries P\+R\+O\+C\+\_\+\+I\+P\+UT} = 0, 
{\bfseries P\+R\+O\+C\+\_\+\+O\+P\+UT} = 1, 
{\bfseries P\+R\+O\+C\+\_\+\+I\+O\+\_\+\+N\+UM} = 2
 \}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{proc_8h_ae264f89be30fc03f5053bc16d58cba05}{proc\+\_\+ctx\+\_\+t} $\ast$ \hyperlink{proc_8h_a903e30d67b3e65f0711a87945be97cc4}{proc\+\_\+open} (const \hyperlink{proc_8h_a679816cf30e0b7a8f3e7464e67a6a844}{proc\+\_\+if\+\_\+t} $\ast$proc\+\_\+if, const char $\ast$settings\+\_\+str, int proc\+\_\+instance\+\_\+index, uint32\+\_\+t fifo\+\_\+ctx\+\_\+maxsize\mbox{[}P\+R\+O\+C\+\_\+\+I\+O\+\_\+\+N\+UM\mbox{]}, \hyperlink{structlog__ctx__s}{log\+\_\+ctx\+\_\+t} $\ast$log\+\_\+ctx, va\+\_\+list arg)
\item 
void \hyperlink{proc_8h_a3817e994b6b2153430cdde4eab23dcd2}{proc\+\_\+close} (\hyperlink{proc_8h_ae264f89be30fc03f5053bc16d58cba05}{proc\+\_\+ctx\+\_\+t} $\ast$$\ast$ref\+\_\+proc\+\_\+ctx)
\item 
int \hyperlink{proc_8h_a4aa53aea57e2193cedf38b7e2003fac1}{proc\+\_\+send\+\_\+frame} (\hyperlink{proc_8h_ae264f89be30fc03f5053bc16d58cba05}{proc\+\_\+ctx\+\_\+t} $\ast$proc\+\_\+ctx, const \hyperlink{structproc__frame__ctx__s}{proc\+\_\+frame\+\_\+ctx\+\_\+t} $\ast$proc\+\_\+frame\+\_\+ctx)
\item 
int \hyperlink{proc_8h_a9cfe4d96cd6581d309e3bf2b1821bbb6}{proc\+\_\+recv\+\_\+frame} (\hyperlink{proc_8h_ae264f89be30fc03f5053bc16d58cba05}{proc\+\_\+ctx\+\_\+t} $\ast$proc\+\_\+ctx, \hyperlink{structproc__frame__ctx__s}{proc\+\_\+frame\+\_\+ctx\+\_\+t} $\ast$$\ast$ref\+\_\+proc\+\_\+frame\+\_\+ctx)
\item 
int \hyperlink{proc_8h_a0367a65712bcd2e762ec1e9e3035cb3b}{proc\+\_\+opt} (\hyperlink{proc_8h_ae264f89be30fc03f5053bc16d58cba05}{proc\+\_\+ctx\+\_\+t} $\ast$proc\+\_\+ctx, const char $\ast$tag,...)
\item 
int \hyperlink{proc_8h_a720ee51d86625b42b09f508a13977f37}{proc\+\_\+vopt} (\hyperlink{proc_8h_ae264f89be30fc03f5053bc16d58cba05}{proc\+\_\+ctx\+\_\+t} $\ast$proc\+\_\+ctx, const char $\ast$tag, va\+\_\+list arg)
\item 
int {\bfseries proc\+\_\+send\+\_\+frame\+\_\+default1} (\hyperlink{proc_8h_ae264f89be30fc03f5053bc16d58cba05}{proc\+\_\+ctx\+\_\+t} $\ast$proc\+\_\+ctx, const \hyperlink{structproc__frame__ctx__s}{proc\+\_\+frame\+\_\+ctx\+\_\+t} $\ast$proc\+\_\+frame\+\_\+ctx)\hypertarget{proc_8h_ab4eb8ffc342262ec8b748746fecae348}{}\label{proc_8h_ab4eb8ffc342262ec8b748746fecae348}

\item 
int {\bfseries proc\+\_\+recv\+\_\+frame\+\_\+default1} (\hyperlink{proc_8h_ae264f89be30fc03f5053bc16d58cba05}{proc\+\_\+ctx\+\_\+t} $\ast$proc\+\_\+ctx, \hyperlink{structproc__frame__ctx__s}{proc\+\_\+frame\+\_\+ctx\+\_\+t} $\ast$$\ast$ref\+\_\+proc\+\_\+frame\+\_\+ctx)\hypertarget{proc_8h_a8ec368fc617b0066b9fab8a788ec92db}{}\label{proc_8h_a8ec368fc617b0066b9fab8a788ec92db}

\item 
void {\bfseries proc\+\_\+stats\+\_\+register\+\_\+accumulated\+\_\+latency} (\hyperlink{proc_8h_ae264f89be30fc03f5053bc16d58cba05}{proc\+\_\+ctx\+\_\+t} $\ast$proc\+\_\+ctx, const int64\+\_\+t oput\+\_\+frame\+\_\+pts)\hypertarget{proc_8h_aba1da2484ea0dbf14bc238c8ea776737}{}\label{proc_8h_aba1da2484ea0dbf14bc238c8ea776737}

\end{DoxyCompactItemize}


\subsection{Detailed Description}
Generic processor (P\+R\+OC) module. 

\begin{DoxyAuthor}{Author}
Rafael Antoniello
\end{DoxyAuthor}
A typical application would use a generic processor as follows\+:~\newline
 1) Application prologue\+: Open the processor using function \textquotesingle{}\hyperlink{proc_8h_a903e30d67b3e65f0711a87945be97cc4}{proc\+\_\+open()}\textquotesingle{} and obtain its context structure (or handler). Opening the processor is performed only once at the beginning of the application. Function \textquotesingle{}\hyperlink{proc_8h_a903e30d67b3e65f0711a87945be97cc4}{proc\+\_\+open()}\textquotesingle{} will internally initialize and launch necessary processing threads.~\newline
 2) Application cyclic\+: Launch a producer thread and a consumer thread for processing data. Use a control thread to manage processor run-\/time options. The producer should use \textquotesingle{}\hyperlink{proc_8h_a4aa53aea57e2193cedf38b7e2003fac1}{proc\+\_\+send\+\_\+frame()}\textquotesingle{} function to put new frames of data into the processor\textquotesingle{}s input F\+I\+FO buffer. The consumer should use \textquotesingle{}\hyperlink{proc_8h_a9cfe4d96cd6581d309e3bf2b1821bbb6}{proc\+\_\+recv\+\_\+frame()}\textquotesingle{} to obtain processed frames from the processor\textquotesingle{}s output F\+I\+FO buffer. The control thread may use the function \textquotesingle{}\hyperlink{proc_8h_a0367a65712bcd2e762ec1e9e3035cb3b}{proc\+\_\+opt()}\textquotesingle{} to manage processor options.~\newline
 3) Application epilogue\+: Close the processor using the function \textquotesingle{}\hyperlink{proc_8h_a3817e994b6b2153430cdde4eab23dcd2}{proc\+\_\+close()}\textquotesingle{}. Function \textquotesingle{}\hyperlink{proc_8h_a3817e994b6b2153430cdde4eab23dcd2}{proc\+\_\+close()}\textquotesingle{} internally joins the processing threads and release all related resources.~\newline
 ~\newline
 Concurrency\+: The processor (P\+R\+OC) module is thread-\/safe, thus run-\/time functions can be executed concurrently (at the exception of \textquotesingle{}\hyperlink{proc_8h_a903e30d67b3e65f0711a87945be97cc4}{proc\+\_\+open()}\textquotesingle{} and \textquotesingle{}\hyperlink{proc_8h_a3817e994b6b2153430cdde4eab23dcd2}{proc\+\_\+close()}\textquotesingle{} functions). 

\subsection{Macro Definition Documentation}
\index{proc.\+h@{proc.\+h}!C\+J\+S\+O\+N\+\_\+\+P\+R\+I\+NT@{C\+J\+S\+O\+N\+\_\+\+P\+R\+I\+NT}}
\index{C\+J\+S\+O\+N\+\_\+\+P\+R\+I\+NT@{C\+J\+S\+O\+N\+\_\+\+P\+R\+I\+NT}!proc.\+h@{proc.\+h}}
\subsubsection[{\texorpdfstring{C\+J\+S\+O\+N\+\_\+\+P\+R\+I\+NT}{CJSON_PRINT}}]{\setlength{\rightskip}{0pt plus 5cm}\#define C\+J\+S\+O\+N\+\_\+\+P\+R\+I\+NT(
\begin{DoxyParamCaption}
\item[{}]{C\+J\+S\+O\+N\+\_\+\+P\+TR}
\end{DoxyParamCaption}
)~c\+J\+S\+O\+N\+\_\+\+Print(C\+J\+S\+O\+N\+\_\+\+P\+TR)}\hypertarget{proc_8h_a123c203ae476d5abf664207895880d98}{}\label{proc_8h_a123c203ae476d5abf664207895880d98}
c\+J\+S\+ON to character string conversion function definition. String can be formated or minimized (removing whitespace, carriage return, ...). 

Definition at line 70 of file proc.\+h.

\index{proc.\+h@{proc.\+h}!I\+P\+U\+T\+\_\+\+P\+T\+S\+\_\+\+A\+R\+R\+A\+Y\+\_\+\+S\+I\+ZE@{I\+P\+U\+T\+\_\+\+P\+T\+S\+\_\+\+A\+R\+R\+A\+Y\+\_\+\+S\+I\+ZE}}
\index{I\+P\+U\+T\+\_\+\+P\+T\+S\+\_\+\+A\+R\+R\+A\+Y\+\_\+\+S\+I\+ZE@{I\+P\+U\+T\+\_\+\+P\+T\+S\+\_\+\+A\+R\+R\+A\+Y\+\_\+\+S\+I\+ZE}!proc.\+h@{proc.\+h}}
\subsubsection[{\texorpdfstring{I\+P\+U\+T\+\_\+\+P\+T\+S\+\_\+\+A\+R\+R\+A\+Y\+\_\+\+S\+I\+ZE}{IPUT_PTS_ARRAY_SIZE}}]{\setlength{\rightskip}{0pt plus 5cm}\#define I\+P\+U\+T\+\_\+\+P\+T\+S\+\_\+\+A\+R\+R\+A\+Y\+\_\+\+S\+I\+ZE~128}\hypertarget{proc_8h_af53db00bc88282285037381807cc5c1d}{}\label{proc_8h_af53db00bc88282285037381807cc5c1d}
Array registering the last input presentation time-\/stamps (P\+TS\textquotesingle{}s). Each P\+TS is registered together with the system-\/time clock (S\+TC) corresponding to the registration instant. 

Definition at line 131 of file proc.\+h.



\subsection{Typedef Documentation}
\index{proc.\+h@{proc.\+h}!proc\+\_\+ctx\+\_\+t@{proc\+\_\+ctx\+\_\+t}}
\index{proc\+\_\+ctx\+\_\+t@{proc\+\_\+ctx\+\_\+t}!proc.\+h@{proc.\+h}}
\subsubsection[{\texorpdfstring{proc\+\_\+ctx\+\_\+t}{proc_ctx_t}}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf proc\+\_\+ctx\+\_\+s}  {\bf proc\+\_\+ctx\+\_\+t}}\hypertarget{proc_8h_ae264f89be30fc03f5053bc16d58cba05}{}\label{proc_8h_ae264f89be30fc03f5053bc16d58cba05}
Generic processor (P\+R\+OC) context structure. \index{proc.\+h@{proc.\+h}!proc\+\_\+if\+\_\+t@{proc\+\_\+if\+\_\+t}}
\index{proc\+\_\+if\+\_\+t@{proc\+\_\+if\+\_\+t}!proc.\+h@{proc.\+h}}
\subsubsection[{\texorpdfstring{proc\+\_\+if\+\_\+t}{proc_if_t}}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf proc\+\_\+if\+\_\+s} {\bf proc\+\_\+if\+\_\+t}}\hypertarget{proc_8h_a679816cf30e0b7a8f3e7464e67a6a844}{}\label{proc_8h_a679816cf30e0b7a8f3e7464e67a6a844}
P\+R\+OC interface structure prototype. Each P\+R\+OC type will define a static and unambiguous interface of this type. 

Definition at line 58 of file proc.\+h.



\subsection{Enumeration Type Documentation}
\index{proc.\+h@{proc.\+h}!proc\+\_\+io\+\_\+t@{proc\+\_\+io\+\_\+t}}
\index{proc\+\_\+io\+\_\+t@{proc\+\_\+io\+\_\+t}!proc.\+h@{proc.\+h}}
\subsubsection[{\texorpdfstring{proc\+\_\+io\+\_\+t}{proc_io_t}}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf proc\+\_\+io\+\_\+t}}\hypertarget{proc_8h_ad9d50caaae50c1832dd22f487331657a}{}\label{proc_8h_ad9d50caaae50c1832dd22f487331657a}
Processor input-\/output type enumerator. 

Definition at line 76 of file proc.\+h.



\subsection{Function Documentation}
\index{proc.\+h@{proc.\+h}!proc\+\_\+close@{proc\+\_\+close}}
\index{proc\+\_\+close@{proc\+\_\+close}!proc.\+h@{proc.\+h}}
\subsubsection[{\texorpdfstring{proc\+\_\+close(proc\+\_\+ctx\+\_\+t $\ast$$\ast$ref\+\_\+proc\+\_\+ctx)}{proc_close(proc_ctx_t **ref_proc_ctx)}}]{\setlength{\rightskip}{0pt plus 5cm}void proc\+\_\+close (
\begin{DoxyParamCaption}
\item[{{\bf proc\+\_\+ctx\+\_\+t} $\ast$$\ast$}]{ref\+\_\+proc\+\_\+ctx}
\end{DoxyParamCaption}
)}\hypertarget{proc_8h_a3817e994b6b2153430cdde4eab23dcd2}{}\label{proc_8h_a3817e994b6b2153430cdde4eab23dcd2}
Ends processing thread, de-\/initialize and release the generic processor (P\+R\+OC) context structure and all the related resources. 
\begin{DoxyParams}{Parameters}
{\em ref\+\_\+proc\+\_\+ctx} & Reference to the pointer to the processor (P\+R\+OC) context structure to be release, that was obtained in a previous call to the \textquotesingle{}\hyperlink{proc_8h_a903e30d67b3e65f0711a87945be97cc4}{proc\+\_\+open()}\textquotesingle{} function. Pointer is set to N\+U\+LL on return. \\
\hline
\end{DoxyParams}


Definition at line 208 of file proc.\+c.

\index{proc.\+h@{proc.\+h}!proc\+\_\+open@{proc\+\_\+open}}
\index{proc\+\_\+open@{proc\+\_\+open}!proc.\+h@{proc.\+h}}
\subsubsection[{\texorpdfstring{proc\+\_\+open(const proc\+\_\+if\+\_\+t $\ast$proc\+\_\+if, const char $\ast$settings\+\_\+str, int proc\+\_\+instance\+\_\+index, uint32\+\_\+t fifo\+\_\+ctx\+\_\+maxsize[P\+R\+O\+C\+\_\+\+I\+O\+\_\+\+N\+UM], log\+\_\+ctx\+\_\+t $\ast$log\+\_\+ctx, va\+\_\+list arg)}{proc_open(const proc_if_t *proc_if, const char *settings_str, int proc_instance_index, uint32_t fifo_ctx_maxsize[PROC_IO_NUM], log_ctx_t *log_ctx, va_list arg)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf proc\+\_\+ctx\+\_\+t}$\ast$ proc\+\_\+open (
\begin{DoxyParamCaption}
\item[{const {\bf proc\+\_\+if\+\_\+t} $\ast$}]{proc\+\_\+if, }
\item[{const char $\ast$}]{settings\+\_\+str, }
\item[{int}]{proc\+\_\+instance\+\_\+index, }
\item[{uint32\+\_\+t}]{fifo\+\_\+ctx\+\_\+maxsize\mbox{[}\+P\+R\+O\+C\+\_\+\+I\+O\+\_\+\+N\+U\+M\mbox{]}, }
\item[{{\bf log\+\_\+ctx\+\_\+t} $\ast$}]{log\+\_\+ctx, }
\item[{va\+\_\+list}]{arg}
\end{DoxyParamCaption}
)}\hypertarget{proc_8h_a903e30d67b3e65f0711a87945be97cc4}{}\label{proc_8h_a903e30d67b3e65f0711a87945be97cc4}
Allocates generic processor (P\+R\+OC) context structure, initializes, and launches processing thread. 
\begin{DoxyParams}{Parameters}
{\em proc\+\_\+if} & Pointer to the processor interface structure (static and unambiguous interface of the type of processor we are opening). \\
\hline
{\em settings\+\_\+str} & Character string containing initial settings for the processor. String format can be either a query-\/string or J\+S\+ON. \\
\hline
{\em proc\+\_\+instance\+\_\+index} & Each P\+R\+OC instance is registered in an instance array with a specific index (managed and assigned from outside this module). The idea behind using an array is to fetch as fast as possible the P\+R\+OC instance to perform i/o operations. \\
\hline
{\em fifo\+\_\+ctx\+\_\+maxsize} & Maximum size, in number of queued elements, for the input and output F\+I\+F\+Os of the processor. \\
\hline
{\em log\+\_\+ctx} & Pointer to the L\+OG module context structure. \\
\hline
{\em arg} & Variable list of parameters defined by user. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Pointer to the generic processor context structure on success, N\+U\+LL if fails. 
\end{DoxyReturn}


Definition at line 87 of file proc.\+c.

\index{proc.\+h@{proc.\+h}!proc\+\_\+opt@{proc\+\_\+opt}}
\index{proc\+\_\+opt@{proc\+\_\+opt}!proc.\+h@{proc.\+h}}
\subsubsection[{\texorpdfstring{proc\+\_\+opt(proc\+\_\+ctx\+\_\+t $\ast$proc\+\_\+ctx, const char $\ast$tag,...)}{proc_opt(proc_ctx_t *proc_ctx, const char *tag,...)}}]{\setlength{\rightskip}{0pt plus 5cm}int proc\+\_\+opt (
\begin{DoxyParamCaption}
\item[{{\bf proc\+\_\+ctx\+\_\+t} $\ast$}]{proc\+\_\+ctx, }
\item[{const char $\ast$}]{tag, }
\item[{}]{...}
\end{DoxyParamCaption}
)}\hypertarget{proc_8h_a0367a65712bcd2e762ec1e9e3035cb3b}{}\label{proc_8h_a0367a65712bcd2e762ec1e9e3035cb3b}
Processor options. This function is thread-\/safe and can be called concurrently.


\begin{DoxyParams}{Parameters}
{\em proc\+\_\+ctx} & Pointer to the processor (P\+R\+OC) context structure obtained in a previous call to the \textquotesingle{}\hyperlink{proc_8h_a903e30d67b3e65f0711a87945be97cc4}{proc\+\_\+open()}\textquotesingle{} function. \\
\hline
{\em tag} & Processor option tag, namely, option identifier string. The following options are available\+:
\begin{DoxyEnumerate}
\item P\+R\+O\+C\+\_\+\+U\+N\+B\+L\+O\+CK
\item P\+R\+O\+C\+\_\+\+G\+ET
\item P\+R\+O\+C\+\_\+\+P\+UT
\end{DoxyEnumerate}\\
\hline
{\em ...} & Variable list of parameters according to selected option. Refer to {\bfseries Tags description} below to see the different additional parameters corresponding to each option tag. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Status code (S\+T\+A\+T\+\_\+\+S\+U\+C\+C\+E\+SS code in case of success, for other code values please refer to .\hyperlink{stat__codes_8h}{stat\+\_\+codes.\+h}).
\end{DoxyReturn}
\paragraph*{Tags description (additional variable arguments per tag)}


\begin{DoxyItemize}
\item {\bfseries Tag \char`\"{}\+P\+R\+O\+C\+\_\+\+U\+N\+B\+L\+O\+C\+K\char`\"{}\+:} ~\newline
 Unblock processor input/output F\+I\+FO buffers.~\newline
 No additional variable arguments are needed for calling function \hyperlink{proc_8h_a0367a65712bcd2e762ec1e9e3035cb3b}{proc\+\_\+opt()} with this tag.

Tag \char`\"{}\+P\+R\+O\+C\+\_\+\+G\+E\+T\char`\"{}\+: ~\newline
 Get processor representational state (including current settings).~\newline
 Additional variable arguments for function \hyperlink{proc_8h_a0367a65712bcd2e762ec1e9e3035cb3b}{proc\+\_\+opt()} are\+:~\newline
 
\begin{DoxyParams}{Parameters}
{\em rest\+\_\+fmt} & Indicates the format in which the response data is to be returned. Available formats are enumerated at \textquotesingle{}proc\+\_\+if\+\_\+rest\+\_\+fmt\+\_\+t\textquotesingle{}. \\
\hline
{\em ref\+\_\+reponse} & Reference to the pointer to a data structure returning the processor\textquotesingle{}s representational state. The returned data structure is formatted according to what is indicated in the parameter \textquotesingle{}rest\+\_\+fmt\textquotesingle{}.\\
\hline
\end{DoxyParams}
Tag \char`\"{}\+P\+R\+O\+C\+\_\+\+P\+U\+T\char`\"{}\+: ~\newline
 Put (pass) new settings to processor.~\newline
 Additional variable arguments for function \hyperlink{proc_8h_a0367a65712bcd2e762ec1e9e3035cb3b}{proc\+\_\+opt()} are\+:~\newline
 
\begin{DoxyParams}{Parameters}
{\em str} & Pointer to a character string containing new settings for the processor. String format can be either a query-\/string or J\+S\+ON. \\
\hline
\end{DoxyParams}

\end{DoxyItemize}

Definition at line 368 of file proc.\+c.

\index{proc.\+h@{proc.\+h}!proc\+\_\+recv\+\_\+frame@{proc\+\_\+recv\+\_\+frame}}
\index{proc\+\_\+recv\+\_\+frame@{proc\+\_\+recv\+\_\+frame}!proc.\+h@{proc.\+h}}
\subsubsection[{\texorpdfstring{proc\+\_\+recv\+\_\+frame(proc\+\_\+ctx\+\_\+t $\ast$proc\+\_\+ctx, proc\+\_\+frame\+\_\+ctx\+\_\+t $\ast$$\ast$ref\+\_\+proc\+\_\+frame\+\_\+ctx)}{proc_recv_frame(proc_ctx_t *proc_ctx, proc_frame_ctx_t **ref_proc_frame_ctx)}}]{\setlength{\rightskip}{0pt plus 5cm}int proc\+\_\+recv\+\_\+frame (
\begin{DoxyParamCaption}
\item[{{\bf proc\+\_\+ctx\+\_\+t} $\ast$}]{proc\+\_\+ctx, }
\item[{{\bf proc\+\_\+frame\+\_\+ctx\+\_\+t} $\ast$$\ast$}]{ref\+\_\+proc\+\_\+frame\+\_\+ctx}
\end{DoxyParamCaption}
)}\hypertarget{proc_8h_a9cfe4d96cd6581d309e3bf2b1821bbb6}{}\label{proc_8h_a9cfe4d96cd6581d309e3bf2b1821bbb6}
Get new processed frame of data from the processor\textquotesingle{}s output buffer. Unless unblocked (see processor options \textquotesingle{}\hyperlink{proc_8h_a0367a65712bcd2e762ec1e9e3035cb3b}{proc\+\_\+opt()}\textquotesingle{}), this function blocks until a new frame is available to be read from the processor\textquotesingle{}s output buffer. This function is thread-\/safe and can be called concurrently. 
\begin{DoxyParams}{Parameters}
{\em proc\+\_\+ctx} & Pointer to the processor (P\+R\+OC) context structure obtained in a previous call to the \textquotesingle{}\hyperlink{proc_8h_a903e30d67b3e65f0711a87945be97cc4}{proc\+\_\+open()}\textquotesingle{} function. \\
\hline
{\em ref\+\_\+proc\+\_\+frame\+\_\+ctx} & Reference to the pointer to a structure characterizing the output processed frame. This function will return the processed frame passing its structure pointer by argument. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Status code (S\+T\+A\+T\+\_\+\+S\+U\+C\+C\+E\+SS code in case of success, for other code values please refer to .\hyperlink{stat__codes_8h}{stat\+\_\+codes.\+h}). 
\end{DoxyReturn}


Definition at line 323 of file proc.\+c.

\index{proc.\+h@{proc.\+h}!proc\+\_\+send\+\_\+frame@{proc\+\_\+send\+\_\+frame}}
\index{proc\+\_\+send\+\_\+frame@{proc\+\_\+send\+\_\+frame}!proc.\+h@{proc.\+h}}
\subsubsection[{\texorpdfstring{proc\+\_\+send\+\_\+frame(proc\+\_\+ctx\+\_\+t $\ast$proc\+\_\+ctx, const proc\+\_\+frame\+\_\+ctx\+\_\+t $\ast$proc\+\_\+frame\+\_\+ctx)}{proc_send_frame(proc_ctx_t *proc_ctx, const proc_frame_ctx_t *proc_frame_ctx)}}]{\setlength{\rightskip}{0pt plus 5cm}int proc\+\_\+send\+\_\+frame (
\begin{DoxyParamCaption}
\item[{{\bf proc\+\_\+ctx\+\_\+t} $\ast$}]{proc\+\_\+ctx, }
\item[{const {\bf proc\+\_\+frame\+\_\+ctx\+\_\+t} $\ast$}]{proc\+\_\+frame\+\_\+ctx}
\end{DoxyParamCaption}
)}\hypertarget{proc_8h_a4aa53aea57e2193cedf38b7e2003fac1}{}\label{proc_8h_a4aa53aea57e2193cedf38b7e2003fac1}
Put new frame of data to be processed in the processor\textquotesingle{}s input buffer. Unless unblocked (see processor options \textquotesingle{}\hyperlink{proc_8h_a0367a65712bcd2e762ec1e9e3035cb3b}{proc\+\_\+opt()}\textquotesingle{}), this function blocks until a slot is available to be able to push the new frame into the processor\textquotesingle{}s input buffer. This function is thread-\/safe and can be called concurrently. 
\begin{DoxyParams}{Parameters}
{\em proc\+\_\+ctx} & Pointer to the processor (P\+R\+OC) context structure obtained in a previous call to the \textquotesingle{}\hyperlink{proc_8h_a903e30d67b3e65f0711a87945be97cc4}{proc\+\_\+open()}\textquotesingle{} function. \\
\hline
{\em proc\+\_\+frame\+\_\+ctx} & Pointer to the structure characterizing the input frame to be processed. The frame is duplicated and inserted in the input buffer. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Status code (S\+T\+A\+T\+\_\+\+S\+U\+C\+C\+E\+SS code in case of success, for other code values please refer to .\hyperlink{stat__codes_8h}{stat\+\_\+codes.\+h}). 
\end{DoxyReturn}


Definition at line 287 of file proc.\+c.

\index{proc.\+h@{proc.\+h}!proc\+\_\+vopt@{proc\+\_\+vopt}}
\index{proc\+\_\+vopt@{proc\+\_\+vopt}!proc.\+h@{proc.\+h}}
\subsubsection[{\texorpdfstring{proc\+\_\+vopt(proc\+\_\+ctx\+\_\+t $\ast$proc\+\_\+ctx, const char $\ast$tag, va\+\_\+list arg)}{proc_vopt(proc_ctx_t *proc_ctx, const char *tag, va_list arg)}}]{\setlength{\rightskip}{0pt plus 5cm}int proc\+\_\+vopt (
\begin{DoxyParamCaption}
\item[{{\bf proc\+\_\+ctx\+\_\+t} $\ast$}]{proc\+\_\+ctx, }
\item[{const char $\ast$}]{tag, }
\item[{va\+\_\+list}]{arg}
\end{DoxyParamCaption}
)}\hypertarget{proc_8h_a720ee51d86625b42b09f508a13977f37}{}\label{proc_8h_a720ee51d86625b42b09f508a13977f37}
The function \textquotesingle{}\hyperlink{proc_8h_a720ee51d86625b42b09f508a13977f37}{proc\+\_\+vopt()}\textquotesingle{} is the same as \hyperlink{proc_8h_a0367a65712bcd2e762ec1e9e3035cb3b}{proc\+\_\+opt()} except that it is called with a va\+\_\+list instead of a variable number of arguments. This function does not call the va\+\_\+end macro. Because it invoke the va\+\_\+arg macro, the value of the argument pointer is undefined after the call. 

Definition at line 382 of file proc.\+c.

