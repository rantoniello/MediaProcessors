\hypertarget{proc_8c}{}\section{proc.\+c File Reference}
\label{proc_8c}\index{proc.\+c@{proc.\+c}}
{\ttfamily \#include \char`\"{}proc.\+h\char`\"{}}\\*
{\ttfamily \#include $<$stdlib.\+h$>$}\\*
{\ttfamily \#include $<$unistd.\+h$>$}\\*
{\ttfamily \#include $<$string.\+h$>$}\\*
{\ttfamily \#include $<$pthread.\+h$>$}\\*
{\ttfamily \#include $<$time.\+h$>$}\\*
{\ttfamily \#include $<$errno.\+h$>$}\\*
{\ttfamily \#include $<$libcjson/c\+J\+S\+O\+N.\+h$>$}\\*
{\ttfamily \#include $<$libmediaprocsutils/log.\+h$>$}\\*
{\ttfamily \#include $<$libmediaprocsutils/stat\+\_\+codes.\+h$>$}\\*
{\ttfamily \#include $<$libmediaprocsutils/check\+\_\+utils.\+h$>$}\\*
{\ttfamily \#include $<$libmediaprocsutils/schedule.\+h$>$}\\*
{\ttfamily \#include $<$libmediaprocsutils/fifo.\+h$>$}\\*
{\ttfamily \#include $<$libmediaprocsutils/fair\+\_\+lock.\+h$>$}\\*
{\ttfamily \#include $<$libmediaprocsutils/interr\+\_\+usleep.\+h$>$}\\*
{\ttfamily \#include \char`\"{}proc\+\_\+if.\+h\char`\"{}}\\*
Include dependency graph for proc.\+c\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{proc_8c__incl}
\end{center}
\end{figure}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define {\bfseries L\+O\+G\+D\+\_\+\+C\+T\+X\+\_\+\+I\+N\+IT}(C\+TX)\hypertarget{proc_8c_a78f3ba7226e65b5f2d9efd92036d689e}{}\label{proc_8c_a78f3ba7226e65b5f2d9efd92036d689e}

\item 
\#define {\bfseries L\+O\+GD}(...)\hypertarget{proc_8c_aa839997a58e14061861cd634fdb7664d}{}\label{proc_8c_aa839997a58e14061861cd634fdb7664d}

\item 
\#define \hyperlink{proc_8c_a8995a191e541088a47aec1798a8cec4b}{T\+A\+G\+\_\+\+H\+AS}(N\+E\+E\+D\+LE)~(strstr(tag, N\+E\+E\+D\+LE)!= N\+U\+LL)
\item 
\#define \hyperlink{proc_8c_a914faae84f39085695352bd45c0fca62}{T\+A\+G\+\_\+\+IS}(T\+AG)~(strcmp(tag, T\+AG)== 0)
\item 
\#define \hyperlink{proc_8c_ae748d1145794ec3eee8d693b690021d2}{P\+R\+O\+C\+\_\+\+S\+T\+A\+T\+S\+\_\+\+T\+H\+R\+\_\+\+M\+E\+A\+S\+U\+R\+E\+\_\+\+P\+E\+R\+I\+O\+D\+\_\+\+U\+S\+E\+CS}~(1000000)
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
static int {\bfseries procs\+\_\+id\+\_\+get} (\hyperlink{proc_8h_ae264f89be30fc03f5053bc16d58cba05}{proc\+\_\+ctx\+\_\+t} $\ast$proc\+\_\+ctx, \hyperlink{structlog__ctx__s}{log\+\_\+ctx\+\_\+t} $\ast$log\+\_\+ctx, \hyperlink{proc__if_8h_a9bea3dae53a91f2a3e3a459d1d3e22b3}{proc\+\_\+if\+\_\+rest\+\_\+fmt\+\_\+t} rest\+\_\+fmt, void $\ast$$\ast$ref\+\_\+reponse)\hypertarget{proc_8c_a58d3290619c003f2fc28545975ba2d8f}{}\label{proc_8c_a58d3290619c003f2fc28545975ba2d8f}

\item 
static void $\ast$ {\bfseries proc\+\_\+stats\+\_\+thr} (void $\ast$t)\hypertarget{proc_8c_acec99e6b86fa60e18aed876636794619}{}\label{proc_8c_acec99e6b86fa60e18aed876636794619}

\item 
static void $\ast$ {\bfseries proc\+\_\+thr} (void $\ast$t)\hypertarget{proc_8c_a6a3220a6637bf2eac3bc01c7c2a6e778}{}\label{proc_8c_a6a3220a6637bf2eac3bc01c7c2a6e778}

\item 
static void \hyperlink{proc_8c_a8108a21cdd295dab6a93f7c562e2919d}{proc\+\_\+stats\+\_\+register\+\_\+frame\+\_\+pts} (\hyperlink{proc_8h_ae264f89be30fc03f5053bc16d58cba05}{proc\+\_\+ctx\+\_\+t} $\ast$proc\+\_\+ctx, const \hyperlink{structproc__frame__ctx__s}{proc\+\_\+frame\+\_\+ctx\+\_\+t} $\ast$proc\+\_\+frame\+\_\+ctx, const \hyperlink{proc_8h_ad9d50caaae50c1832dd22f487331657a}{proc\+\_\+io\+\_\+t} proc\+\_\+io)
\item 
static void \hyperlink{proc_8c_a074bf2d0cf4ef1228a1c1d2aff100d93}{proc\+\_\+stats\+\_\+register\+\_\+accumulated\+\_\+io\+\_\+bits} (\hyperlink{proc_8h_ae264f89be30fc03f5053bc16d58cba05}{proc\+\_\+ctx\+\_\+t} $\ast$proc\+\_\+ctx, const \hyperlink{structproc__frame__ctx__s}{proc\+\_\+frame\+\_\+ctx\+\_\+t} $\ast$proc\+\_\+frame\+\_\+ctx, const \hyperlink{proc_8h_ad9d50caaae50c1832dd22f487331657a}{proc\+\_\+io\+\_\+t} proc\+\_\+io)
\item 
\hyperlink{proc_8h_ae264f89be30fc03f5053bc16d58cba05}{proc\+\_\+ctx\+\_\+t} $\ast$ \hyperlink{proc_8c_a903e30d67b3e65f0711a87945be97cc4}{proc\+\_\+open} (const \hyperlink{proc_8h_a679816cf30e0b7a8f3e7464e67a6a844}{proc\+\_\+if\+\_\+t} $\ast$proc\+\_\+if, const char $\ast$settings\+\_\+str, int proc\+\_\+instance\+\_\+index, uint32\+\_\+t fifo\+\_\+ctx\+\_\+maxsize\mbox{[}P\+R\+O\+C\+\_\+\+I\+O\+\_\+\+N\+UM\mbox{]}, \hyperlink{structlog__ctx__s}{log\+\_\+ctx\+\_\+t} $\ast$log\+\_\+ctx, va\+\_\+list arg)
\item 
void \hyperlink{proc_8c_a3817e994b6b2153430cdde4eab23dcd2}{proc\+\_\+close} (\hyperlink{proc_8h_ae264f89be30fc03f5053bc16d58cba05}{proc\+\_\+ctx\+\_\+t} $\ast$$\ast$ref\+\_\+proc\+\_\+ctx)
\item 
int \hyperlink{proc_8c_a4aa53aea57e2193cedf38b7e2003fac1}{proc\+\_\+send\+\_\+frame} (\hyperlink{proc_8h_ae264f89be30fc03f5053bc16d58cba05}{proc\+\_\+ctx\+\_\+t} $\ast$proc\+\_\+ctx, const \hyperlink{structproc__frame__ctx__s}{proc\+\_\+frame\+\_\+ctx\+\_\+t} $\ast$proc\+\_\+frame\+\_\+ctx)
\item 
int \hyperlink{proc_8c_a9cfe4d96cd6581d309e3bf2b1821bbb6}{proc\+\_\+recv\+\_\+frame} (\hyperlink{proc_8h_ae264f89be30fc03f5053bc16d58cba05}{proc\+\_\+ctx\+\_\+t} $\ast$proc\+\_\+ctx, \hyperlink{structproc__frame__ctx__s}{proc\+\_\+frame\+\_\+ctx\+\_\+t} $\ast$$\ast$ref\+\_\+proc\+\_\+frame\+\_\+ctx)
\item 
int \hyperlink{proc_8c_a0367a65712bcd2e762ec1e9e3035cb3b}{proc\+\_\+opt} (\hyperlink{proc_8h_ae264f89be30fc03f5053bc16d58cba05}{proc\+\_\+ctx\+\_\+t} $\ast$proc\+\_\+ctx, const char $\ast$tag,...)
\item 
int \hyperlink{proc_8c_a720ee51d86625b42b09f508a13977f37}{proc\+\_\+vopt} (\hyperlink{proc_8h_ae264f89be30fc03f5053bc16d58cba05}{proc\+\_\+ctx\+\_\+t} $\ast$proc\+\_\+ctx, const char $\ast$tag, va\+\_\+list arg)
\item 
int {\bfseries proc\+\_\+send\+\_\+frame\+\_\+default1} (\hyperlink{proc_8h_ae264f89be30fc03f5053bc16d58cba05}{proc\+\_\+ctx\+\_\+t} $\ast$proc\+\_\+ctx, const \hyperlink{structproc__frame__ctx__s}{proc\+\_\+frame\+\_\+ctx\+\_\+t} $\ast$proc\+\_\+frame\+\_\+ctx)\hypertarget{proc_8c_ab4eb8ffc342262ec8b748746fecae348}{}\label{proc_8c_ab4eb8ffc342262ec8b748746fecae348}

\item 
int {\bfseries proc\+\_\+recv\+\_\+frame\+\_\+default1} (\hyperlink{proc_8h_ae264f89be30fc03f5053bc16d58cba05}{proc\+\_\+ctx\+\_\+t} $\ast$proc\+\_\+ctx, \hyperlink{structproc__frame__ctx__s}{proc\+\_\+frame\+\_\+ctx\+\_\+t} $\ast$$\ast$ref\+\_\+proc\+\_\+frame\+\_\+ctx)\hypertarget{proc_8c_a8ec368fc617b0066b9fab8a788ec92db}{}\label{proc_8c_a8ec368fc617b0066b9fab8a788ec92db}

\item 
void {\bfseries proc\+\_\+stats\+\_\+register\+\_\+accumulated\+\_\+latency} (\hyperlink{proc_8h_ae264f89be30fc03f5053bc16d58cba05}{proc\+\_\+ctx\+\_\+t} $\ast$proc\+\_\+ctx, const int64\+\_\+t oput\+\_\+frame\+\_\+pts)\hypertarget{proc_8c_aba1da2484ea0dbf14bc238c8ea776737}{}\label{proc_8c_aba1da2484ea0dbf14bc238c8ea776737}

\end{DoxyCompactItemize}


\subsection{Detailed Description}
\begin{DoxyAuthor}{Author}
Rafael Antoniello 
\end{DoxyAuthor}


\subsection{Macro Definition Documentation}
\index{proc.\+c@{proc.\+c}!P\+R\+O\+C\+\_\+\+S\+T\+A\+T\+S\+\_\+\+T\+H\+R\+\_\+\+M\+E\+A\+S\+U\+R\+E\+\_\+\+P\+E\+R\+I\+O\+D\+\_\+\+U\+S\+E\+CS@{P\+R\+O\+C\+\_\+\+S\+T\+A\+T\+S\+\_\+\+T\+H\+R\+\_\+\+M\+E\+A\+S\+U\+R\+E\+\_\+\+P\+E\+R\+I\+O\+D\+\_\+\+U\+S\+E\+CS}}
\index{P\+R\+O\+C\+\_\+\+S\+T\+A\+T\+S\+\_\+\+T\+H\+R\+\_\+\+M\+E\+A\+S\+U\+R\+E\+\_\+\+P\+E\+R\+I\+O\+D\+\_\+\+U\+S\+E\+CS@{P\+R\+O\+C\+\_\+\+S\+T\+A\+T\+S\+\_\+\+T\+H\+R\+\_\+\+M\+E\+A\+S\+U\+R\+E\+\_\+\+P\+E\+R\+I\+O\+D\+\_\+\+U\+S\+E\+CS}!proc.\+c@{proc.\+c}}
\subsubsection[{\texorpdfstring{P\+R\+O\+C\+\_\+\+S\+T\+A\+T\+S\+\_\+\+T\+H\+R\+\_\+\+M\+E\+A\+S\+U\+R\+E\+\_\+\+P\+E\+R\+I\+O\+D\+\_\+\+U\+S\+E\+CS}{PROC_STATS_THR_MEASURE_PERIOD_USECS}}]{\setlength{\rightskip}{0pt plus 5cm}\#define P\+R\+O\+C\+\_\+\+S\+T\+A\+T\+S\+\_\+\+T\+H\+R\+\_\+\+M\+E\+A\+S\+U\+R\+E\+\_\+\+P\+E\+R\+I\+O\+D\+\_\+\+U\+S\+E\+CS~(1000000)}\hypertarget{proc_8c_ae748d1145794ec3eee8d693b690021d2}{}\label{proc_8c_ae748d1145794ec3eee8d693b690021d2}
Processor\textquotesingle{}s statistic thread period (1 second). 

Definition at line 70 of file proc.\+c.

\index{proc.\+c@{proc.\+c}!T\+A\+G\+\_\+\+H\+AS@{T\+A\+G\+\_\+\+H\+AS}}
\index{T\+A\+G\+\_\+\+H\+AS@{T\+A\+G\+\_\+\+H\+AS}!proc.\+c@{proc.\+c}}
\subsubsection[{\texorpdfstring{T\+A\+G\+\_\+\+H\+AS}{TAG_HAS}}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\+A\+G\+\_\+\+H\+AS(
\begin{DoxyParamCaption}
\item[{}]{N\+E\+E\+D\+LE}
\end{DoxyParamCaption}
)~(strstr(tag, N\+E\+E\+D\+LE)!= N\+U\+LL)}\hypertarget{proc_8c_a8995a191e541088a47aec1798a8cec4b}{}\label{proc_8c_a8995a191e541088a47aec1798a8cec4b}
Returns non-\/zero if given \textquotesingle{}tag\textquotesingle{} string contains \textquotesingle{}needle\textquotesingle{} sub-\/string. 

Definition at line 60 of file proc.\+c.

\index{proc.\+c@{proc.\+c}!T\+A\+G\+\_\+\+IS@{T\+A\+G\+\_\+\+IS}}
\index{T\+A\+G\+\_\+\+IS@{T\+A\+G\+\_\+\+IS}!proc.\+c@{proc.\+c}}
\subsubsection[{\texorpdfstring{T\+A\+G\+\_\+\+IS}{TAG_IS}}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\+A\+G\+\_\+\+IS(
\begin{DoxyParamCaption}
\item[{}]{T\+AG}
\end{DoxyParamCaption}
)~(strcmp(tag, T\+AG)== 0)}\hypertarget{proc_8c_a914faae84f39085695352bd45c0fca62}{}\label{proc_8c_a914faae84f39085695352bd45c0fca62}
Returns non-\/zero if \textquotesingle{}tag\textquotesingle{} string is equal to given T\+AG string. 

Definition at line 65 of file proc.\+c.



\subsection{Function Documentation}
\index{proc.\+c@{proc.\+c}!proc\+\_\+close@{proc\+\_\+close}}
\index{proc\+\_\+close@{proc\+\_\+close}!proc.\+c@{proc.\+c}}
\subsubsection[{\texorpdfstring{proc\+\_\+close(proc\+\_\+ctx\+\_\+t $\ast$$\ast$ref\+\_\+proc\+\_\+ctx)}{proc_close(proc_ctx_t **ref_proc_ctx)}}]{\setlength{\rightskip}{0pt plus 5cm}void proc\+\_\+close (
\begin{DoxyParamCaption}
\item[{{\bf proc\+\_\+ctx\+\_\+t} $\ast$$\ast$}]{ref\+\_\+proc\+\_\+ctx}
\end{DoxyParamCaption}
)}\hypertarget{proc_8c_a3817e994b6b2153430cdde4eab23dcd2}{}\label{proc_8c_a3817e994b6b2153430cdde4eab23dcd2}
Ends processing thread, de-\/initialize and release the generic processor (P\+R\+OC) context structure and all the related resources. 
\begin{DoxyParams}{Parameters}
{\em ref\+\_\+proc\+\_\+ctx} & Reference to the pointer to the processor (P\+R\+OC) context structure to be release, that was obtained in a previous call to the \textquotesingle{}\hyperlink{proc_8h_a903e30d67b3e65f0711a87945be97cc4}{proc\+\_\+open()}\textquotesingle{} function. Pointer is set to N\+U\+LL on return. \\
\hline
\end{DoxyParams}


Definition at line 208 of file proc.\+c.

\index{proc.\+c@{proc.\+c}!proc\+\_\+open@{proc\+\_\+open}}
\index{proc\+\_\+open@{proc\+\_\+open}!proc.\+c@{proc.\+c}}
\subsubsection[{\texorpdfstring{proc\+\_\+open(const proc\+\_\+if\+\_\+t $\ast$proc\+\_\+if, const char $\ast$settings\+\_\+str, int proc\+\_\+instance\+\_\+index, uint32\+\_\+t fifo\+\_\+ctx\+\_\+maxsize[P\+R\+O\+C\+\_\+\+I\+O\+\_\+\+N\+UM], log\+\_\+ctx\+\_\+t $\ast$log\+\_\+ctx, va\+\_\+list arg)}{proc_open(const proc_if_t *proc_if, const char *settings_str, int proc_instance_index, uint32_t fifo_ctx_maxsize[PROC_IO_NUM], log_ctx_t *log_ctx, va_list arg)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf proc\+\_\+ctx\+\_\+t}$\ast$ proc\+\_\+open (
\begin{DoxyParamCaption}
\item[{const {\bf proc\+\_\+if\+\_\+t} $\ast$}]{proc\+\_\+if, }
\item[{const char $\ast$}]{settings\+\_\+str, }
\item[{int}]{proc\+\_\+instance\+\_\+index, }
\item[{uint32\+\_\+t}]{fifo\+\_\+ctx\+\_\+maxsize\mbox{[}\+P\+R\+O\+C\+\_\+\+I\+O\+\_\+\+N\+U\+M\mbox{]}, }
\item[{{\bf log\+\_\+ctx\+\_\+t} $\ast$}]{log\+\_\+ctx, }
\item[{va\+\_\+list}]{arg}
\end{DoxyParamCaption}
)}\hypertarget{proc_8c_a903e30d67b3e65f0711a87945be97cc4}{}\label{proc_8c_a903e30d67b3e65f0711a87945be97cc4}
Allocates generic processor (P\+R\+OC) context structure, initializes, and launches processing thread. 
\begin{DoxyParams}{Parameters}
{\em proc\+\_\+if} & Pointer to the processor interface structure (static and unambiguous interface of the type of processor we are opening). \\
\hline
{\em settings\+\_\+str} & Character string containing initial settings for the processor. String format can be either a query-\/string or J\+S\+ON. \\
\hline
{\em proc\+\_\+instance\+\_\+index} & Each P\+R\+OC instance is registered in an instance array with a specific index (managed and assigned from outside this module). The idea behind using an array is to fetch as fast as possible the P\+R\+OC instance to perform i/o operations. \\
\hline
{\em fifo\+\_\+ctx\+\_\+maxsize} & Maximum size, in number of queued elements, for the input and output F\+I\+F\+Os of the processor. \\
\hline
{\em log\+\_\+ctx} & Pointer to the L\+OG module context structure. \\
\hline
{\em arg} & Variable list of parameters defined by user. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Pointer to the generic processor context structure on success, N\+U\+LL if fails. 
\end{DoxyReturn}


Definition at line 87 of file proc.\+c.

\index{proc.\+c@{proc.\+c}!proc\+\_\+opt@{proc\+\_\+opt}}
\index{proc\+\_\+opt@{proc\+\_\+opt}!proc.\+c@{proc.\+c}}
\subsubsection[{\texorpdfstring{proc\+\_\+opt(proc\+\_\+ctx\+\_\+t $\ast$proc\+\_\+ctx, const char $\ast$tag,...)}{proc_opt(proc_ctx_t *proc_ctx, const char *tag,...)}}]{\setlength{\rightskip}{0pt plus 5cm}int proc\+\_\+opt (
\begin{DoxyParamCaption}
\item[{{\bf proc\+\_\+ctx\+\_\+t} $\ast$}]{proc\+\_\+ctx, }
\item[{const char $\ast$}]{tag, }
\item[{}]{...}
\end{DoxyParamCaption}
)}\hypertarget{proc_8c_a0367a65712bcd2e762ec1e9e3035cb3b}{}\label{proc_8c_a0367a65712bcd2e762ec1e9e3035cb3b}
Processor options. This function is thread-\/safe and can be called concurrently.


\begin{DoxyParams}{Parameters}
{\em proc\+\_\+ctx} & Pointer to the processor (P\+R\+OC) context structure obtained in a previous call to the \textquotesingle{}\hyperlink{proc_8h_a903e30d67b3e65f0711a87945be97cc4}{proc\+\_\+open()}\textquotesingle{} function. \\
\hline
{\em tag} & Processor option tag, namely, option identifier string. The following options are available\+:
\begin{DoxyEnumerate}
\item P\+R\+O\+C\+\_\+\+U\+N\+B\+L\+O\+CK
\item P\+R\+O\+C\+\_\+\+G\+ET
\item P\+R\+O\+C\+\_\+\+P\+UT
\end{DoxyEnumerate}\\
\hline
{\em ...} & Variable list of parameters according to selected option. Refer to {\bfseries Tags description} below to see the different additional parameters corresponding to each option tag. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Status code (S\+T\+A\+T\+\_\+\+S\+U\+C\+C\+E\+SS code in case of success, for other code values please refer to .\hyperlink{stat__codes_8h}{stat\+\_\+codes.\+h}).
\end{DoxyReturn}
\paragraph*{Tags description (additional variable arguments per tag)}


\begin{DoxyItemize}
\item {\bfseries Tag \char`\"{}\+P\+R\+O\+C\+\_\+\+U\+N\+B\+L\+O\+C\+K\char`\"{}\+:} ~\newline
 Unblock processor input/output F\+I\+FO buffers.~\newline
 No additional variable arguments are needed for calling function \hyperlink{proc_8h_a0367a65712bcd2e762ec1e9e3035cb3b}{proc\+\_\+opt()} with this tag.

Tag \char`\"{}\+P\+R\+O\+C\+\_\+\+G\+E\+T\char`\"{}\+: ~\newline
 Get processor representational state (including current settings).~\newline
 Additional variable arguments for function \hyperlink{proc_8h_a0367a65712bcd2e762ec1e9e3035cb3b}{proc\+\_\+opt()} are\+:~\newline
 
\begin{DoxyParams}{Parameters}
{\em rest\+\_\+fmt} & Indicates the format in which the response data is to be returned. Available formats are enumerated at \textquotesingle{}proc\+\_\+if\+\_\+rest\+\_\+fmt\+\_\+t\textquotesingle{}. \\
\hline
{\em ref\+\_\+reponse} & Reference to the pointer to a data structure returning the processor\textquotesingle{}s representational state. The returned data structure is formatted according to what is indicated in the parameter \textquotesingle{}rest\+\_\+fmt\textquotesingle{}.\\
\hline
\end{DoxyParams}
Tag \char`\"{}\+P\+R\+O\+C\+\_\+\+P\+U\+T\char`\"{}\+: ~\newline
 Put (pass) new settings to processor.~\newline
 Additional variable arguments for function \hyperlink{proc_8h_a0367a65712bcd2e762ec1e9e3035cb3b}{proc\+\_\+opt()} are\+:~\newline
 
\begin{DoxyParams}{Parameters}
{\em str} & Pointer to a character string containing new settings for the processor. String format can be either a query-\/string or J\+S\+ON. \\
\hline
\end{DoxyParams}

\end{DoxyItemize}

Definition at line 368 of file proc.\+c.

\index{proc.\+c@{proc.\+c}!proc\+\_\+recv\+\_\+frame@{proc\+\_\+recv\+\_\+frame}}
\index{proc\+\_\+recv\+\_\+frame@{proc\+\_\+recv\+\_\+frame}!proc.\+c@{proc.\+c}}
\subsubsection[{\texorpdfstring{proc\+\_\+recv\+\_\+frame(proc\+\_\+ctx\+\_\+t $\ast$proc\+\_\+ctx, proc\+\_\+frame\+\_\+ctx\+\_\+t $\ast$$\ast$ref\+\_\+proc\+\_\+frame\+\_\+ctx)}{proc_recv_frame(proc_ctx_t *proc_ctx, proc_frame_ctx_t **ref_proc_frame_ctx)}}]{\setlength{\rightskip}{0pt plus 5cm}int proc\+\_\+recv\+\_\+frame (
\begin{DoxyParamCaption}
\item[{{\bf proc\+\_\+ctx\+\_\+t} $\ast$}]{proc\+\_\+ctx, }
\item[{{\bf proc\+\_\+frame\+\_\+ctx\+\_\+t} $\ast$$\ast$}]{ref\+\_\+proc\+\_\+frame\+\_\+ctx}
\end{DoxyParamCaption}
)}\hypertarget{proc_8c_a9cfe4d96cd6581d309e3bf2b1821bbb6}{}\label{proc_8c_a9cfe4d96cd6581d309e3bf2b1821bbb6}
Get new processed frame of data from the processor\textquotesingle{}s output buffer. Unless unblocked (see processor options \textquotesingle{}\hyperlink{proc_8h_a0367a65712bcd2e762ec1e9e3035cb3b}{proc\+\_\+opt()}\textquotesingle{}), this function blocks until a new frame is available to be read from the processor\textquotesingle{}s output buffer. This function is thread-\/safe and can be called concurrently. 
\begin{DoxyParams}{Parameters}
{\em proc\+\_\+ctx} & Pointer to the processor (P\+R\+OC) context structure obtained in a previous call to the \textquotesingle{}\hyperlink{proc_8h_a903e30d67b3e65f0711a87945be97cc4}{proc\+\_\+open()}\textquotesingle{} function. \\
\hline
{\em ref\+\_\+proc\+\_\+frame\+\_\+ctx} & Reference to the pointer to a structure characterizing the output processed frame. This function will return the processed frame passing its structure pointer by argument. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Status code (S\+T\+A\+T\+\_\+\+S\+U\+C\+C\+E\+SS code in case of success, for other code values please refer to .\hyperlink{stat__codes_8h}{stat\+\_\+codes.\+h}). 
\end{DoxyReturn}


Definition at line 323 of file proc.\+c.

\index{proc.\+c@{proc.\+c}!proc\+\_\+send\+\_\+frame@{proc\+\_\+send\+\_\+frame}}
\index{proc\+\_\+send\+\_\+frame@{proc\+\_\+send\+\_\+frame}!proc.\+c@{proc.\+c}}
\subsubsection[{\texorpdfstring{proc\+\_\+send\+\_\+frame(proc\+\_\+ctx\+\_\+t $\ast$proc\+\_\+ctx, const proc\+\_\+frame\+\_\+ctx\+\_\+t $\ast$proc\+\_\+frame\+\_\+ctx)}{proc_send_frame(proc_ctx_t *proc_ctx, const proc_frame_ctx_t *proc_frame_ctx)}}]{\setlength{\rightskip}{0pt plus 5cm}int proc\+\_\+send\+\_\+frame (
\begin{DoxyParamCaption}
\item[{{\bf proc\+\_\+ctx\+\_\+t} $\ast$}]{proc\+\_\+ctx, }
\item[{const {\bf proc\+\_\+frame\+\_\+ctx\+\_\+t} $\ast$}]{proc\+\_\+frame\+\_\+ctx}
\end{DoxyParamCaption}
)}\hypertarget{proc_8c_a4aa53aea57e2193cedf38b7e2003fac1}{}\label{proc_8c_a4aa53aea57e2193cedf38b7e2003fac1}
Put new frame of data to be processed in the processor\textquotesingle{}s input buffer. Unless unblocked (see processor options \textquotesingle{}\hyperlink{proc_8h_a0367a65712bcd2e762ec1e9e3035cb3b}{proc\+\_\+opt()}\textquotesingle{}), this function blocks until a slot is available to be able to push the new frame into the processor\textquotesingle{}s input buffer. This function is thread-\/safe and can be called concurrently. 
\begin{DoxyParams}{Parameters}
{\em proc\+\_\+ctx} & Pointer to the processor (P\+R\+OC) context structure obtained in a previous call to the \textquotesingle{}\hyperlink{proc_8h_a903e30d67b3e65f0711a87945be97cc4}{proc\+\_\+open()}\textquotesingle{} function. \\
\hline
{\em proc\+\_\+frame\+\_\+ctx} & Pointer to the structure characterizing the input frame to be processed. The frame is duplicated and inserted in the input buffer. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Status code (S\+T\+A\+T\+\_\+\+S\+U\+C\+C\+E\+SS code in case of success, for other code values please refer to .\hyperlink{stat__codes_8h}{stat\+\_\+codes.\+h}). 
\end{DoxyReturn}


Definition at line 287 of file proc.\+c.

\index{proc.\+c@{proc.\+c}!proc\+\_\+stats\+\_\+register\+\_\+accumulated\+\_\+io\+\_\+bits@{proc\+\_\+stats\+\_\+register\+\_\+accumulated\+\_\+io\+\_\+bits}}
\index{proc\+\_\+stats\+\_\+register\+\_\+accumulated\+\_\+io\+\_\+bits@{proc\+\_\+stats\+\_\+register\+\_\+accumulated\+\_\+io\+\_\+bits}!proc.\+c@{proc.\+c}}
\subsubsection[{\texorpdfstring{proc\+\_\+stats\+\_\+register\+\_\+accumulated\+\_\+io\+\_\+bits(proc\+\_\+ctx\+\_\+t $\ast$proc\+\_\+ctx, const proc\+\_\+frame\+\_\+ctx\+\_\+t $\ast$proc\+\_\+frame\+\_\+ctx, const proc\+\_\+io\+\_\+t proc\+\_\+io)}{proc_stats_register_accumulated_io_bits(proc_ctx_t *proc_ctx, const proc_frame_ctx_t *proc_frame_ctx, const proc_io_t proc_io)}}]{\setlength{\rightskip}{0pt plus 5cm}static void proc\+\_\+stats\+\_\+register\+\_\+accumulated\+\_\+io\+\_\+bits (
\begin{DoxyParamCaption}
\item[{{\bf proc\+\_\+ctx\+\_\+t} $\ast$}]{proc\+\_\+ctx, }
\item[{const {\bf proc\+\_\+frame\+\_\+ctx\+\_\+t} $\ast$}]{proc\+\_\+frame\+\_\+ctx, }
\item[{const {\bf proc\+\_\+io\+\_\+t}}]{proc\+\_\+io}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{proc_8c_a074bf2d0cf4ef1228a1c1d2aff100d93}{}\label{proc_8c_a074bf2d0cf4ef1228a1c1d2aff100d93}
Register accumulated input/output bits. This is used to compute bitrate statistics. 

Definition at line 828 of file proc.\+c.

\index{proc.\+c@{proc.\+c}!proc\+\_\+stats\+\_\+register\+\_\+frame\+\_\+pts@{proc\+\_\+stats\+\_\+register\+\_\+frame\+\_\+pts}}
\index{proc\+\_\+stats\+\_\+register\+\_\+frame\+\_\+pts@{proc\+\_\+stats\+\_\+register\+\_\+frame\+\_\+pts}!proc.\+c@{proc.\+c}}
\subsubsection[{\texorpdfstring{proc\+\_\+stats\+\_\+register\+\_\+frame\+\_\+pts(proc\+\_\+ctx\+\_\+t $\ast$proc\+\_\+ctx, const proc\+\_\+frame\+\_\+ctx\+\_\+t $\ast$proc\+\_\+frame\+\_\+ctx, const proc\+\_\+io\+\_\+t proc\+\_\+io)}{proc_stats_register_frame_pts(proc_ctx_t *proc_ctx, const proc_frame_ctx_t *proc_frame_ctx, const proc_io_t proc_io)}}]{\setlength{\rightskip}{0pt plus 5cm}static void proc\+\_\+stats\+\_\+register\+\_\+frame\+\_\+pts (
\begin{DoxyParamCaption}
\item[{{\bf proc\+\_\+ctx\+\_\+t} $\ast$}]{proc\+\_\+ctx, }
\item[{const {\bf proc\+\_\+frame\+\_\+ctx\+\_\+t} $\ast$}]{proc\+\_\+frame\+\_\+ctx, }
\item[{const {\bf proc\+\_\+io\+\_\+t}}]{proc\+\_\+io}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{proc_8c_a8108a21cdd295dab6a93f7c562e2919d}{}\label{proc_8c_a8108a21cdd295dab6a93f7c562e2919d}
Register frame presentation time stamp (P\+TS). 

Definition at line 793 of file proc.\+c.

\index{proc.\+c@{proc.\+c}!proc\+\_\+vopt@{proc\+\_\+vopt}}
\index{proc\+\_\+vopt@{proc\+\_\+vopt}!proc.\+c@{proc.\+c}}
\subsubsection[{\texorpdfstring{proc\+\_\+vopt(proc\+\_\+ctx\+\_\+t $\ast$proc\+\_\+ctx, const char $\ast$tag, va\+\_\+list arg)}{proc_vopt(proc_ctx_t *proc_ctx, const char *tag, va_list arg)}}]{\setlength{\rightskip}{0pt plus 5cm}int proc\+\_\+vopt (
\begin{DoxyParamCaption}
\item[{{\bf proc\+\_\+ctx\+\_\+t} $\ast$}]{proc\+\_\+ctx, }
\item[{const char $\ast$}]{tag, }
\item[{va\+\_\+list}]{arg}
\end{DoxyParamCaption}
)}\hypertarget{proc_8c_a720ee51d86625b42b09f508a13977f37}{}\label{proc_8c_a720ee51d86625b42b09f508a13977f37}
The function \textquotesingle{}\hyperlink{proc_8h_a720ee51d86625b42b09f508a13977f37}{proc\+\_\+vopt()}\textquotesingle{} is the same as \hyperlink{proc_8h_a0367a65712bcd2e762ec1e9e3035cb3b}{proc\+\_\+opt()} except that it is called with a va\+\_\+list instead of a variable number of arguments. This function does not call the va\+\_\+end macro. Because it invoke the va\+\_\+arg macro, the value of the argument pointer is undefined after the call. 

Definition at line 382 of file proc.\+c.

