\hypertarget{ffmpeg__video_8c}{}\section{ffmpeg\+\_\+video.\+c File Reference}
\label{ffmpeg__video_8c}\index{ffmpeg\+\_\+video.\+c@{ffmpeg\+\_\+video.\+c}}
{\ttfamily \#include \char`\"{}ffmpeg\+\_\+video.\+h\char`\"{}}\\*
{\ttfamily \#include $<$stdlib.\+h$>$}\\*
{\ttfamily \#include $<$unistd.\+h$>$}\\*
{\ttfamily \#include $<$string.\+h$>$}\\*
{\ttfamily \#include $<$pthread.\+h$>$}\\*
{\ttfamily \#include $<$libavformat/avformat.\+h$>$}\\*
{\ttfamily \#include $<$libavcodec/avcodec.\+h$>$}\\*
{\ttfamily \#include $<$libavutil/mathematics.\+h$>$}\\*
{\ttfamily \#include $<$libavutil/opt.\+h$>$}\\*
{\ttfamily \#include $<$libswscale/swscale.\+h$>$}\\*
{\ttfamily \#include $<$libmediaprocsutils/log.\+h$>$}\\*
{\ttfamily \#include $<$libmediaprocsutils/stat\+\_\+codes.\+h$>$}\\*
{\ttfamily \#include $<$libmediaprocsutils/check\+\_\+utils.\+h$>$}\\*
{\ttfamily \#include $<$libmediaprocsutils/fair\+\_\+lock.\+h$>$}\\*
{\ttfamily \#include $<$libmediaprocsutils/fifo.\+h$>$}\\*
{\ttfamily \#include $<$libmediaprocs/proc\+\_\+if.\+h$>$}\\*
{\ttfamily \#include $<$libmediaprocs/proc.\+h$>$}\\*
{\ttfamily \#include \char`\"{}proc\+\_\+frame\+\_\+2\+\_\+ffmpeg.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}video\+\_\+settings.\+h\char`\"{}}\\*
Include dependency graph for ffmpeg\+\_\+video.\+c\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{ffmpeg__video_8c__incl}
\end{center}
\end{figure}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{ffmpeg__video_8c_aef28d7e1c59b6ab290f7ff77ae81f0b7}{ffmpeg\+\_\+video\+\_\+enc\+\_\+ctx\+\_\+init} (\hyperlink{ffmpeg__video_8h_a9a43ab8a2600ec5e8e121e2cd263e9b6}{ffmpeg\+\_\+video\+\_\+enc\+\_\+ctx\+\_\+t} $\ast$ffmpeg\+\_\+video\+\_\+enc\+\_\+ctx, int avcodecid, const \hyperlink{structvideo__settings__enc__ctx__s}{video\+\_\+settings\+\_\+enc\+\_\+ctx\+\_\+t} $\ast$video\+\_\+settings\+\_\+enc\+\_\+ctx, \hyperlink{structlog__ctx__s}{log\+\_\+ctx\+\_\+t} $\ast$log\+\_\+ctx)
\item 
void \hyperlink{ffmpeg__video_8c_aa1fddf7245012f7442cbc5fb5384913a}{ffmpeg\+\_\+video\+\_\+enc\+\_\+ctx\+\_\+deinit} (\hyperlink{ffmpeg__video_8h_a9a43ab8a2600ec5e8e121e2cd263e9b6}{ffmpeg\+\_\+video\+\_\+enc\+\_\+ctx\+\_\+t} $\ast$ffmpeg\+\_\+video\+\_\+enc\+\_\+ctx, \hyperlink{structlog__ctx__s}{log\+\_\+ctx\+\_\+t} $\ast$log\+\_\+ctx)
\item 
int \hyperlink{ffmpeg__video_8c_a542e763436a285385842d0dc7955e1c9}{ffmpeg\+\_\+video\+\_\+enc\+\_\+frame} (\hyperlink{ffmpeg__video_8h_a9a43ab8a2600ec5e8e121e2cd263e9b6}{ffmpeg\+\_\+video\+\_\+enc\+\_\+ctx\+\_\+t} $\ast$ffmpeg\+\_\+video\+\_\+enc\+\_\+ctx, A\+V\+Frame $\ast$avframe\+\_\+iput, \hyperlink{structfifo__ctx__s}{fifo\+\_\+ctx\+\_\+t} $\ast$oput\+\_\+fifo\+\_\+ctx, \hyperlink{structlog__ctx__s}{log\+\_\+ctx\+\_\+t} $\ast$log\+\_\+ctx)
\item 
int \hyperlink{ffmpeg__video_8c_aa528e81f0d2fccef8595aa7d122d70a9}{ffmpeg\+\_\+video\+\_\+dec\+\_\+ctx\+\_\+init} (\hyperlink{ffmpeg__video_8h_aa87546d64b28ad11fab8bc9979aa9e5a}{ffmpeg\+\_\+video\+\_\+dec\+\_\+ctx\+\_\+t} $\ast$ffmpeg\+\_\+video\+\_\+dec\+\_\+ctx, int avcodecid, const \hyperlink{structvideo__settings__dec__ctx__s}{video\+\_\+settings\+\_\+dec\+\_\+ctx\+\_\+t} $\ast$video\+\_\+settings\+\_\+dec\+\_\+ctx, \hyperlink{structlog__ctx__s}{log\+\_\+ctx\+\_\+t} $\ast$log\+\_\+ctx)
\item 
void \hyperlink{ffmpeg__video_8c_ab11c523c9c7ee6212742491a86e32861}{ffmpeg\+\_\+video\+\_\+dec\+\_\+ctx\+\_\+deinit} (\hyperlink{ffmpeg__video_8h_aa87546d64b28ad11fab8bc9979aa9e5a}{ffmpeg\+\_\+video\+\_\+dec\+\_\+ctx\+\_\+t} $\ast$ffmpeg\+\_\+video\+\_\+dec\+\_\+ctx, \hyperlink{structlog__ctx__s}{log\+\_\+ctx\+\_\+t} $\ast$log\+\_\+ctx)
\item 
int \hyperlink{ffmpeg__video_8c_a413cae7bccb082aadb8236d3907c2c7e}{ffmpeg\+\_\+video\+\_\+dec\+\_\+frame} (\hyperlink{ffmpeg__video_8h_aa87546d64b28ad11fab8bc9979aa9e5a}{ffmpeg\+\_\+video\+\_\+dec\+\_\+ctx\+\_\+t} $\ast$ffmpeg\+\_\+video\+\_\+dec\+\_\+ctx, A\+V\+Packet $\ast$avpacket\+\_\+iput, \hyperlink{structfifo__ctx__s}{fifo\+\_\+ctx\+\_\+t} $\ast$oput\+\_\+fifo\+\_\+ctx, \hyperlink{structlog__ctx__s}{log\+\_\+ctx\+\_\+t} $\ast$log\+\_\+ctx)
\item 
void \hyperlink{ffmpeg__video_8c_ab757013d4419b49968d2bf42f86110d9}{ffmpeg\+\_\+video\+\_\+reset\+\_\+on\+\_\+new\+\_\+settings} (\hyperlink{proc_8h_ae264f89be30fc03f5053bc16d58cba05}{proc\+\_\+ctx\+\_\+t} $\ast$proc\+\_\+ctx, volatile void $\ast$video\+\_\+settings\+\_\+opaque, int flag\+\_\+is\+\_\+encoder, \hyperlink{structlog__ctx__s}{log\+\_\+ctx\+\_\+t} $\ast$log\+\_\+ctx)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\begin{DoxyAuthor}{Author}
Rafael Antoniello 
\end{DoxyAuthor}


\subsection{Function Documentation}
\index{ffmpeg\+\_\+video.\+c@{ffmpeg\+\_\+video.\+c}!ffmpeg\+\_\+video\+\_\+dec\+\_\+ctx\+\_\+deinit@{ffmpeg\+\_\+video\+\_\+dec\+\_\+ctx\+\_\+deinit}}
\index{ffmpeg\+\_\+video\+\_\+dec\+\_\+ctx\+\_\+deinit@{ffmpeg\+\_\+video\+\_\+dec\+\_\+ctx\+\_\+deinit}!ffmpeg\+\_\+video.\+c@{ffmpeg\+\_\+video.\+c}}
\subsubsection[{\texorpdfstring{ffmpeg\+\_\+video\+\_\+dec\+\_\+ctx\+\_\+deinit(ffmpeg\+\_\+video\+\_\+dec\+\_\+ctx\+\_\+t $\ast$ffmpeg\+\_\+video\+\_\+dec\+\_\+ctx, log\+\_\+ctx\+\_\+t $\ast$log\+\_\+ctx)}{ffmpeg_video_dec_ctx_deinit(ffmpeg_video_dec_ctx_t *ffmpeg_video_dec_ctx, log_ctx_t *log_ctx)}}]{\setlength{\rightskip}{0pt plus 5cm}void ffmpeg\+\_\+video\+\_\+dec\+\_\+ctx\+\_\+deinit (
\begin{DoxyParamCaption}
\item[{{\bf ffmpeg\+\_\+video\+\_\+dec\+\_\+ctx\+\_\+t} $\ast$}]{ffmpeg\+\_\+video\+\_\+dec\+\_\+ctx, }
\item[{{\bf log\+\_\+ctx\+\_\+t} $\ast$}]{log\+\_\+ctx}
\end{DoxyParamCaption}
)}\hypertarget{ffmpeg__video_8c_ab11c523c9c7ee6212742491a86e32861}{}\label{ffmpeg__video_8c_ab11c523c9c7ee6212742491a86e32861}
De-\/initialize F\+Fmpeg\textquotesingle{}s video decoding common context structure previously allocated by a call to \textquotesingle{}\hyperlink{ffmpeg__video_8h_aa528e81f0d2fccef8595aa7d122d70a9}{ffmpeg\+\_\+video\+\_\+dec\+\_\+ctx\+\_\+init()}\textquotesingle{}. This function release any heap-\/allocated field or structure member. 
\begin{DoxyParams}{Parameters}
{\em ffmpeg\+\_\+video\+\_\+dec\+\_\+ctx} & Pointer to the video decoding common context structure to be de-\/initialized. \\
\hline
{\em log\+\_\+ctx} & Externally defined L\+OG module context structure. \\
\hline
\end{DoxyParams}


Definition at line 403 of file ffmpeg\+\_\+video.\+c.

\index{ffmpeg\+\_\+video.\+c@{ffmpeg\+\_\+video.\+c}!ffmpeg\+\_\+video\+\_\+dec\+\_\+ctx\+\_\+init@{ffmpeg\+\_\+video\+\_\+dec\+\_\+ctx\+\_\+init}}
\index{ffmpeg\+\_\+video\+\_\+dec\+\_\+ctx\+\_\+init@{ffmpeg\+\_\+video\+\_\+dec\+\_\+ctx\+\_\+init}!ffmpeg\+\_\+video.\+c@{ffmpeg\+\_\+video.\+c}}
\subsubsection[{\texorpdfstring{ffmpeg\+\_\+video\+\_\+dec\+\_\+ctx\+\_\+init(ffmpeg\+\_\+video\+\_\+dec\+\_\+ctx\+\_\+t $\ast$ffmpeg\+\_\+video\+\_\+dec\+\_\+ctx, int avcodecid, const video\+\_\+settings\+\_\+dec\+\_\+ctx\+\_\+t $\ast$video\+\_\+settings\+\_\+dec\+\_\+ctx, log\+\_\+ctx\+\_\+t $\ast$log\+\_\+ctx)}{ffmpeg_video_dec_ctx_init(ffmpeg_video_dec_ctx_t *ffmpeg_video_dec_ctx, int avcodecid, const video_settings_dec_ctx_t *video_settings_dec_ctx, log_ctx_t *log_ctx)}}]{\setlength{\rightskip}{0pt plus 5cm}int ffmpeg\+\_\+video\+\_\+dec\+\_\+ctx\+\_\+init (
\begin{DoxyParamCaption}
\item[{{\bf ffmpeg\+\_\+video\+\_\+dec\+\_\+ctx\+\_\+t} $\ast$}]{ffmpeg\+\_\+video\+\_\+dec\+\_\+ctx, }
\item[{int}]{avcodecid, }
\item[{const {\bf video\+\_\+settings\+\_\+dec\+\_\+ctx\+\_\+t} $\ast$}]{video\+\_\+settings\+\_\+dec\+\_\+ctx, }
\item[{{\bf log\+\_\+ctx\+\_\+t} $\ast$}]{log\+\_\+ctx}
\end{DoxyParamCaption}
)}\hypertarget{ffmpeg__video_8c_aa528e81f0d2fccef8595aa7d122d70a9}{}\label{ffmpeg__video_8c_aa528e81f0d2fccef8595aa7d122d70a9}
Initialize F\+Fmpeg\textquotesingle{}s video decoding common context structure. 
\begin{DoxyParams}{Parameters}
{\em ffmpeg\+\_\+video\+\_\+dec\+\_\+ctx} & Pointer to the video decoding common context structure to be initialized. \\
\hline
{\em avcodecid} & Unambiguous decoder identifier (namely, the decoder type Id.). \\
\hline
{\em video\+\_\+settings\+\_\+dec\+\_\+ctx} & Pointer to the initial generic video decoder settings context structure. \\
\hline
{\em log\+\_\+ctx} & Externally defined L\+OG module context structure. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Status code (S\+T\+A\+T\+\_\+\+S\+U\+C\+C\+E\+SS code in case of success, for other code values please refer to .\hyperlink{stat__codes_8h}{stat\+\_\+codes.\+h}). 
\end{DoxyReturn}


Definition at line 348 of file ffmpeg\+\_\+video.\+c.

\index{ffmpeg\+\_\+video.\+c@{ffmpeg\+\_\+video.\+c}!ffmpeg\+\_\+video\+\_\+dec\+\_\+frame@{ffmpeg\+\_\+video\+\_\+dec\+\_\+frame}}
\index{ffmpeg\+\_\+video\+\_\+dec\+\_\+frame@{ffmpeg\+\_\+video\+\_\+dec\+\_\+frame}!ffmpeg\+\_\+video.\+c@{ffmpeg\+\_\+video.\+c}}
\subsubsection[{\texorpdfstring{ffmpeg\+\_\+video\+\_\+dec\+\_\+frame(ffmpeg\+\_\+video\+\_\+dec\+\_\+ctx\+\_\+t $\ast$ffmpeg\+\_\+video\+\_\+dec\+\_\+ctx, A\+V\+Packet $\ast$avpacket\+\_\+iput, fifo\+\_\+ctx\+\_\+t $\ast$oput\+\_\+fifo\+\_\+ctx, log\+\_\+ctx\+\_\+t $\ast$log\+\_\+ctx)}{ffmpeg_video_dec_frame(ffmpeg_video_dec_ctx_t *ffmpeg_video_dec_ctx, AVPacket *avpacket_iput, fifo_ctx_t *oput_fifo_ctx, log_ctx_t *log_ctx)}}]{\setlength{\rightskip}{0pt plus 5cm}int ffmpeg\+\_\+video\+\_\+dec\+\_\+frame (
\begin{DoxyParamCaption}
\item[{{\bf ffmpeg\+\_\+video\+\_\+dec\+\_\+ctx\+\_\+t} $\ast$}]{ffmpeg\+\_\+video\+\_\+dec\+\_\+ctx, }
\item[{A\+V\+Packet $\ast$}]{avpacket\+\_\+iput, }
\item[{{\bf fifo\+\_\+ctx\+\_\+t} $\ast$}]{oput\+\_\+fifo\+\_\+ctx, }
\item[{{\bf log\+\_\+ctx\+\_\+t} $\ast$}]{log\+\_\+ctx}
\end{DoxyParamCaption}
)}\hypertarget{ffmpeg__video_8c_a413cae7bccb082aadb8236d3907c2c7e}{}\label{ffmpeg__video_8c_a413cae7bccb082aadb8236d3907c2c7e}
Decode a complete video frame. If an output frame is produced, is written to the output F\+I\+FO buffer. 
\begin{DoxyParams}{Parameters}
{\em ffmpeg\+\_\+video\+\_\+dec\+\_\+ctx} & Pointer to the video decoding common context structure. \\
\hline
{\em avpacket\+\_\+iput} & Pointer to the (F\+Fmpeg\textquotesingle{}s) input packet structure. \\
\hline
{\em oput\+\_\+fifo\+\_\+ctx} & Pointer to the output F\+I\+FO buffer context structure. \\
\hline
{\em log\+\_\+ctx} & Externally defined L\+OG module context structure. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Status code (S\+T\+A\+T\+\_\+\+S\+U\+C\+C\+E\+SS code in case of success, for other code values please refer to .\hyperlink{stat__codes_8h}{stat\+\_\+codes.\+h}). 
\end{DoxyReturn}


Definition at line 413 of file ffmpeg\+\_\+video.\+c.

\index{ffmpeg\+\_\+video.\+c@{ffmpeg\+\_\+video.\+c}!ffmpeg\+\_\+video\+\_\+enc\+\_\+ctx\+\_\+deinit@{ffmpeg\+\_\+video\+\_\+enc\+\_\+ctx\+\_\+deinit}}
\index{ffmpeg\+\_\+video\+\_\+enc\+\_\+ctx\+\_\+deinit@{ffmpeg\+\_\+video\+\_\+enc\+\_\+ctx\+\_\+deinit}!ffmpeg\+\_\+video.\+c@{ffmpeg\+\_\+video.\+c}}
\subsubsection[{\texorpdfstring{ffmpeg\+\_\+video\+\_\+enc\+\_\+ctx\+\_\+deinit(ffmpeg\+\_\+video\+\_\+enc\+\_\+ctx\+\_\+t $\ast$ffmpeg\+\_\+video\+\_\+enc\+\_\+ctx, log\+\_\+ctx\+\_\+t $\ast$log\+\_\+ctx)}{ffmpeg_video_enc_ctx_deinit(ffmpeg_video_enc_ctx_t *ffmpeg_video_enc_ctx, log_ctx_t *log_ctx)}}]{\setlength{\rightskip}{0pt plus 5cm}void ffmpeg\+\_\+video\+\_\+enc\+\_\+ctx\+\_\+deinit (
\begin{DoxyParamCaption}
\item[{{\bf ffmpeg\+\_\+video\+\_\+enc\+\_\+ctx\+\_\+t} $\ast$}]{ffmpeg\+\_\+video\+\_\+enc\+\_\+ctx, }
\item[{{\bf log\+\_\+ctx\+\_\+t} $\ast$}]{log\+\_\+ctx}
\end{DoxyParamCaption}
)}\hypertarget{ffmpeg__video_8c_aa1fddf7245012f7442cbc5fb5384913a}{}\label{ffmpeg__video_8c_aa1fddf7245012f7442cbc5fb5384913a}
De-\/initialize F\+Fmpeg\textquotesingle{}s video encoding common context structure previously allocated by a call to \textquotesingle{}\hyperlink{ffmpeg__video_8h_aef28d7e1c59b6ab290f7ff77ae81f0b7}{ffmpeg\+\_\+video\+\_\+enc\+\_\+ctx\+\_\+init()}\textquotesingle{}. This function release any heap-\/allocated field or structure member. 
\begin{DoxyParams}{Parameters}
{\em ffmpeg\+\_\+video\+\_\+enc\+\_\+ctx} & Pointer to the video encoding common context structure to be de-\/initialized. \\
\hline
{\em log\+\_\+ctx} & Externally defined L\+OG module context structure. \\
\hline
\end{DoxyParams}


Definition at line 163 of file ffmpeg\+\_\+video.\+c.

\index{ffmpeg\+\_\+video.\+c@{ffmpeg\+\_\+video.\+c}!ffmpeg\+\_\+video\+\_\+enc\+\_\+ctx\+\_\+init@{ffmpeg\+\_\+video\+\_\+enc\+\_\+ctx\+\_\+init}}
\index{ffmpeg\+\_\+video\+\_\+enc\+\_\+ctx\+\_\+init@{ffmpeg\+\_\+video\+\_\+enc\+\_\+ctx\+\_\+init}!ffmpeg\+\_\+video.\+c@{ffmpeg\+\_\+video.\+c}}
\subsubsection[{\texorpdfstring{ffmpeg\+\_\+video\+\_\+enc\+\_\+ctx\+\_\+init(ffmpeg\+\_\+video\+\_\+enc\+\_\+ctx\+\_\+t $\ast$ffmpeg\+\_\+video\+\_\+enc\+\_\+ctx, int avcodecid, const video\+\_\+settings\+\_\+enc\+\_\+ctx\+\_\+t $\ast$video\+\_\+settings\+\_\+enc\+\_\+ctx, log\+\_\+ctx\+\_\+t $\ast$log\+\_\+ctx)}{ffmpeg_video_enc_ctx_init(ffmpeg_video_enc_ctx_t *ffmpeg_video_enc_ctx, int avcodecid, const video_settings_enc_ctx_t *video_settings_enc_ctx, log_ctx_t *log_ctx)}}]{\setlength{\rightskip}{0pt plus 5cm}int ffmpeg\+\_\+video\+\_\+enc\+\_\+ctx\+\_\+init (
\begin{DoxyParamCaption}
\item[{{\bf ffmpeg\+\_\+video\+\_\+enc\+\_\+ctx\+\_\+t} $\ast$}]{ffmpeg\+\_\+video\+\_\+enc\+\_\+ctx, }
\item[{int}]{avcodecid, }
\item[{const {\bf video\+\_\+settings\+\_\+enc\+\_\+ctx\+\_\+t} $\ast$}]{video\+\_\+settings\+\_\+enc\+\_\+ctx, }
\item[{{\bf log\+\_\+ctx\+\_\+t} $\ast$}]{log\+\_\+ctx}
\end{DoxyParamCaption}
)}\hypertarget{ffmpeg__video_8c_aef28d7e1c59b6ab290f7ff77ae81f0b7}{}\label{ffmpeg__video_8c_aef28d7e1c59b6ab290f7ff77ae81f0b7}
Initialize F\+Fmpeg\textquotesingle{}s video encoding common context structure. 
\begin{DoxyParams}{Parameters}
{\em ffmpeg\+\_\+video\+\_\+enc\+\_\+ctx} & Pointer to the video encoding common context structure to be initialized. \\
\hline
{\em avcodecid} & Unambiguous encoder identifier (namely, the encoder type Id.). \\
\hline
{\em video\+\_\+settings\+\_\+enc\+\_\+ctx} & Pointer to the initial generic video encoder settings context structure. \\
\hline
{\em log\+\_\+ctx} & Externally defined L\+OG module context structure. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Status code (S\+T\+A\+T\+\_\+\+S\+U\+C\+C\+E\+SS code in case of success, for other code values please refer to .\hyperlink{stat__codes_8h}{stat\+\_\+codes.\+h}). 
\end{DoxyReturn}


Definition at line 53 of file ffmpeg\+\_\+video.\+c.

\index{ffmpeg\+\_\+video.\+c@{ffmpeg\+\_\+video.\+c}!ffmpeg\+\_\+video\+\_\+enc\+\_\+frame@{ffmpeg\+\_\+video\+\_\+enc\+\_\+frame}}
\index{ffmpeg\+\_\+video\+\_\+enc\+\_\+frame@{ffmpeg\+\_\+video\+\_\+enc\+\_\+frame}!ffmpeg\+\_\+video.\+c@{ffmpeg\+\_\+video.\+c}}
\subsubsection[{\texorpdfstring{ffmpeg\+\_\+video\+\_\+enc\+\_\+frame(ffmpeg\+\_\+video\+\_\+enc\+\_\+ctx\+\_\+t $\ast$ffmpeg\+\_\+video\+\_\+enc\+\_\+ctx, A\+V\+Frame $\ast$avframe\+\_\+iput, fifo\+\_\+ctx\+\_\+t $\ast$oput\+\_\+fifo\+\_\+ctx, log\+\_\+ctx\+\_\+t $\ast$log\+\_\+ctx)}{ffmpeg_video_enc_frame(ffmpeg_video_enc_ctx_t *ffmpeg_video_enc_ctx, AVFrame *avframe_iput, fifo_ctx_t *oput_fifo_ctx, log_ctx_t *log_ctx)}}]{\setlength{\rightskip}{0pt plus 5cm}int ffmpeg\+\_\+video\+\_\+enc\+\_\+frame (
\begin{DoxyParamCaption}
\item[{{\bf ffmpeg\+\_\+video\+\_\+enc\+\_\+ctx\+\_\+t} $\ast$}]{ffmpeg\+\_\+video\+\_\+enc\+\_\+ctx, }
\item[{A\+V\+Frame $\ast$}]{avframe\+\_\+iput, }
\item[{{\bf fifo\+\_\+ctx\+\_\+t} $\ast$}]{oput\+\_\+fifo\+\_\+ctx, }
\item[{{\bf log\+\_\+ctx\+\_\+t} $\ast$}]{log\+\_\+ctx}
\end{DoxyParamCaption}
)}\hypertarget{ffmpeg__video_8c_a542e763436a285385842d0dc7955e1c9}{}\label{ffmpeg__video_8c_a542e763436a285385842d0dc7955e1c9}
Encode a complete video frame. If an output frame is produced, is written to the output F\+I\+FO buffer. 
\begin{DoxyParams}{Parameters}
{\em ffmpeg\+\_\+video\+\_\+enc\+\_\+ctx} & Pointer to the video encoding common context structure. \\
\hline
{\em avframe\+\_\+iput} & Pointer to the (F\+Fmpeg\textquotesingle{}s) input frame structure. \\
\hline
{\em oput\+\_\+fifo\+\_\+ctx} & Pointer to the output F\+I\+FO buffer context structure. \\
\hline
{\em log\+\_\+ctx} & Externally defined L\+OG module context structure. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Status code (S\+T\+A\+T\+\_\+\+S\+U\+C\+C\+E\+SS code in case of success, for other code values please refer to .\hyperlink{stat__codes_8h}{stat\+\_\+codes.\+h}). 
\end{DoxyReturn}


Definition at line 186 of file ffmpeg\+\_\+video.\+c.

\index{ffmpeg\+\_\+video.\+c@{ffmpeg\+\_\+video.\+c}!ffmpeg\+\_\+video\+\_\+reset\+\_\+on\+\_\+new\+\_\+settings@{ffmpeg\+\_\+video\+\_\+reset\+\_\+on\+\_\+new\+\_\+settings}}
\index{ffmpeg\+\_\+video\+\_\+reset\+\_\+on\+\_\+new\+\_\+settings@{ffmpeg\+\_\+video\+\_\+reset\+\_\+on\+\_\+new\+\_\+settings}!ffmpeg\+\_\+video.\+c@{ffmpeg\+\_\+video.\+c}}
\subsubsection[{\texorpdfstring{ffmpeg\+\_\+video\+\_\+reset\+\_\+on\+\_\+new\+\_\+settings(proc\+\_\+ctx\+\_\+t $\ast$proc\+\_\+ctx, volatile void $\ast$video\+\_\+settings\+\_\+opaque, int flag\+\_\+is\+\_\+encoder, log\+\_\+ctx\+\_\+t $\ast$log\+\_\+ctx)}{ffmpeg_video_reset_on_new_settings(proc_ctx_t *proc_ctx, volatile void *video_settings_opaque, int flag_is_encoder, log_ctx_t *log_ctx)}}]{\setlength{\rightskip}{0pt plus 5cm}void ffmpeg\+\_\+video\+\_\+reset\+\_\+on\+\_\+new\+\_\+settings (
\begin{DoxyParamCaption}
\item[{{\bf proc\+\_\+ctx\+\_\+t} $\ast$}]{proc\+\_\+ctx, }
\item[{volatile void $\ast$}]{video\+\_\+settings\+\_\+opaque, }
\item[{int}]{flag\+\_\+is\+\_\+encoder, }
\item[{{\bf log\+\_\+ctx\+\_\+t} $\ast$}]{log\+\_\+ctx}
\end{DoxyParamCaption}
)}\hypertarget{ffmpeg__video_8c_ab757013d4419b49968d2bf42f86110d9}{}\label{ffmpeg__video_8c_ab757013d4419b49968d2bf42f86110d9}
F\+Fmpeg video C\+O\+D\+E\+CS are not generally designed to accept changing settings on run-\/time. Thus, we have to reset (that is, de-\/initialize and re-\/initialize) the C\+O\+D\+EC to set new settings while running the processor. 
\begin{DoxyParams}{Parameters}
{\em proc\+\_\+ctx} & Pointer to the processor (P\+R\+OC) context structure \\
\hline
{\em video\+\_\+settings\+\_\+opaque} & Opaque pointer to be casted either to an encoder or decoder video settings context structure. \\
\hline
{\em flag\+\_\+is\+\_\+encoder} & Set to non-\/zero to signal that we are resetting an encoder, set to zero to identify a decoder. \\
\hline
{\em log\+\_\+ctx} & Pointer to the L\+OG module context structure. \\
\hline
\end{DoxyParams}


Definition at line 495 of file ffmpeg\+\_\+video.\+c.

