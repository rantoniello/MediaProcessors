\hypertarget{procs_8c}{}\section{procs.\+c File Reference}
\label{procs_8c}\index{procs.\+c@{procs.\+c}}
{\ttfamily \#include \char`\"{}procs.\+h\char`\"{}}\\*
{\ttfamily \#include $<$stdio.\+h$>$}\\*
{\ttfamily \#include $<$stdlib.\+h$>$}\\*
{\ttfamily \#include $<$unistd.\+h$>$}\\*
{\ttfamily \#include $<$stdarg.\+h$>$}\\*
{\ttfamily \#include $<$string.\+h$>$}\\*
{\ttfamily \#include $<$pthread.\+h$>$}\\*
{\ttfamily \#include $<$errno.\+h$>$}\\*
{\ttfamily \#include $<$ctype.\+h$>$}\\*
{\ttfamily \#include $<$libcjson/c\+J\+S\+O\+N.\+h$>$}\\*
{\ttfamily \#include $<$libmediaprocsutils/uri\+\_\+parser.\+h$>$}\\*
{\ttfamily \#include $<$libmediaprocsutils/log.\+h$>$}\\*
{\ttfamily \#include $<$libmediaprocsutils/stat\+\_\+codes.\+h$>$}\\*
{\ttfamily \#include $<$libmediaprocsutils/check\+\_\+utils.\+h$>$}\\*
{\ttfamily \#include $<$libmediaprocsutils/fair\+\_\+lock.\+h$>$}\\*
{\ttfamily \#include $<$libmediaprocsutils/llist.\+h$>$}\\*
{\ttfamily \#include \char`\"{}proc.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}proc\+\_\+if.\+h\char`\"{}}\\*
Include dependency graph for procs.\+c\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{procs_8c__incl}
\end{center}
\end{figure}
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structprocs__module__ctx__s}{procs\+\_\+module\+\_\+ctx\+\_\+s}
\item 
struct \hyperlink{structprocs__reg__elem__s}{procs\+\_\+reg\+\_\+elem\+\_\+s}
\item 
struct \hyperlink{structprocs__ctx__s}{procs\+\_\+ctx\+\_\+s}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define {\bfseries L\+O\+G\+D\+\_\+\+C\+T\+X\+\_\+\+I\+N\+IT}(C\+TX)\hypertarget{procs_8c_a78f3ba7226e65b5f2d9efd92036d689e}{}\label{procs_8c_a78f3ba7226e65b5f2d9efd92036d689e}

\item 
\#define {\bfseries L\+O\+GD}(...)\hypertarget{procs_8c_aa839997a58e14061861cd634fdb7664d}{}\label{procs_8c_aa839997a58e14061861cd634fdb7664d}

\item 
\#define \hyperlink{procs_8c_a8995a191e541088a47aec1798a8cec4b}{T\+A\+G\+\_\+\+H\+AS}(N\+E\+E\+D\+LE)~(strstr(tag, N\+E\+E\+D\+LE)!= N\+U\+LL)
\item 
\#define \hyperlink{procs_8c_a914faae84f39085695352bd45c0fca62}{T\+A\+G\+\_\+\+IS}(T\+AG)~(strcmp(tag, T\+AG)== 0)
\item 
\#define \hyperlink{procs_8c_abdd647e5ff1dd03cfe69fa57635e9537}{L\+O\+C\+K\+\_\+\+P\+R\+O\+C\+S\+\_\+\+C\+T\+X\+\_\+\+A\+PI}(P\+R\+O\+C\+S\+\_\+\+C\+TX)~\hyperlink{check__utils_8h_a903f9b298be75defd8a3043ebf62bd99}{A\+S\+S\+E\+RT}(pthread\+\_\+mutex\+\_\+lock(\&P\+R\+O\+C\+S\+\_\+\+C\+TX-\/$>$api\+\_\+mutex)== 0);
\item 
\#define \hyperlink{procs_8c_a3b0b901e6ac0fdd66da8f50f84a9d58a}{U\+N\+L\+O\+C\+K\+\_\+\+P\+R\+O\+C\+S\+\_\+\+C\+T\+X\+\_\+\+A\+PI}(P\+R\+O\+C\+S\+\_\+\+C\+TX)~\hyperlink{check__utils_8h_a903f9b298be75defd8a3043ebf62bd99}{A\+S\+S\+E\+RT}(pthread\+\_\+mutex\+\_\+unlock(\&P\+R\+O\+C\+S\+\_\+\+C\+TX-\/$>$api\+\_\+mutex)== 0);
\item 
\#define \hyperlink{procs_8c_a008ef319327fe7b221f460a34ace3c4d}{L\+O\+C\+K\+\_\+\+P\+R\+O\+C\+S\+\_\+\+R\+E\+G\+\_\+\+E\+L\+E\+M\+\_\+\+A\+PI}(P\+R\+O\+C\+S\+\_\+\+C\+TX,  R\+E\+G\+\_\+\+E\+L\+EM,  E\+X\+I\+T\+\_\+\+C\+O\+D\+E\+\_\+\+O\+N\+\_\+\+F\+A\+I\+L\+U\+RE)
\item 
\#define \hyperlink{procs_8c_aa7da6bd2b61be2ae1325d7eb349bc6f0}{U\+N\+L\+O\+C\+K\+\_\+\+P\+R\+O\+C\+S\+\_\+\+R\+E\+G\+\_\+\+E\+L\+E\+M\+\_\+\+A\+PI}(R\+E\+G\+\_\+\+E\+L\+EM)~\hyperlink{check__utils_8h_a903f9b298be75defd8a3043ebf62bd99}{A\+S\+S\+E\+RT}(pthread\+\_\+mutex\+\_\+unlock(\&R\+E\+G\+\_\+\+E\+L\+EM-\/$>$api\+\_\+mutex)== 0);
\item 
\#define \hyperlink{procs_8c_a3ed23854256df248c5c1352b3999275e}{P\+R\+O\+C\+S\+\_\+\+M\+A\+X\+\_\+\+N\+U\+M\+\_\+\+P\+R\+O\+C\+\_\+\+I\+N\+S\+T\+A\+N\+C\+ES}~8192
\item 
\#define {\bfseries P\+R\+O\+C\+S\+\_\+\+F\+I\+F\+O\+\_\+\+S\+I\+ZE}~2\hypertarget{procs_8c_a979ef9763a231c76f8155bbac05ea794}{}\label{procs_8c_a979ef9763a231c76f8155bbac05ea794}

\item 
\#define {\bfseries P\+R\+O\+C\+\_\+\+I\+D\+\_\+\+S\+T\+R\+\_\+\+F\+MT}~\char`\"{}\{\textbackslash{}\char`\"{}proc\+\_\+id\textbackslash{}\char`\"{}\+:\%d\}\char`\"{}\hypertarget{procs_8c_a54cbf5496734caa93dd096e26a796049}{}\label{procs_8c_a54cbf5496734caa93dd096e26a796049}

\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct \hyperlink{structprocs__module__ctx__s}{procs\+\_\+module\+\_\+ctx\+\_\+s} \hyperlink{procs_8c_ad411ade07d8515e93bc2e7abf2b1e765}{procs\+\_\+module\+\_\+ctx\+\_\+t}
\item 
typedef struct \hyperlink{structprocs__reg__elem__s}{procs\+\_\+reg\+\_\+elem\+\_\+s} \hyperlink{procs_8c_a63a78f7c86536e71715f3fcef28e11c5}{procs\+\_\+reg\+\_\+elem\+\_\+t}
\item 
typedef struct \hyperlink{structprocs__ctx__s}{procs\+\_\+ctx\+\_\+s} \hyperlink{procs_8c_a9dcafd40720bff127bdc596e9c6dd6cd}{procs\+\_\+ctx\+\_\+t}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
static int {\bfseries register\+\_\+proc\+\_\+if} (const \hyperlink{proc_8h_a679816cf30e0b7a8f3e7464e67a6a844}{proc\+\_\+if\+\_\+t} $\ast$proc\+\_\+if, \hyperlink{structlog__ctx__s}{log\+\_\+ctx\+\_\+t} $\ast$log\+\_\+ctx)\hypertarget{procs_8c_ab5f644ff5e87916d152879ca131a827c}{}\label{procs_8c_ab5f644ff5e87916d152879ca131a827c}

\item 
static int {\bfseries unregister\+\_\+proc\+\_\+if} (const char $\ast$proc\+\_\+name, \hyperlink{structlog__ctx__s}{log\+\_\+ctx\+\_\+t} $\ast$log\+\_\+ctx)\hypertarget{procs_8c_a3c9a7c73a16cf28685b33f74981027d0}{}\label{procs_8c_a3c9a7c73a16cf28685b33f74981027d0}

\item 
static const \hyperlink{proc_8h_a679816cf30e0b7a8f3e7464e67a6a844}{proc\+\_\+if\+\_\+t} $\ast$ {\bfseries get\+\_\+proc\+\_\+if\+\_\+by\+\_\+name} (const char $\ast$proc\+\_\+name, \hyperlink{structlog__ctx__s}{log\+\_\+ctx\+\_\+t} $\ast$log\+\_\+ctx)\hypertarget{procs_8c_a6bb3b1f779018a66c2733b5fbd11b90c}{}\label{procs_8c_a6bb3b1f779018a66c2733b5fbd11b90c}

\item 
static int {\bfseries procs\+\_\+instance\+\_\+opt} (\hyperlink{procs_8c_a9dcafd40720bff127bdc596e9c6dd6cd}{procs\+\_\+ctx\+\_\+t} $\ast$procs\+\_\+ctx, const char $\ast$tag, \hyperlink{structlog__ctx__s}{log\+\_\+ctx\+\_\+t} $\ast$log\+\_\+ctx, va\+\_\+list arg)\hypertarget{procs_8c_a036dcc658ae54a6f39ad6fd68fe9fb83}{}\label{procs_8c_a036dcc658ae54a6f39ad6fd68fe9fb83}

\item 
static int {\bfseries procs\+\_\+rest\+\_\+get} (\hyperlink{procs_8c_a9dcafd40720bff127bdc596e9c6dd6cd}{procs\+\_\+ctx\+\_\+t} $\ast$procs\+\_\+ctx, \hyperlink{structlog__ctx__s}{log\+\_\+ctx\+\_\+t} $\ast$log\+\_\+ctx, char $\ast$$\ast$ref\+\_\+rest\+\_\+str, const char $\ast$filter\+\_\+str)\hypertarget{procs_8c_a9ee758d039dc408ea9ee8eae94db3da1}{}\label{procs_8c_a9ee758d039dc408ea9ee8eae94db3da1}

\item 
static int {\bfseries proc\+\_\+register} (\hyperlink{procs_8c_a9dcafd40720bff127bdc596e9c6dd6cd}{procs\+\_\+ctx\+\_\+t} $\ast$procs\+\_\+ctx, const char $\ast$proc\+\_\+name, const char $\ast$settings\+\_\+str, \hyperlink{structlog__ctx__s}{log\+\_\+ctx\+\_\+t} $\ast$log\+\_\+ctx, int $\ast$ref\+\_\+id, va\+\_\+list arg)\hypertarget{procs_8c_a240395d512aeacbb8fc4592569277ff8}{}\label{procs_8c_a240395d512aeacbb8fc4592569277ff8}

\item 
static int {\bfseries proc\+\_\+unregister} (\hyperlink{procs_8c_a9dcafd40720bff127bdc596e9c6dd6cd}{procs\+\_\+ctx\+\_\+t} $\ast$procs\+\_\+ctx, int id, \hyperlink{structlog__ctx__s}{log\+\_\+ctx\+\_\+t} $\ast$log\+\_\+ctx)\hypertarget{procs_8c_a44272abea454d2cdc836da60087c9285}{}\label{procs_8c_a44272abea454d2cdc836da60087c9285}

\item 
static int {\bfseries procs\+\_\+id\+\_\+opt} (\hyperlink{procs_8c_a9dcafd40720bff127bdc596e9c6dd6cd}{procs\+\_\+ctx\+\_\+t} $\ast$procs\+\_\+ctx, const char $\ast$tag, \hyperlink{structlog__ctx__s}{log\+\_\+ctx\+\_\+t} $\ast$log\+\_\+ctx, va\+\_\+list arg)\hypertarget{procs_8c_a1ee8f0ae39dd325c1df3b3ae05b1deeb}{}\label{procs_8c_a1ee8f0ae39dd325c1df3b3ae05b1deeb}

\item 
static int {\bfseries procs\+\_\+id\+\_\+get} (\hyperlink{procs_8c_a63a78f7c86536e71715f3fcef28e11c5}{procs\+\_\+reg\+\_\+elem\+\_\+t} $\ast$procs\+\_\+reg\+\_\+elem, \hyperlink{proc_8h_ae264f89be30fc03f5053bc16d58cba05}{proc\+\_\+ctx\+\_\+t} $\ast$proc\+\_\+ctx, \hyperlink{structlog__ctx__s}{log\+\_\+ctx\+\_\+t} $\ast$log\+\_\+ctx, void $\ast$$\ast$ref\+\_\+reponse)\hypertarget{procs_8c_a45c91e47e9ccbb3eee39f70d2e76d5dc}{}\label{procs_8c_a45c91e47e9ccbb3eee39f70d2e76d5dc}

\item 
static \hyperlink{proc_8h_ae264f89be30fc03f5053bc16d58cba05}{proc\+\_\+ctx\+\_\+t} $\ast$ \hyperlink{procs_8c_a6c006d44b4e414ce9cfb73cedf5e74b5}{procs\+\_\+id\+\_\+opt\+\_\+fetch\+\_\+proc\+\_\+ctx} (\hyperlink{procs_8c_a9dcafd40720bff127bdc596e9c6dd6cd}{procs\+\_\+ctx\+\_\+t} $\ast$procs\+\_\+ctx, int proc\+\_\+id, const char $\ast$tag, va\+\_\+list arg, \hyperlink{structlog__ctx__s}{log\+\_\+ctx\+\_\+t} $\ast$log\+\_\+ctx)
\item 
int \hyperlink{procs_8c_af5f91a46882b5706b25327384ba347d8}{procs\+\_\+module\+\_\+open} (\hyperlink{structlog__ctx__s}{log\+\_\+ctx\+\_\+t} $\ast$log\+\_\+ctx)
\item 
void \hyperlink{procs_8c_a0947527d95117e432f21354103c390a6}{procs\+\_\+module\+\_\+close} ()
\item 
int \hyperlink{procs_8c_a226ac6dfd7598a59b9ceab3a92239a80}{procs\+\_\+module\+\_\+opt} (const char $\ast$tag,...)
\item 
\hyperlink{procs_8c_a9dcafd40720bff127bdc596e9c6dd6cd}{procs\+\_\+ctx\+\_\+t} $\ast$ \hyperlink{procs_8c_ac44b6ac931afbeadeb7f07b660e30bac}{procs\+\_\+open} (\hyperlink{structlog__ctx__s}{log\+\_\+ctx\+\_\+t} $\ast$log\+\_\+ctx, size\+\_\+t max\+\_\+procs\+\_\+num, const char $\ast$prefix\+\_\+name, const char $\ast$procs\+\_\+href)
\item 
void \hyperlink{procs_8c_a0806c10ed3203ce53115ffb1a89e83d3}{procs\+\_\+close} (\hyperlink{procs_8c_a9dcafd40720bff127bdc596e9c6dd6cd}{procs\+\_\+ctx\+\_\+t} $\ast$$\ast$ref\+\_\+procs\+\_\+ctx)
\item 
int \hyperlink{procs_8c_a7af2e6f2788006cfc96ca8d811922ffa}{procs\+\_\+opt} (\hyperlink{procs_8c_a9dcafd40720bff127bdc596e9c6dd6cd}{procs\+\_\+ctx\+\_\+t} $\ast$procs\+\_\+ctx, const char $\ast$tag,...)
\item 
int \hyperlink{procs_8c_aef6df524cba850594fa9fa23715ca3af}{procs\+\_\+send\+\_\+frame} (\hyperlink{procs_8c_a9dcafd40720bff127bdc596e9c6dd6cd}{procs\+\_\+ctx\+\_\+t} $\ast$procs\+\_\+ctx, int proc\+\_\+id, const \hyperlink{structproc__frame__ctx__s}{proc\+\_\+frame\+\_\+ctx\+\_\+t} $\ast$proc\+\_\+frame\+\_\+ctx)
\item 
int \hyperlink{procs_8c_a5be3851dc586c77c4ac8bb31654a6e2a}{procs\+\_\+recv\+\_\+frame} (\hyperlink{procs_8c_a9dcafd40720bff127bdc596e9c6dd6cd}{procs\+\_\+ctx\+\_\+t} $\ast$procs\+\_\+ctx, int proc\+\_\+id, \hyperlink{structproc__frame__ctx__s}{proc\+\_\+frame\+\_\+ctx\+\_\+t} $\ast$$\ast$ref\+\_\+proc\+\_\+frame\+\_\+ctx)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{procs_8c_ad411ade07d8515e93bc2e7abf2b1e765}{procs\+\_\+module\+\_\+ctx\+\_\+t} $\ast$ \hyperlink{procs_8c_a5e1a3210584f8735da101ba984f5e4aa}{procs\+\_\+module\+\_\+ctx} = N\+U\+LL
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\begin{DoxyAuthor}{Author}
Rafael Antoniello 
\end{DoxyAuthor}


\subsection{Macro Definition Documentation}
\index{procs.\+c@{procs.\+c}!L\+O\+C\+K\+\_\+\+P\+R\+O\+C\+S\+\_\+\+C\+T\+X\+\_\+\+A\+PI@{L\+O\+C\+K\+\_\+\+P\+R\+O\+C\+S\+\_\+\+C\+T\+X\+\_\+\+A\+PI}}
\index{L\+O\+C\+K\+\_\+\+P\+R\+O\+C\+S\+\_\+\+C\+T\+X\+\_\+\+A\+PI@{L\+O\+C\+K\+\_\+\+P\+R\+O\+C\+S\+\_\+\+C\+T\+X\+\_\+\+A\+PI}!procs.\+c@{procs.\+c}}
\subsubsection[{\texorpdfstring{L\+O\+C\+K\+\_\+\+P\+R\+O\+C\+S\+\_\+\+C\+T\+X\+\_\+\+A\+PI}{LOCK_PROCS_CTX_API}}]{\setlength{\rightskip}{0pt plus 5cm}\#define L\+O\+C\+K\+\_\+\+P\+R\+O\+C\+S\+\_\+\+C\+T\+X\+\_\+\+A\+PI(
\begin{DoxyParamCaption}
\item[{}]{P\+R\+O\+C\+S\+\_\+\+C\+TX}
\end{DoxyParamCaption}
)~{\bf A\+S\+S\+E\+RT}(pthread\+\_\+mutex\+\_\+lock(\&P\+R\+O\+C\+S\+\_\+\+C\+TX-\/$>$api\+\_\+mutex)== 0);}\hypertarget{procs_8c_abdd647e5ff1dd03cfe69fa57635e9537}{}\label{procs_8c_abdd647e5ff1dd03cfe69fa57635e9537}
Macro\+: lock P\+R\+O\+CS module {\itshape instance} A\+PI critical section. 

Definition at line 71 of file procs.\+c.

\index{procs.\+c@{procs.\+c}!L\+O\+C\+K\+\_\+\+P\+R\+O\+C\+S\+\_\+\+R\+E\+G\+\_\+\+E\+L\+E\+M\+\_\+\+A\+PI@{L\+O\+C\+K\+\_\+\+P\+R\+O\+C\+S\+\_\+\+R\+E\+G\+\_\+\+E\+L\+E\+M\+\_\+\+A\+PI}}
\index{L\+O\+C\+K\+\_\+\+P\+R\+O\+C\+S\+\_\+\+R\+E\+G\+\_\+\+E\+L\+E\+M\+\_\+\+A\+PI@{L\+O\+C\+K\+\_\+\+P\+R\+O\+C\+S\+\_\+\+R\+E\+G\+\_\+\+E\+L\+E\+M\+\_\+\+A\+PI}!procs.\+c@{procs.\+c}}
\subsubsection[{\texorpdfstring{L\+O\+C\+K\+\_\+\+P\+R\+O\+C\+S\+\_\+\+R\+E\+G\+\_\+\+E\+L\+E\+M\+\_\+\+A\+PI}{LOCK_PROCS_REG_ELEM_API}}]{\setlength{\rightskip}{0pt plus 5cm}\#define L\+O\+C\+K\+\_\+\+P\+R\+O\+C\+S\+\_\+\+R\+E\+G\+\_\+\+E\+L\+E\+M\+\_\+\+A\+PI(
\begin{DoxyParamCaption}
\item[{}]{P\+R\+O\+C\+S\+\_\+\+C\+TX, }
\item[{}]{R\+E\+G\+\_\+\+E\+L\+EM, }
\item[{}]{E\+X\+I\+T\+\_\+\+C\+O\+D\+E\+\_\+\+O\+N\+\_\+\+F\+A\+I\+L\+U\+RE}
\end{DoxyParamCaption}
)}\hypertarget{procs_8c_a008ef319327fe7b221f460a34ace3c4d}{}\label{procs_8c_a008ef319327fe7b221f460a34ace3c4d}
{\bfseries Value\+:}
\begin{DoxyCode}
\textcolor{keywordflow}{if}(pthread\_mutex\_trylock(&PROCS\_CTX->api\_mutex)!= EBUSY) \{\(\backslash\)
        EXIT\_CODE\_ON\_FAILURE;\(\backslash\)
    \}\hyperlink{check__utils_8h_a903f9b298be75defd8a3043ebf62bd99}{\(\backslash\)}
\hyperlink{check__utils_8h_a903f9b298be75defd8a3043ebf62bd99}{    ASSERT}(pthread\_mutex\_lock(&REG\_ELEM->api\_mutex)== 0);
\end{DoxyCode}
Macro\+: lock P\+R\+O\+CS instance {\itshape register element} A\+PI critical section. It is important to remark that this macro is thought to make sure the developer lock {\itshape instance} A\+PI critical section first. 

Definition at line 85 of file procs.\+c.

\index{procs.\+c@{procs.\+c}!P\+R\+O\+C\+S\+\_\+\+M\+A\+X\+\_\+\+N\+U\+M\+\_\+\+P\+R\+O\+C\+\_\+\+I\+N\+S\+T\+A\+N\+C\+ES@{P\+R\+O\+C\+S\+\_\+\+M\+A\+X\+\_\+\+N\+U\+M\+\_\+\+P\+R\+O\+C\+\_\+\+I\+N\+S\+T\+A\+N\+C\+ES}}
\index{P\+R\+O\+C\+S\+\_\+\+M\+A\+X\+\_\+\+N\+U\+M\+\_\+\+P\+R\+O\+C\+\_\+\+I\+N\+S\+T\+A\+N\+C\+ES@{P\+R\+O\+C\+S\+\_\+\+M\+A\+X\+\_\+\+N\+U\+M\+\_\+\+P\+R\+O\+C\+\_\+\+I\+N\+S\+T\+A\+N\+C\+ES}!procs.\+c@{procs.\+c}}
\subsubsection[{\texorpdfstring{P\+R\+O\+C\+S\+\_\+\+M\+A\+X\+\_\+\+N\+U\+M\+\_\+\+P\+R\+O\+C\+\_\+\+I\+N\+S\+T\+A\+N\+C\+ES}{PROCS_MAX_NUM_PROC_INSTANCES}}]{\setlength{\rightskip}{0pt plus 5cm}\#define P\+R\+O\+C\+S\+\_\+\+M\+A\+X\+\_\+\+N\+U\+M\+\_\+\+P\+R\+O\+C\+\_\+\+I\+N\+S\+T\+A\+N\+C\+ES~8192}\hypertarget{procs_8c_a3ed23854256df248c5c1352b3999275e}{}\label{procs_8c_a3ed23854256df248c5c1352b3999275e}
Limit value for the maximum number of processors that can be instantiated in the system. This value may be just modified, in compilation, if needed. 

Definition at line 102 of file procs.\+c.

\index{procs.\+c@{procs.\+c}!T\+A\+G\+\_\+\+H\+AS@{T\+A\+G\+\_\+\+H\+AS}}
\index{T\+A\+G\+\_\+\+H\+AS@{T\+A\+G\+\_\+\+H\+AS}!procs.\+c@{procs.\+c}}
\subsubsection[{\texorpdfstring{T\+A\+G\+\_\+\+H\+AS}{TAG_HAS}}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\+A\+G\+\_\+\+H\+AS(
\begin{DoxyParamCaption}
\item[{}]{N\+E\+E\+D\+LE}
\end{DoxyParamCaption}
)~(strstr(tag, N\+E\+E\+D\+LE)!= N\+U\+LL)}\hypertarget{procs_8c_a8995a191e541088a47aec1798a8cec4b}{}\label{procs_8c_a8995a191e541088a47aec1798a8cec4b}
Returns non-\/zero if given \textquotesingle{}tag\textquotesingle{} string contains \textquotesingle{}needle\textquotesingle{} sub-\/string. 

Definition at line 61 of file procs.\+c.

\index{procs.\+c@{procs.\+c}!T\+A\+G\+\_\+\+IS@{T\+A\+G\+\_\+\+IS}}
\index{T\+A\+G\+\_\+\+IS@{T\+A\+G\+\_\+\+IS}!procs.\+c@{procs.\+c}}
\subsubsection[{\texorpdfstring{T\+A\+G\+\_\+\+IS}{TAG_IS}}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\+A\+G\+\_\+\+IS(
\begin{DoxyParamCaption}
\item[{}]{T\+AG}
\end{DoxyParamCaption}
)~(strcmp(tag, T\+AG)== 0)}\hypertarget{procs_8c_a914faae84f39085695352bd45c0fca62}{}\label{procs_8c_a914faae84f39085695352bd45c0fca62}
Returns non-\/zero if \textquotesingle{}tag\textquotesingle{} string is equal to given T\+AG string. 

Definition at line 66 of file procs.\+c.

\index{procs.\+c@{procs.\+c}!U\+N\+L\+O\+C\+K\+\_\+\+P\+R\+O\+C\+S\+\_\+\+C\+T\+X\+\_\+\+A\+PI@{U\+N\+L\+O\+C\+K\+\_\+\+P\+R\+O\+C\+S\+\_\+\+C\+T\+X\+\_\+\+A\+PI}}
\index{U\+N\+L\+O\+C\+K\+\_\+\+P\+R\+O\+C\+S\+\_\+\+C\+T\+X\+\_\+\+A\+PI@{U\+N\+L\+O\+C\+K\+\_\+\+P\+R\+O\+C\+S\+\_\+\+C\+T\+X\+\_\+\+A\+PI}!procs.\+c@{procs.\+c}}
\subsubsection[{\texorpdfstring{U\+N\+L\+O\+C\+K\+\_\+\+P\+R\+O\+C\+S\+\_\+\+C\+T\+X\+\_\+\+A\+PI}{UNLOCK_PROCS_CTX_API}}]{\setlength{\rightskip}{0pt plus 5cm}\#define U\+N\+L\+O\+C\+K\+\_\+\+P\+R\+O\+C\+S\+\_\+\+C\+T\+X\+\_\+\+A\+PI(
\begin{DoxyParamCaption}
\item[{}]{P\+R\+O\+C\+S\+\_\+\+C\+TX}
\end{DoxyParamCaption}
)~{\bf A\+S\+S\+E\+RT}(pthread\+\_\+mutex\+\_\+unlock(\&P\+R\+O\+C\+S\+\_\+\+C\+TX-\/$>$api\+\_\+mutex)== 0);}\hypertarget{procs_8c_a3b0b901e6ac0fdd66da8f50f84a9d58a}{}\label{procs_8c_a3b0b901e6ac0fdd66da8f50f84a9d58a}
Macro\+: unlock P\+R\+O\+CS module {\itshape instance} A\+PI critical section. 

Definition at line 77 of file procs.\+c.

\index{procs.\+c@{procs.\+c}!U\+N\+L\+O\+C\+K\+\_\+\+P\+R\+O\+C\+S\+\_\+\+R\+E\+G\+\_\+\+E\+L\+E\+M\+\_\+\+A\+PI@{U\+N\+L\+O\+C\+K\+\_\+\+P\+R\+O\+C\+S\+\_\+\+R\+E\+G\+\_\+\+E\+L\+E\+M\+\_\+\+A\+PI}}
\index{U\+N\+L\+O\+C\+K\+\_\+\+P\+R\+O\+C\+S\+\_\+\+R\+E\+G\+\_\+\+E\+L\+E\+M\+\_\+\+A\+PI@{U\+N\+L\+O\+C\+K\+\_\+\+P\+R\+O\+C\+S\+\_\+\+R\+E\+G\+\_\+\+E\+L\+E\+M\+\_\+\+A\+PI}!procs.\+c@{procs.\+c}}
\subsubsection[{\texorpdfstring{U\+N\+L\+O\+C\+K\+\_\+\+P\+R\+O\+C\+S\+\_\+\+R\+E\+G\+\_\+\+E\+L\+E\+M\+\_\+\+A\+PI}{UNLOCK_PROCS_REG_ELEM_API}}]{\setlength{\rightskip}{0pt plus 5cm}\#define U\+N\+L\+O\+C\+K\+\_\+\+P\+R\+O\+C\+S\+\_\+\+R\+E\+G\+\_\+\+E\+L\+E\+M\+\_\+\+A\+PI(
\begin{DoxyParamCaption}
\item[{}]{R\+E\+G\+\_\+\+E\+L\+EM}
\end{DoxyParamCaption}
)~{\bf A\+S\+S\+E\+RT}(pthread\+\_\+mutex\+\_\+unlock(\&R\+E\+G\+\_\+\+E\+L\+EM-\/$>$api\+\_\+mutex)== 0);}\hypertarget{procs_8c_aa7da6bd2b61be2ae1325d7eb349bc6f0}{}\label{procs_8c_aa7da6bd2b61be2ae1325d7eb349bc6f0}
Macro\+: unlock P\+R\+O\+CS instance {\itshape register element} A\+PI critical section. 

Definition at line 94 of file procs.\+c.



\subsection{Typedef Documentation}
\index{procs.\+c@{procs.\+c}!procs\+\_\+ctx\+\_\+t@{procs\+\_\+ctx\+\_\+t}}
\index{procs\+\_\+ctx\+\_\+t@{procs\+\_\+ctx\+\_\+t}!procs.\+c@{procs.\+c}}
\subsubsection[{\texorpdfstring{procs\+\_\+ctx\+\_\+t}{procs_ctx_t}}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf procs\+\_\+ctx\+\_\+s}  {\bf procs\+\_\+ctx\+\_\+t}}\hypertarget{procs_8c_a9dcafd40720bff127bdc596e9c6dd6cd}{}\label{procs_8c_a9dcafd40720bff127bdc596e9c6dd6cd}
Module\textquotesingle{}s instance context structure. P\+R\+O\+CS module context structure is statically defined in the program. \index{procs.\+c@{procs.\+c}!procs\+\_\+module\+\_\+ctx\+\_\+t@{procs\+\_\+module\+\_\+ctx\+\_\+t}}
\index{procs\+\_\+module\+\_\+ctx\+\_\+t@{procs\+\_\+module\+\_\+ctx\+\_\+t}!procs.\+c@{procs.\+c}}
\subsubsection[{\texorpdfstring{procs\+\_\+module\+\_\+ctx\+\_\+t}{procs_module_ctx_t}}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf procs\+\_\+module\+\_\+ctx\+\_\+s}  {\bf procs\+\_\+module\+\_\+ctx\+\_\+t}}\hypertarget{procs_8c_ad411ade07d8515e93bc2e7abf2b1e765}{}\label{procs_8c_ad411ade07d8515e93bc2e7abf2b1e765}
Module\textquotesingle{}s context structure. P\+R\+O\+CS module context structure is statically defined in the program. \index{procs.\+c@{procs.\+c}!procs\+\_\+reg\+\_\+elem\+\_\+t@{procs\+\_\+reg\+\_\+elem\+\_\+t}}
\index{procs\+\_\+reg\+\_\+elem\+\_\+t@{procs\+\_\+reg\+\_\+elem\+\_\+t}!procs.\+c@{procs.\+c}}
\subsubsection[{\texorpdfstring{procs\+\_\+reg\+\_\+elem\+\_\+t}{procs_reg_elem_t}}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf procs\+\_\+reg\+\_\+elem\+\_\+s}  {\bf procs\+\_\+reg\+\_\+elem\+\_\+t}}\hypertarget{procs_8c_a63a78f7c86536e71715f3fcef28e11c5}{}\label{procs_8c_a63a78f7c86536e71715f3fcef28e11c5}
Processors registration structure. 

\subsection{Function Documentation}
\index{procs.\+c@{procs.\+c}!procs\+\_\+close@{procs\+\_\+close}}
\index{procs\+\_\+close@{procs\+\_\+close}!procs.\+c@{procs.\+c}}
\subsubsection[{\texorpdfstring{procs\+\_\+close(procs\+\_\+ctx\+\_\+t $\ast$$\ast$ref\+\_\+procs\+\_\+ctx)}{procs_close(procs_ctx_t **ref_procs_ctx)}}]{\setlength{\rightskip}{0pt plus 5cm}void procs\+\_\+close (
\begin{DoxyParamCaption}
\item[{{\bf procs\+\_\+ctx\+\_\+t} $\ast$$\ast$}]{ref\+\_\+procs\+\_\+ctx}
\end{DoxyParamCaption}
)}\hypertarget{procs_8c_a0806c10ed3203ce53115ffb1a89e83d3}{}\label{procs_8c_a0806c10ed3203ce53115ffb1a89e83d3}
De-\/initialize and release the processors (P\+R\+O\+CS) module instance context structure. 
\begin{DoxyParams}{Parameters}
{\em ref\+\_\+procs\+\_\+ctx} & Reference to the pointer to the processors (P\+R\+O\+CS) module instance context structure to be release, obtained in a previous call to the \textquotesingle{}\hyperlink{procs_8h_ac44b6ac931afbeadeb7f07b660e30bac}{procs\+\_\+open()}\textquotesingle{} function. Pointer is set to N\+U\+LL on return. \\
\hline
\end{DoxyParams}


Definition at line 417 of file procs.\+c.

\index{procs.\+c@{procs.\+c}!procs\+\_\+id\+\_\+opt\+\_\+fetch\+\_\+proc\+\_\+ctx@{procs\+\_\+id\+\_\+opt\+\_\+fetch\+\_\+proc\+\_\+ctx}}
\index{procs\+\_\+id\+\_\+opt\+\_\+fetch\+\_\+proc\+\_\+ctx@{procs\+\_\+id\+\_\+opt\+\_\+fetch\+\_\+proc\+\_\+ctx}!procs.\+c@{procs.\+c}}
\subsubsection[{\texorpdfstring{procs\+\_\+id\+\_\+opt\+\_\+fetch\+\_\+proc\+\_\+ctx(procs\+\_\+ctx\+\_\+t $\ast$procs\+\_\+ctx, int proc\+\_\+id, const char $\ast$tag, va\+\_\+list arg, log\+\_\+ctx\+\_\+t $\ast$log\+\_\+ctx)}{procs_id_opt_fetch_proc_ctx(procs_ctx_t *procs_ctx, int proc_id, const char *tag, va_list arg, log_ctx_t *log_ctx)}}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf proc\+\_\+ctx\+\_\+t} $\ast$ procs\+\_\+id\+\_\+opt\+\_\+fetch\+\_\+proc\+\_\+ctx (
\begin{DoxyParamCaption}
\item[{{\bf procs\+\_\+ctx\+\_\+t} $\ast$}]{procs\+\_\+ctx, }
\item[{int}]{proc\+\_\+id, }
\item[{const char $\ast$}]{tag, }
\item[{va\+\_\+list}]{arg, }
\item[{{\bf log\+\_\+ctx\+\_\+t} $\ast$}]{log\+\_\+ctx}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{procs_8c_a6c006d44b4e414ce9cfb73cedf5e74b5}{}\label{procs_8c_a6c006d44b4e414ce9cfb73cedf5e74b5}
This function fetches the processor context structure to be used for A\+PI options requests. As a special case to take into account, this function checks if a new processor name is specified on an eventual P\+UT settings (namely, it checks if \textquotesingle{}proc\+\_\+name\textquotesingle{} setting is present on a P\+UT operation, and if it is the case, checks if \textquotesingle{}proc\+\_\+name\textquotesingle{} actually changes). If a new processor name is requested, the current processor should be released and substituted by a new processor of the new type given (recycling the same processors register slot). Substituted processor settings are backup, and set to the new one. This way, if some setting on the old processor apply, will be set on the new processor. Otherwise, not applicable settings will be just ignored. 

Definition at line 1218 of file procs.\+c.

\index{procs.\+c@{procs.\+c}!procs\+\_\+module\+\_\+close@{procs\+\_\+module\+\_\+close}}
\index{procs\+\_\+module\+\_\+close@{procs\+\_\+module\+\_\+close}!procs.\+c@{procs.\+c}}
\subsubsection[{\texorpdfstring{procs\+\_\+module\+\_\+close()}{procs_module_close()}}]{\setlength{\rightskip}{0pt plus 5cm}void procs\+\_\+module\+\_\+close (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{procs_8c_a0947527d95117e432f21354103c390a6}{}\label{procs_8c_a0947527d95117e432f21354103c390a6}
Close P\+R\+O\+CS module. This is a global function and should be called only once at the end of the life of the application. 

Definition at line 273 of file procs.\+c.

\index{procs.\+c@{procs.\+c}!procs\+\_\+module\+\_\+open@{procs\+\_\+module\+\_\+open}}
\index{procs\+\_\+module\+\_\+open@{procs\+\_\+module\+\_\+open}!procs.\+c@{procs.\+c}}
\subsubsection[{\texorpdfstring{procs\+\_\+module\+\_\+open(log\+\_\+ctx\+\_\+t $\ast$log\+\_\+ctx)}{procs_module_open(log_ctx_t *log_ctx)}}]{\setlength{\rightskip}{0pt plus 5cm}int procs\+\_\+module\+\_\+open (
\begin{DoxyParamCaption}
\item[{{\bf log\+\_\+ctx\+\_\+t} $\ast$}]{log\+\_\+ctx}
\end{DoxyParamCaption}
)}\hypertarget{procs_8c_af5f91a46882b5706b25327384ba347d8}{}\label{procs_8c_af5f91a46882b5706b25327384ba347d8}
Open P\+R\+O\+CS module. This is a global function and should be called only once at the very beginning and during the life of the application. 
\begin{DoxyParams}{Parameters}
{\em log\+\_\+ctx} & Pointer to a externally defined L\+OG module context structure. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Status code (S\+T\+A\+T\+\_\+\+S\+U\+C\+C\+E\+SS code in case of success, for other code values please refer to .\hyperlink{stat__codes_8h}{stat\+\_\+codes.\+h}). 
\end{DoxyReturn}


Definition at line 244 of file procs.\+c.

\index{procs.\+c@{procs.\+c}!procs\+\_\+module\+\_\+opt@{procs\+\_\+module\+\_\+opt}}
\index{procs\+\_\+module\+\_\+opt@{procs\+\_\+module\+\_\+opt}!procs.\+c@{procs.\+c}}
\subsubsection[{\texorpdfstring{procs\+\_\+module\+\_\+opt(const char $\ast$tag,...)}{procs_module_opt(const char *tag,...)}}]{\setlength{\rightskip}{0pt plus 5cm}int procs\+\_\+module\+\_\+opt (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{tag, }
\item[{}]{...}
\end{DoxyParamCaption}
)}\hypertarget{procs_8c_a226ac6dfd7598a59b9ceab3a92239a80}{}\label{procs_8c_a226ac6dfd7598a59b9ceab3a92239a80}
Processors module options. This function represents the A\+PI of the P\+R\+O\+CS module. This function is thread-\/safe and can be called concurrently.


\begin{DoxyParams}{Parameters}
{\em tag} & Processors option tag, namely, option identifier string. The following options are available\+:
\begin{DoxyEnumerate}
\item \char`\"{}\+P\+R\+O\+C\+S\+\_\+\+R\+E\+G\+I\+S\+T\+E\+R\+\_\+\+T\+Y\+P\+E\char`\"{}
\item \char`\"{}\+P\+R\+O\+C\+S\+\_\+\+U\+N\+R\+E\+G\+I\+S\+T\+E\+R\+\_\+\+T\+Y\+P\+E\char`\"{}
\end{DoxyEnumerate}\\
\hline
{\em ...} & Variable list of parameters according to selected option. Refer to {\bfseries Tags description} below to see the different additional parameters corresponding to each option tag. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Status code (S\+T\+A\+T\+\_\+\+S\+U\+C\+C\+E\+SS code in case of success, for other code values please refer to .\hyperlink{stat__codes_8h}{stat\+\_\+codes.\+h}).
\end{DoxyReturn}
\paragraph*{Tags description (additional variable arguments per tag)}


\begin{DoxyItemize}
\item {\bfseries Tag \char`\"{}\+P\+R\+O\+C\+S\+\_\+\+R\+E\+G\+I\+S\+T\+E\+R\+\_\+\+T\+Y\+P\+E\char`\"{}\+:}~\newline
 Register the interface of an specific processor type.~\newline
 Additional variable arguments for function \hyperlink{procs_8h_a226ac6dfd7598a59b9ceab3a92239a80}{procs\+\_\+module\+\_\+opt()} are\+:~\newline
 
\begin{DoxyParams}{Parameters}
{\em proc\+\_\+if} & Pointer to the processor interface structure (static and unambiguous interface of the type of processor we are registering). Code example\+: 
\begin{DoxyCode}
1 ...
2 const proc\_if\_t proc\_if\_bypass\_proc= \{
3     "bypass\_processor",
4     bypass\_proc\_open,
5     bypass\_proc\_close,
6     bypass\_proc\_rest\_put,
7     bypass\_proc\_rest\_get,
8     bypass\_proc\_process\_frame,
9     bypass\_proc\_opt,
10     NULL, NULL, NULL
11 \};
12 ...
13 ret\_code= procs\_module\_opt("PROCS\_REGISTER\_TYPE", &proc\_if\_bypass\_proc);
\end{DoxyCode}
\\
\hline
\end{DoxyParams}

\item {\bfseries Tag \char`\"{}\+P\+R\+O\+C\+S\+\_\+\+U\+N\+R\+E\+G\+I\+S\+T\+E\+R\+\_\+\+T\+Y\+P\+E\char`\"{}\+:}~\newline
 Unregister interface of an specific processor type.~\newline
 Additional variable arguments for function \hyperlink{procs_8h_a226ac6dfd7598a59b9ceab3a92239a80}{procs\+\_\+module\+\_\+opt()} are\+:~\newline
 
\begin{DoxyParams}{Parameters}
{\em proc\+\_\+name} & Pointer to a character string with the unambiguous processor type name. Code example\+: 
\begin{DoxyCode}
1 ret\_code= procs\_module\_opt("PROCS\_UNREGISTER\_TYPE", "bypass\_processor");
\end{DoxyCode}
 \\
\hline
\end{DoxyParams}

\end{DoxyItemize}

{\bfseries Tag \char`\"{}\+P\+R\+O\+C\+S\+\_\+\+G\+E\+T\+\_\+\+T\+Y\+P\+E\char`\"{}\+:}~\newline
 Get a copy of the interface of an specific processor type.~\newline
 Additional variable arguments for function \hyperlink{procs_8h_a226ac6dfd7598a59b9ceab3a92239a80}{procs\+\_\+module\+\_\+opt()} are\+:~\newline
 
\begin{DoxyParams}{Parameters}
{\em proc\+\_\+name} & Pointer to a character string with the unambiguous processor type name. \\
\hline
{\em ref\+\_\+proc\+\_\+if\+\_\+cpy} & Reference to the pointer to the copy of the requested processor interface context structure. If the requested processor exist, a copy of the context structure will be returned by this argument; otherwise, reference content will be set to N\+U\+LL. Code example\+: 
\begin{DoxyCode}
1 proc\_if\_t *proc\_if\_cpy= NULL;
2 ...
3 ret\_code= procs\_module\_opt("PROCS\_GET\_TYPE", "bypass\_processor",
4         &proc\_if\_cpy);
\end{DoxyCode}
  \\
\hline
\end{DoxyParams}


Definition at line 294 of file procs.\+c.

\index{procs.\+c@{procs.\+c}!procs\+\_\+open@{procs\+\_\+open}}
\index{procs\+\_\+open@{procs\+\_\+open}!procs.\+c@{procs.\+c}}
\subsubsection[{\texorpdfstring{procs\+\_\+open(log\+\_\+ctx\+\_\+t $\ast$log\+\_\+ctx, size\+\_\+t max\+\_\+procs\+\_\+num, const char $\ast$prefix\+\_\+name, const char $\ast$procs\+\_\+href)}{procs_open(log_ctx_t *log_ctx, size_t max_procs_num, const char *prefix_name, const char *procs_href)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf procs\+\_\+ctx\+\_\+t}$\ast$ procs\+\_\+open (
\begin{DoxyParamCaption}
\item[{{\bf log\+\_\+ctx\+\_\+t} $\ast$}]{log\+\_\+ctx, }
\item[{size\+\_\+t}]{max\+\_\+procs\+\_\+num, }
\item[{const char $\ast$}]{prefix\+\_\+name, }
\item[{const char $\ast$}]{procs\+\_\+href}
\end{DoxyParamCaption}
)}\hypertarget{procs_8c_ac44b6ac931afbeadeb7f07b660e30bac}{}\label{procs_8c_ac44b6ac931afbeadeb7f07b660e30bac}
Allocates and initializes processors (P\+R\+O\+CS) module instance context structure. 
\begin{DoxyParams}{Parameters}
{\em log\+\_\+ctx} & Pointer to the L\+OG module context structure. \\
\hline
{\em max\+\_\+procs\+\_\+num} & Maximum number of processors that can be created (and managed) by this instance. \\
\hline
{\em prefix\+\_\+name} & Module\textquotesingle{}s A\+PI R\+E\+ST prefix name (256 characters maximum). This parameter is optional (N\+U\+LL may be passed); if not specified, the default name \char`\"{}procs\char`\"{} is used. \\
\hline
{\em procs\+\_\+href} & Module\textquotesingle{}s A\+PI R\+E\+ST href attribute specifying the U\+RL path the A\+PI refers to. This parameter is optional (N\+U\+LL may be passed). \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Pointer to the processors context structure on success, N\+U\+LL if fails. Code example\+:~\newline
 The following call creates a \char`\"{}processors module instance\char`\"{} capable of handling 16 processors. Prefix name \char`\"{}video\+\_\+processors\char`\"{} suggest we will use this module instance to handle only \char`\"{}video processors\char`\"{}, and we give an href such that the module\textquotesingle{}s A\+PI may be used applying on the following U\+RL\+: G\+E\+T/\+P\+U\+T/\+P\+O\+S\+T/\+D\+E\+L\+E\+TE -\/$>$ 127.\+0.\+0.\+1/video\+\_\+processors.json~\newline
 
\begin{DoxyCode}
1 procs\_ctx\_t *procs\_ctx;
2 ...
3 procs\_ctx= procs\_open(log\_ctx, 16, "video\_processors", "127.0.0.1");
\end{DoxyCode}
 
\end{DoxyReturn}


Definition at line 336 of file procs.\+c.

\index{procs.\+c@{procs.\+c}!procs\+\_\+opt@{procs\+\_\+opt}}
\index{procs\+\_\+opt@{procs\+\_\+opt}!procs.\+c@{procs.\+c}}
\subsubsection[{\texorpdfstring{procs\+\_\+opt(procs\+\_\+ctx\+\_\+t $\ast$procs\+\_\+ctx, const char $\ast$tag,...)}{procs_opt(procs_ctx_t *procs_ctx, const char *tag,...)}}]{\setlength{\rightskip}{0pt plus 5cm}int procs\+\_\+opt (
\begin{DoxyParamCaption}
\item[{{\bf procs\+\_\+ctx\+\_\+t} $\ast$}]{procs\+\_\+ctx, }
\item[{const char $\ast$}]{tag, }
\item[{}]{...}
\end{DoxyParamCaption}
)}\hypertarget{procs_8c_a7af2e6f2788006cfc96ca8d811922ffa}{}\label{procs_8c_a7af2e6f2788006cfc96ca8d811922ffa}
Processors module instance options. This function represents the A\+PI of the P\+R\+O\+CS module instance, and exposes all the available options to operate the different processors instances. This function is thread-\/safe and can be called concurrently.


\begin{DoxyParams}{Parameters}
{\em procs\+\_\+ctx} & Pointer to the processors (P\+R\+O\+CS) module instance context structure. \\
\hline
{\em tag} & Processors option tag, namely, option identifier string. The following options are available\+:
\begin{DoxyEnumerate}
\item \char`\"{}\+P\+R\+O\+C\+S\+\_\+\+P\+O\+S\+T\char`\"{}
\item \char`\"{}\+P\+R\+O\+C\+S\+\_\+\+G\+E\+T\char`\"{}
\item \char`\"{}\+P\+R\+O\+C\+S\+\_\+\+I\+D\+\_\+\+D\+E\+L\+E\+T\+E\char`\"{}
\item \char`\"{}\+P\+R\+O\+C\+S\+\_\+\+I\+D\+\_\+\+G\+E\+T\char`\"{}
\item \char`\"{}\+P\+R\+O\+C\+S\+\_\+\+I\+D\+\_\+\+P\+U\+T\char`\"{}
\end{DoxyEnumerate}\\
\hline
{\em ...} & Variable list of parameters according to selected option. Refer to {\bfseries Tags description} below to see the different additional parameters corresponding to each option tag. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Status code (S\+T\+A\+T\+\_\+\+S\+U\+C\+C\+E\+SS code in case of success, for other code values please refer to .\hyperlink{stat__codes_8h}{stat\+\_\+codes.\+h}).
\end{DoxyReturn}
\paragraph*{Tags description (additional variable arguments per tag)}


\begin{DoxyItemize}
\item {\bfseries Tag \char`\"{}\+P\+R\+O\+C\+S\+\_\+\+P\+O\+S\+T\char`\"{}\+:}~\newline
 Instantiate and register new processor.~\newline
 Additional variable arguments for function \hyperlink{procs_8h_a7af2e6f2788006cfc96ca8d811922ffa}{procs\+\_\+opt()} are\+:~\newline
 
\begin{DoxyParams}{Parameters}
{\em proc\+\_\+name} & Pointer to a character string with the unambiguous processor type name. \\
\hline
{\em settings\+\_\+str} & Character string containing initial settings for the processor. String format can be either a query-\/string or J\+S\+ON. \\
\hline
{\em rest\+\_\+str} & Reference to the pointer to a character string returning the processor identifier in J\+S\+ON format as follows\+: \textquotesingle{}\{\char`\"{}proc\+\_\+id\char`\"{}\+:id\+\_\+number\}\textquotesingle{} Code example\+: 
\begin{DoxyCode}
1 char *rest\_str= NULL;
2 ...
3 ret\_code= procs\_opt(procs\_ctx, "PROCS\_POST", "bypass\_processor",
4     "setting1=100", &rest\_str);
\end{DoxyCode}
\\
\hline
\end{DoxyParams}

\item {\bfseries Tag \char`\"{}\+P\+R\+O\+C\+S\+\_\+\+G\+E\+T\char`\"{}\+:}~\newline
 Get the representational state of the processors instances list.~\newline
 Additional variable arguments for function \hyperlink{procs_8h_a7af2e6f2788006cfc96ca8d811922ffa}{procs\+\_\+opt()} are\+:~\newline
 
\begin{DoxyParams}{Parameters}
{\em ref\+\_\+str} & Reference to the pointer to a character string returning the processors list representational state. \\
\hline
{\em filter\+\_\+str} & Character string indicating one of the following filters apply\+:
\begin{DoxyItemize}
\item \char`\"{}proc\+\_\+name==x\char`\"{}\+: Filter the returning list discarding all the processors that are not of the type \textquotesingle{}x\textquotesingle{};
\item \char`\"{}proc\+\_\+name!=x\char`\"{}\+: Filter the returning list discarding all the processors that {\itshape are} of the type \textquotesingle{}x\textquotesingle{}. This parameter is optional, and can be set to N\+U\+LL (no filter apply). Code example\+: 
\begin{DoxyCode}
1 char *rest\_str= NULL;
2 ...
3 ret\_code= procs\_opt(procs\_ctx, "PROCS\_GET", &rest\_str, NULL);
\end{DoxyCode}

\end{DoxyItemize}\\
\hline
\end{DoxyParams}

\item {\bfseries Tag \char`\"{}\+P\+R\+O\+C\+S\+\_\+\+I\+D\+\_\+\+D\+E\+L\+E\+T\+E\char`\"{}\+:}~\newline
 Unregister and release a processor instance.~\newline
 Additional variable arguments for function \hyperlink{procs_8h_a7af2e6f2788006cfc96ca8d811922ffa}{procs\+\_\+opt()} are\+:~\newline
 
\begin{DoxyParams}{Parameters}
{\em proc\+\_\+id} & Processor instance unambiguous Id. Code example\+: 
\begin{DoxyCode}
1 ret\_code= procs\_opt(procs\_ctx, "PROCS\_ID\_DELETE", proc\_id);
\end{DoxyCode}
\\
\hline
\end{DoxyParams}

\item {\bfseries Tag \char`\"{}\+P\+R\+O\+C\+S\+\_\+\+I\+D\+\_\+\+G\+E\+T\char`\"{}\+:}~\newline
 Get the representational state of a processor instance (including current settings).~\newline
 Additional variable arguments for function \hyperlink{procs_8h_a7af2e6f2788006cfc96ca8d811922ffa}{procs\+\_\+opt()} are\+:~\newline
 
\begin{DoxyParams}{Parameters}
{\em proc\+\_\+id} & Processor instance unambiguous Id. \\
\hline
{\em ref\+\_\+str} & Reference to the pointer to a character string returning the processor\textquotesingle{}s representational state. Code example\+: 
\begin{DoxyCode}
1 char *rest\_str= NULL;
2 ...
3 ret\_code= procs\_opt(procs\_ctx, "PROCS\_ID\_GET", proc\_id, &rest\_str);
\end{DoxyCode}
\\
\hline
\end{DoxyParams}

\item {\bfseries Tag \char`\"{}\+P\+R\+O\+C\+S\+\_\+\+I\+D\+\_\+\+P\+U\+T\char`\"{}\+:}~\newline
 Put (pass) new settings to a processor instance.~\newline
 Additional variable arguments for function \hyperlink{procs_8h_a7af2e6f2788006cfc96ca8d811922ffa}{procs\+\_\+opt()} are\+:~\newline
 
\begin{DoxyParams}{Parameters}
{\em proc\+\_\+id} & Processor instance unambiguous Id. \\
\hline
{\em str} & Pointer to a character string containing new settings for the processor instance. String format can be either a query-\/string or J\+S\+ON. Code example\+: 
\begin{DoxyCode}
1 ret\_code= procs\_opt(procs\_ctx, "PROCS\_ID\_PUT", proc\_id, "setting1=100");
\end{DoxyCode}
 \\
\hline
\end{DoxyParams}

\end{DoxyItemize}

Definition at line 474 of file procs.\+c.

\index{procs.\+c@{procs.\+c}!procs\+\_\+recv\+\_\+frame@{procs\+\_\+recv\+\_\+frame}}
\index{procs\+\_\+recv\+\_\+frame@{procs\+\_\+recv\+\_\+frame}!procs.\+c@{procs.\+c}}
\subsubsection[{\texorpdfstring{procs\+\_\+recv\+\_\+frame(procs\+\_\+ctx\+\_\+t $\ast$procs\+\_\+ctx, int proc\+\_\+id, proc\+\_\+frame\+\_\+ctx\+\_\+t $\ast$$\ast$ref\+\_\+proc\+\_\+frame\+\_\+ctx)}{procs_recv_frame(procs_ctx_t *procs_ctx, int proc_id, proc_frame_ctx_t **ref_proc_frame_ctx)}}]{\setlength{\rightskip}{0pt plus 5cm}int procs\+\_\+recv\+\_\+frame (
\begin{DoxyParamCaption}
\item[{{\bf procs\+\_\+ctx\+\_\+t} $\ast$}]{procs\+\_\+ctx, }
\item[{int}]{proc\+\_\+id, }
\item[{{\bf proc\+\_\+frame\+\_\+ctx\+\_\+t} $\ast$$\ast$}]{ref\+\_\+proc\+\_\+frame\+\_\+ctx}
\end{DoxyParamCaption}
)}\hypertarget{procs_8c_a5be3851dc586c77c4ac8bb31654a6e2a}{}\label{procs_8c_a5be3851dc586c77c4ac8bb31654a6e2a}
Get new processed frame of data from the indicated processor\textquotesingle{}s output F\+I\+FO buffer (the processor instance is indicated by the processor Id.). This function blocks until a new frame is available to be read from the processor\textquotesingle{}s output F\+I\+FO. To unblock this function, the corresponding processor instance should be deleted. This function is thread-\/safe and can be called concurrently. 
\begin{DoxyParams}{Parameters}
{\em procs\+\_\+ctx} & Pointer to the processors (P\+R\+O\+CS) module instance context structure. \\
\hline
{\em proc\+\_\+id} & Processor instance unambiguous Id. \\
\hline
{\em ref\+\_\+proc\+\_\+frame\+\_\+ctx} & Reference to the pointer to a structure characterizing the output processed frame. This function will return the processed frame passing its structure pointer by argument. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Status code (S\+T\+A\+T\+\_\+\+S\+U\+C\+C\+E\+SS code in case of success, for other code values please refer to .\hyperlink{stat__codes_8h}{stat\+\_\+codes.\+h}). 
\end{DoxyReturn}


Definition at line 545 of file procs.\+c.

\index{procs.\+c@{procs.\+c}!procs\+\_\+send\+\_\+frame@{procs\+\_\+send\+\_\+frame}}
\index{procs\+\_\+send\+\_\+frame@{procs\+\_\+send\+\_\+frame}!procs.\+c@{procs.\+c}}
\subsubsection[{\texorpdfstring{procs\+\_\+send\+\_\+frame(procs\+\_\+ctx\+\_\+t $\ast$procs\+\_\+ctx, int proc\+\_\+id, const proc\+\_\+frame\+\_\+ctx\+\_\+t $\ast$proc\+\_\+frame\+\_\+ctx)}{procs_send_frame(procs_ctx_t *procs_ctx, int proc_id, const proc_frame_ctx_t *proc_frame_ctx)}}]{\setlength{\rightskip}{0pt plus 5cm}int procs\+\_\+send\+\_\+frame (
\begin{DoxyParamCaption}
\item[{{\bf procs\+\_\+ctx\+\_\+t} $\ast$}]{procs\+\_\+ctx, }
\item[{int}]{proc\+\_\+id, }
\item[{const {\bf proc\+\_\+frame\+\_\+ctx\+\_\+t} $\ast$}]{proc\+\_\+frame\+\_\+ctx}
\end{DoxyParamCaption}
)}\hypertarget{procs_8c_aef6df524cba850594fa9fa23715ca3af}{}\label{procs_8c_aef6df524cba850594fa9fa23715ca3af}
Put new frame of data to be processed in the indicated processor\textquotesingle{}s input F\+I\+FO buffer (the processor instance is indicated by the processor Id.). This function blocks until a slot is available to be able to push the new frame into the processor\textquotesingle{}s input F\+I\+FO. To unblock this function, the corresponding processor instance should be deleted. This function is thread-\/safe and can be called concurrently. 
\begin{DoxyParams}{Parameters}
{\em procs\+\_\+ctx} & Pointer to the processors (P\+R\+O\+CS) module instance context structure. \\
\hline
{\em proc\+\_\+id} & Processor instance unambiguous Id. \\
\hline
{\em proc\+\_\+frame\+\_\+ctx} & Pointer to the structure characterizing the input frame to be processed. The frame is duplicated and inserted in the F\+I\+FO buffer. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Status code (S\+T\+A\+T\+\_\+\+S\+U\+C\+C\+E\+SS code in case of success, for other code values please refer to .\hyperlink{stat__codes_8h}{stat\+\_\+codes.\+h}). 
\end{DoxyReturn}


Definition at line 504 of file procs.\+c.



\subsection{Variable Documentation}
\index{procs.\+c@{procs.\+c}!procs\+\_\+module\+\_\+ctx@{procs\+\_\+module\+\_\+ctx}}
\index{procs\+\_\+module\+\_\+ctx@{procs\+\_\+module\+\_\+ctx}!procs.\+c@{procs.\+c}}
\subsubsection[{\texorpdfstring{procs\+\_\+module\+\_\+ctx}{procs_module_ctx}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf procs\+\_\+module\+\_\+ctx\+\_\+t}$\ast$ procs\+\_\+module\+\_\+ctx = N\+U\+LL\hspace{0.3cm}{\ttfamily [static]}}\hypertarget{procs_8c_a5e1a3210584f8735da101ba984f5e4aa}{}\label{procs_8c_a5e1a3210584f8735da101ba984f5e4aa}
P\+R\+O\+CS module static instance. 

Definition at line 242 of file procs.\+c.

