<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>MediaProcessors: procs.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MediaProcessors
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_2ffd88034ff048eae6c941e2208d9221.html">procs</a></li><li class="navelem"><a class="el" href="dir_11969c6f42a7be17628130904e632278.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">procs.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="procs_8h_source.html">procs.h</a>&quot;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &lt;stdarg.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;pthread.h&gt;</code><br />
<code>#include &lt;errno.h&gt;</code><br />
<code>#include &lt;ctype.h&gt;</code><br />
<code>#include &lt;libcjson/cJSON.h&gt;</code><br />
<code>#include &lt;libmediaprocsutils/uri_parser.h&gt;</code><br />
<code>#include &lt;libmediaprocsutils/log.h&gt;</code><br />
<code>#include &lt;libmediaprocsutils/stat_codes.h&gt;</code><br />
<code>#include &lt;libmediaprocsutils/check_utils.h&gt;</code><br />
<code>#include &lt;libmediaprocsutils/fair_lock.h&gt;</code><br />
<code>#include &lt;libmediaprocsutils/llist.h&gt;</code><br />
<code>#include &quot;<a class="el" href="proc_8h_source.html">proc.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="proc__if_8h_source.html">proc_if.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for procs.c:</div>
<div class="dyncontent">
<div class="center"><img src="procs_8c__incl.png" border="0" usemap="#procs_8c" alt=""/></div>
<map name="procs_8c" id="procs_8c">
<area shape="rect" id="node2" href="procs_8h.html" title="Generic processors (PROC) module. " alt="" coords="115,87,180,114"/>
<area shape="rect" id="node20" href="proc_8h.html" title="Generic processor (PROC) module. " alt="" coords="351,87,410,114"/>
<area shape="rect" id="node22" href="proc__if_8h.html" title="PROC interface prototype related definitions and functions. " alt="" coords="205,87,277,114"/>
</map>
</div>
</div>
<p><a href="procs_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structprocs__module__ctx__s.html">procs_module_ctx_s</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structprocs__reg__elem__s.html">procs_reg_elem_s</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structprocs__ctx__s.html">procs_ctx_s</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a78f3ba7226e65b5f2d9efd92036d689e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a78f3ba7226e65b5f2d9efd92036d689e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>LOGD_CTX_INIT</b>(CTX)</td></tr>
<tr class="separator:a78f3ba7226e65b5f2d9efd92036d689e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa839997a58e14061861cd634fdb7664d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa839997a58e14061861cd634fdb7664d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>LOGD</b>(...)</td></tr>
<tr class="separator:aa839997a58e14061861cd634fdb7664d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8995a191e541088a47aec1798a8cec4b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="procs_8c.html#a8995a191e541088a47aec1798a8cec4b">TAG_HAS</a>(NEEDLE)&#160;&#160;&#160;(strstr(tag, NEEDLE)!= NULL)</td></tr>
<tr class="separator:a8995a191e541088a47aec1798a8cec4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a914faae84f39085695352bd45c0fca62"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="procs_8c.html#a914faae84f39085695352bd45c0fca62">TAG_IS</a>(TAG)&#160;&#160;&#160;(strcmp(tag, TAG)== 0)</td></tr>
<tr class="separator:a914faae84f39085695352bd45c0fca62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdd647e5ff1dd03cfe69fa57635e9537"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="procs_8c.html#abdd647e5ff1dd03cfe69fa57635e9537">LOCK_PROCS_CTX_API</a>(PROCS_CTX)&#160;&#160;&#160;<a class="el" href="check__utils_8h.html#a903f9b298be75defd8a3043ebf62bd99">ASSERT</a>(pthread_mutex_lock(&amp;PROCS_CTX-&gt;api_mutex)== 0);</td></tr>
<tr class="separator:abdd647e5ff1dd03cfe69fa57635e9537"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b0b901e6ac0fdd66da8f50f84a9d58a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="procs_8c.html#a3b0b901e6ac0fdd66da8f50f84a9d58a">UNLOCK_PROCS_CTX_API</a>(PROCS_CTX)&#160;&#160;&#160;<a class="el" href="check__utils_8h.html#a903f9b298be75defd8a3043ebf62bd99">ASSERT</a>(pthread_mutex_unlock(&amp;PROCS_CTX-&gt;api_mutex)== 0);</td></tr>
<tr class="separator:a3b0b901e6ac0fdd66da8f50f84a9d58a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a008ef319327fe7b221f460a34ace3c4d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="procs_8c.html#a008ef319327fe7b221f460a34ace3c4d">LOCK_PROCS_REG_ELEM_API</a>(PROCS_CTX,  REG_ELEM,  EXIT_CODE_ON_FAILURE)</td></tr>
<tr class="separator:a008ef319327fe7b221f460a34ace3c4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7da6bd2b61be2ae1325d7eb349bc6f0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="procs_8c.html#aa7da6bd2b61be2ae1325d7eb349bc6f0">UNLOCK_PROCS_REG_ELEM_API</a>(REG_ELEM)&#160;&#160;&#160;<a class="el" href="check__utils_8h.html#a903f9b298be75defd8a3043ebf62bd99">ASSERT</a>(pthread_mutex_unlock(&amp;REG_ELEM-&gt;api_mutex)== 0);</td></tr>
<tr class="separator:aa7da6bd2b61be2ae1325d7eb349bc6f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ed23854256df248c5c1352b3999275e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="procs_8c.html#a3ed23854256df248c5c1352b3999275e">PROCS_MAX_NUM_PROC_INSTANCES</a>&#160;&#160;&#160;8192</td></tr>
<tr class="separator:a3ed23854256df248c5c1352b3999275e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a979ef9763a231c76f8155bbac05ea794"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a979ef9763a231c76f8155bbac05ea794"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PROCS_FIFO_SIZE</b>&#160;&#160;&#160;2</td></tr>
<tr class="separator:a979ef9763a231c76f8155bbac05ea794"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54cbf5496734caa93dd096e26a796049"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a54cbf5496734caa93dd096e26a796049"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PROC_ID_STR_FMT</b>&#160;&#160;&#160;&quot;{\&quot;proc_id\&quot;:%d}&quot;</td></tr>
<tr class="separator:a54cbf5496734caa93dd096e26a796049"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ad411ade07d8515e93bc2e7abf2b1e765"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structprocs__module__ctx__s.html">procs_module_ctx_s</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="procs_8c.html#ad411ade07d8515e93bc2e7abf2b1e765">procs_module_ctx_t</a></td></tr>
<tr class="separator:ad411ade07d8515e93bc2e7abf2b1e765"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63a78f7c86536e71715f3fcef28e11c5"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structprocs__reg__elem__s.html">procs_reg_elem_s</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="procs_8c.html#a63a78f7c86536e71715f3fcef28e11c5">procs_reg_elem_t</a></td></tr>
<tr class="separator:a63a78f7c86536e71715f3fcef28e11c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9dcafd40720bff127bdc596e9c6dd6cd"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structprocs__ctx__s.html">procs_ctx_s</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="procs_8c.html#a9dcafd40720bff127bdc596e9c6dd6cd">procs_ctx_t</a></td></tr>
<tr class="separator:a9dcafd40720bff127bdc596e9c6dd6cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab5f644ff5e87916d152879ca131a827c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab5f644ff5e87916d152879ca131a827c"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>register_proc_if</b> (const <a class="el" href="proc_8h.html#a679816cf30e0b7a8f3e7464e67a6a844">proc_if_t</a> *proc_if, <a class="el" href="structlog__ctx__s.html">log_ctx_t</a> *log_ctx)</td></tr>
<tr class="separator:ab5f644ff5e87916d152879ca131a827c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c9a7c73a16cf28685b33f74981027d0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3c9a7c73a16cf28685b33f74981027d0"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>unregister_proc_if</b> (const char *proc_name, <a class="el" href="structlog__ctx__s.html">log_ctx_t</a> *log_ctx)</td></tr>
<tr class="separator:a3c9a7c73a16cf28685b33f74981027d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bb3b1f779018a66c2733b5fbd11b90c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6bb3b1f779018a66c2733b5fbd11b90c"></a>
static const <a class="el" href="proc_8h.html#a679816cf30e0b7a8f3e7464e67a6a844">proc_if_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>get_proc_if_by_name</b> (const char *proc_name, <a class="el" href="structlog__ctx__s.html">log_ctx_t</a> *log_ctx)</td></tr>
<tr class="separator:a6bb3b1f779018a66c2733b5fbd11b90c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a036dcc658ae54a6f39ad6fd68fe9fb83"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a036dcc658ae54a6f39ad6fd68fe9fb83"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>procs_instance_opt</b> (<a class="el" href="procs_8c.html#a9dcafd40720bff127bdc596e9c6dd6cd">procs_ctx_t</a> *procs_ctx, const char *tag, <a class="el" href="structlog__ctx__s.html">log_ctx_t</a> *log_ctx, va_list arg)</td></tr>
<tr class="separator:a036dcc658ae54a6f39ad6fd68fe9fb83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ee758d039dc408ea9ee8eae94db3da1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9ee758d039dc408ea9ee8eae94db3da1"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>procs_rest_get</b> (<a class="el" href="procs_8c.html#a9dcafd40720bff127bdc596e9c6dd6cd">procs_ctx_t</a> *procs_ctx, <a class="el" href="structlog__ctx__s.html">log_ctx_t</a> *log_ctx, char **ref_rest_str, const char *filter_str)</td></tr>
<tr class="separator:a9ee758d039dc408ea9ee8eae94db3da1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a240395d512aeacbb8fc4592569277ff8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a240395d512aeacbb8fc4592569277ff8"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>proc_register</b> (<a class="el" href="procs_8c.html#a9dcafd40720bff127bdc596e9c6dd6cd">procs_ctx_t</a> *procs_ctx, const char *proc_name, const char *settings_str, <a class="el" href="structlog__ctx__s.html">log_ctx_t</a> *log_ctx, int *ref_id, va_list arg)</td></tr>
<tr class="separator:a240395d512aeacbb8fc4592569277ff8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44272abea454d2cdc836da60087c9285"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a44272abea454d2cdc836da60087c9285"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>proc_unregister</b> (<a class="el" href="procs_8c.html#a9dcafd40720bff127bdc596e9c6dd6cd">procs_ctx_t</a> *procs_ctx, int id, <a class="el" href="structlog__ctx__s.html">log_ctx_t</a> *log_ctx)</td></tr>
<tr class="separator:a44272abea454d2cdc836da60087c9285"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ee8f0ae39dd325c1df3b3ae05b1deeb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1ee8f0ae39dd325c1df3b3ae05b1deeb"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>procs_id_opt</b> (<a class="el" href="procs_8c.html#a9dcafd40720bff127bdc596e9c6dd6cd">procs_ctx_t</a> *procs_ctx, const char *tag, <a class="el" href="structlog__ctx__s.html">log_ctx_t</a> *log_ctx, va_list arg)</td></tr>
<tr class="separator:a1ee8f0ae39dd325c1df3b3ae05b1deeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45c91e47e9ccbb3eee39f70d2e76d5dc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a45c91e47e9ccbb3eee39f70d2e76d5dc"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>procs_id_get</b> (<a class="el" href="procs_8c.html#a63a78f7c86536e71715f3fcef28e11c5">procs_reg_elem_t</a> *procs_reg_elem, <a class="el" href="proc_8h.html#ae264f89be30fc03f5053bc16d58cba05">proc_ctx_t</a> *proc_ctx, <a class="el" href="structlog__ctx__s.html">log_ctx_t</a> *log_ctx, void **ref_reponse)</td></tr>
<tr class="separator:a45c91e47e9ccbb3eee39f70d2e76d5dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c006d44b4e414ce9cfb73cedf5e74b5"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="proc_8h.html#ae264f89be30fc03f5053bc16d58cba05">proc_ctx_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="procs_8c.html#a6c006d44b4e414ce9cfb73cedf5e74b5">procs_id_opt_fetch_proc_ctx</a> (<a class="el" href="procs_8c.html#a9dcafd40720bff127bdc596e9c6dd6cd">procs_ctx_t</a> *procs_ctx, int proc_id, const char *tag, va_list arg, <a class="el" href="structlog__ctx__s.html">log_ctx_t</a> *log_ctx)</td></tr>
<tr class="separator:a6c006d44b4e414ce9cfb73cedf5e74b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5f91a46882b5706b25327384ba347d8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="procs_8c.html#af5f91a46882b5706b25327384ba347d8">procs_module_open</a> (<a class="el" href="structlog__ctx__s.html">log_ctx_t</a> *log_ctx)</td></tr>
<tr class="separator:af5f91a46882b5706b25327384ba347d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0947527d95117e432f21354103c390a6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="procs_8c.html#a0947527d95117e432f21354103c390a6">procs_module_close</a> ()</td></tr>
<tr class="separator:a0947527d95117e432f21354103c390a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a226ac6dfd7598a59b9ceab3a92239a80"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="procs_8c.html#a226ac6dfd7598a59b9ceab3a92239a80">procs_module_opt</a> (const char *tag,...)</td></tr>
<tr class="separator:a226ac6dfd7598a59b9ceab3a92239a80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac44b6ac931afbeadeb7f07b660e30bac"><td class="memItemLeft" align="right" valign="top"><a class="el" href="procs_8c.html#a9dcafd40720bff127bdc596e9c6dd6cd">procs_ctx_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="procs_8c.html#ac44b6ac931afbeadeb7f07b660e30bac">procs_open</a> (<a class="el" href="structlog__ctx__s.html">log_ctx_t</a> *log_ctx, size_t max_procs_num, const char *prefix_name, const char *procs_href)</td></tr>
<tr class="separator:ac44b6ac931afbeadeb7f07b660e30bac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0806c10ed3203ce53115ffb1a89e83d3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="procs_8c.html#a0806c10ed3203ce53115ffb1a89e83d3">procs_close</a> (<a class="el" href="procs_8c.html#a9dcafd40720bff127bdc596e9c6dd6cd">procs_ctx_t</a> **ref_procs_ctx)</td></tr>
<tr class="separator:a0806c10ed3203ce53115ffb1a89e83d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7af2e6f2788006cfc96ca8d811922ffa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="procs_8c.html#a7af2e6f2788006cfc96ca8d811922ffa">procs_opt</a> (<a class="el" href="procs_8c.html#a9dcafd40720bff127bdc596e9c6dd6cd">procs_ctx_t</a> *procs_ctx, const char *tag,...)</td></tr>
<tr class="separator:a7af2e6f2788006cfc96ca8d811922ffa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef6df524cba850594fa9fa23715ca3af"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="procs_8c.html#aef6df524cba850594fa9fa23715ca3af">procs_send_frame</a> (<a class="el" href="procs_8c.html#a9dcafd40720bff127bdc596e9c6dd6cd">procs_ctx_t</a> *procs_ctx, int proc_id, const <a class="el" href="structproc__frame__ctx__s.html">proc_frame_ctx_t</a> *proc_frame_ctx)</td></tr>
<tr class="separator:aef6df524cba850594fa9fa23715ca3af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5be3851dc586c77c4ac8bb31654a6e2a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="procs_8c.html#a5be3851dc586c77c4ac8bb31654a6e2a">procs_recv_frame</a> (<a class="el" href="procs_8c.html#a9dcafd40720bff127bdc596e9c6dd6cd">procs_ctx_t</a> *procs_ctx, int proc_id, <a class="el" href="structproc__frame__ctx__s.html">proc_frame_ctx_t</a> **ref_proc_frame_ctx)</td></tr>
<tr class="separator:a5be3851dc586c77c4ac8bb31654a6e2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a5e1a3210584f8735da101ba984f5e4aa"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="procs_8c.html#ad411ade07d8515e93bc2e7abf2b1e765">procs_module_ctx_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="procs_8c.html#a5e1a3210584f8735da101ba984f5e4aa">procs_module_ctx</a> = NULL</td></tr>
<tr class="separator:a5e1a3210584f8735da101ba984f5e4aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><dl class="section author"><dt>Author</dt><dd>Rafael Antoniello </dd></dl>

<p>Definition in file <a class="el" href="procs_8c_source.html">procs.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="abdd647e5ff1dd03cfe69fa57635e9537"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOCK_PROCS_CTX_API</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">PROCS_CTX</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="check__utils_8h.html#a903f9b298be75defd8a3043ebf62bd99">ASSERT</a>(pthread_mutex_lock(&amp;PROCS_CTX-&gt;api_mutex)== 0);</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Macro: lock PROCS module <em>instance</em> API critical section. </p>

<p>Definition at line <a class="el" href="procs_8c_source.html#l00071">71</a> of file <a class="el" href="procs_8c_source.html">procs.c</a>.</p>

</div>
</div>
<a class="anchor" id="a008ef319327fe7b221f460a34ace3c4d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOCK_PROCS_REG_ELEM_API</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">PROCS_CTX, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">REG_ELEM, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">EXIT_CODE_ON_FAILURE&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">if</span>(pthread_mutex_trylock(&amp;PROCS_CTX-&gt;api_mutex)!= EBUSY) {\</div><div class="line">        EXIT_CODE_ON_FAILURE;\</div><div class="line">    }<a class="code" href="check__utils_8h.html#a903f9b298be75defd8a3043ebf62bd99">\</a></div><div class="line"><a class="code" href="check__utils_8h.html#a903f9b298be75defd8a3043ebf62bd99">	ASSERT</a>(pthread_mutex_lock(&amp;REG_ELEM-&gt;api_mutex)== 0);</div><div class="ttc" id="check__utils_8h_html_a903f9b298be75defd8a3043ebf62bd99"><div class="ttname"><a href="check__utils_8h.html#a903f9b298be75defd8a3043ebf62bd99">ASSERT</a></div><div class="ttdeci">#define ASSERT(COND)</div><div class="ttdef"><b>Definition:</b> <a href="check__utils_8h_source.html#l00051">check_utils.h:51</a></div></div>
</div><!-- fragment --><p>Macro: lock PROCS instance <em>register element</em> API critical section. It is important to remark that this macro is thought to make sure the developer lock <em>instance</em> API critical section first. </p>

<p>Definition at line <a class="el" href="procs_8c_source.html#l00085">85</a> of file <a class="el" href="procs_8c_source.html">procs.c</a>.</p>

</div>
</div>
<a class="anchor" id="a3ed23854256df248c5c1352b3999275e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PROCS_MAX_NUM_PROC_INSTANCES&#160;&#160;&#160;8192</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Limit value for the maximum number of processors that can be instantiated in the system. This value may be just modified, in compilation, if needed. </p>

<p>Definition at line <a class="el" href="procs_8c_source.html#l00102">102</a> of file <a class="el" href="procs_8c_source.html">procs.c</a>.</p>

</div>
</div>
<a class="anchor" id="a8995a191e541088a47aec1798a8cec4b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TAG_HAS</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">NEEDLE</td><td>)</td>
          <td>&#160;&#160;&#160;(strstr(tag, NEEDLE)!= NULL)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns non-zero if given 'tag' string contains 'needle' sub-string. </p>

<p>Definition at line <a class="el" href="procs_8c_source.html#l00061">61</a> of file <a class="el" href="procs_8c_source.html">procs.c</a>.</p>

</div>
</div>
<a class="anchor" id="a914faae84f39085695352bd45c0fca62"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TAG_IS</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">TAG</td><td>)</td>
          <td>&#160;&#160;&#160;(strcmp(tag, TAG)== 0)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns non-zero if 'tag' string is equal to given TAG string. </p>

<p>Definition at line <a class="el" href="procs_8c_source.html#l00066">66</a> of file <a class="el" href="procs_8c_source.html">procs.c</a>.</p>

</div>
</div>
<a class="anchor" id="a3b0b901e6ac0fdd66da8f50f84a9d58a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UNLOCK_PROCS_CTX_API</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">PROCS_CTX</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="check__utils_8h.html#a903f9b298be75defd8a3043ebf62bd99">ASSERT</a>(pthread_mutex_unlock(&amp;PROCS_CTX-&gt;api_mutex)== 0);</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Macro: unlock PROCS module <em>instance</em> API critical section. </p>

<p>Definition at line <a class="el" href="procs_8c_source.html#l00077">77</a> of file <a class="el" href="procs_8c_source.html">procs.c</a>.</p>

</div>
</div>
<a class="anchor" id="aa7da6bd2b61be2ae1325d7eb349bc6f0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UNLOCK_PROCS_REG_ELEM_API</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">REG_ELEM</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="check__utils_8h.html#a903f9b298be75defd8a3043ebf62bd99">ASSERT</a>(pthread_mutex_unlock(&amp;REG_ELEM-&gt;api_mutex)== 0);</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Macro: unlock PROCS instance <em>register element</em> API critical section. </p>

<p>Definition at line <a class="el" href="procs_8c_source.html#l00094">94</a> of file <a class="el" href="procs_8c_source.html">procs.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="a9dcafd40720bff127bdc596e9c6dd6cd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structprocs__ctx__s.html">procs_ctx_s</a>  <a class="el" href="procs_8c.html#a9dcafd40720bff127bdc596e9c6dd6cd">procs_ctx_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Module's instance context structure. PROCS module context structure is statically defined in the program. </p>

</div>
</div>
<a class="anchor" id="ad411ade07d8515e93bc2e7abf2b1e765"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structprocs__module__ctx__s.html">procs_module_ctx_s</a>  <a class="el" href="procs_8c.html#ad411ade07d8515e93bc2e7abf2b1e765">procs_module_ctx_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Module's context structure. PROCS module context structure is statically defined in the program. </p>

</div>
</div>
<a class="anchor" id="a63a78f7c86536e71715f3fcef28e11c5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structprocs__reg__elem__s.html">procs_reg_elem_s</a>  <a class="el" href="procs_8c.html#a63a78f7c86536e71715f3fcef28e11c5">procs_reg_elem_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Processors registration structure. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a0806c10ed3203ce53115ffb1a89e83d3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void procs_close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="procs_8c.html#a9dcafd40720bff127bdc596e9c6dd6cd">procs_ctx_t</a> **&#160;</td>
          <td class="paramname"><em>ref_procs_ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>De-initialize and release the processors (PROCS) module instance context structure. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ref_procs_ctx</td><td>Reference to the pointer to the processors (PROCS) module instance context structure to be release, obtained in a previous call to the '<a class="el" href="procs_8h.html#ac44b6ac931afbeadeb7f07b660e30bac">procs_open()</a>' function. Pointer is set to NULL on return. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="procs_8c_source.html#l00417">417</a> of file <a class="el" href="procs_8c_source.html">procs.c</a>.</p>

</div>
</div>
<a class="anchor" id="a6c006d44b4e414ce9cfb73cedf5e74b5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="proc_8h.html#ae264f89be30fc03f5053bc16d58cba05">proc_ctx_t</a> * procs_id_opt_fetch_proc_ctx </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="procs_8c.html#a9dcafd40720bff127bdc596e9c6dd6cd">procs_ctx_t</a> *&#160;</td>
          <td class="paramname"><em>procs_ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>proc_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">va_list&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structlog__ctx__s.html">log_ctx_t</a> *&#160;</td>
          <td class="paramname"><em>log_ctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This function fetches the processor context structure to be used for API options requests. As a special case to take into account, this function checks if a new processor name is specified on an eventual PUT settings (namely, it checks if 'proc_name' setting is present on a PUT operation, and if it is the case, checks if 'proc_name' actually changes). If a new processor name is requested, the current processor should be released and substituted by a new processor of the new type given (recycling the same processors register slot). Substituted processor settings are backup, and set to the new one. This way, if some setting on the old processor apply, will be set on the new processor. Otherwise, not applicable settings will be just ignored. </p>

<p>Definition at line <a class="el" href="procs_8c_source.html#l01218">1218</a> of file <a class="el" href="procs_8c_source.html">procs.c</a>.</p>

</div>
</div>
<a class="anchor" id="a0947527d95117e432f21354103c390a6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void procs_module_close </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Close PROCS module. This is a global function and should be called only once at the end of the life of the application. </p>

<p>Definition at line <a class="el" href="procs_8c_source.html#l00273">273</a> of file <a class="el" href="procs_8c_source.html">procs.c</a>.</p>

</div>
</div>
<a class="anchor" id="af5f91a46882b5706b25327384ba347d8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int procs_module_open </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlog__ctx__s.html">log_ctx_t</a> *&#160;</td>
          <td class="paramname"><em>log_ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Open PROCS module. This is a global function and should be called only once at the very beginning and during the life of the application. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">log_ctx</td><td>Pointer to a externally defined LOG module context structure. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status code (STAT_SUCCESS code in case of success, for other code values please refer to .<a class="el" href="stat__codes_8h.html" title="General status codes enumeration. ">stat_codes.h</a>). </dd></dl>

<p>Definition at line <a class="el" href="procs_8c_source.html#l00244">244</a> of file <a class="el" href="procs_8c_source.html">procs.c</a>.</p>

</div>
</div>
<a class="anchor" id="a226ac6dfd7598a59b9ceab3a92239a80"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int procs_module_opt </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Processors module options. This function represents the API of the PROCS module. This function is thread-safe and can be called concurrently.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tag</td><td>Processors option tag, namely, option identifier string. The following options are available:<ol type="1">
<li>"PROCS_REGISTER_TYPE"</li>
<li>"PROCS_UNREGISTER_TYPE"</li>
</ol>
</td></tr>
    <tr><td class="paramname">...</td><td>Variable list of parameters according to selected option. Refer to <b>Tags description</b> below to see the different additional parameters corresponding to each option tag. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status code (STAT_SUCCESS code in case of success, for other code values please refer to .<a class="el" href="stat__codes_8h.html" title="General status codes enumeration. ">stat_codes.h</a>).</dd></dl>
<h3>Tags description (additional variable arguments per tag)</h3>
<ul>
<li>
<b>Tag "PROCS_REGISTER_TYPE":</b><br />
 Register the interface of an specific processor type.<br />
 Additional variable arguments for function <a class="el" href="procs_8h.html#a226ac6dfd7598a59b9ceab3a92239a80">procs_module_opt()</a> are:<br />
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">proc_if</td><td>Pointer to the processor interface structure (static and unambiguous interface of the type of processor we are registering). Code example: <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;...</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;const proc_if_t proc_if_bypass_proc= {</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;    &quot;bypass_processor&quot;,</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;    bypass_proc_open,</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;    bypass_proc_close,</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;    bypass_proc_rest_put,</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;    bypass_proc_rest_get,</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;    bypass_proc_process_frame,</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;    bypass_proc_opt,</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;    NULL, NULL, NULL</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;};</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;...</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;ret_code= procs_module_opt(&quot;PROCS_REGISTER_TYPE&quot;, &amp;proc_if_bypass_proc);</div></div><!-- fragment --></td></tr>
  </table>
  </dd>
</dl>
</li>
<li>
<b>Tag "PROCS_UNREGISTER_TYPE":</b><br />
 Unregister interface of an specific processor type.<br />
 Additional variable arguments for function <a class="el" href="procs_8h.html#a226ac6dfd7598a59b9ceab3a92239a80">procs_module_opt()</a> are:<br />
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">proc_name</td><td>Pointer to a character string with the unambiguous processor type name. Code example: <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;ret_code= procs_module_opt(&quot;PROCS_UNREGISTER_TYPE&quot;, &quot;bypass_processor&quot;);</div></div><!-- fragment --> </td></tr>
  </table>
  </dd>
</dl>
</li>
</ul>
<p><b>Tag "PROCS_GET_TYPE":</b><br />
 Get a copy of the interface of an specific processor type.<br />
 Additional variable arguments for function <a class="el" href="procs_8h.html#a226ac6dfd7598a59b9ceab3a92239a80">procs_module_opt()</a> are:<br />
 </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">proc_name</td><td>Pointer to a character string with the unambiguous processor type name. </td></tr>
    <tr><td class="paramname">ref_proc_if_cpy</td><td>Reference to the pointer to the copy of the requested processor interface context structure. If the requested processor exist, a copy of the context structure will be returned by this argument; otherwise, reference content will be set to NULL. Code example: <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;proc_if_t *proc_if_cpy= NULL;</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;...</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;ret_code= procs_module_opt(&quot;PROCS_GET_TYPE&quot;, &quot;bypass_processor&quot;,</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;        &amp;proc_if_cpy);</div></div><!-- fragment -->  </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="procs_8c_source.html#l00294">294</a> of file <a class="el" href="procs_8c_source.html">procs.c</a>.</p>

</div>
</div>
<a class="anchor" id="ac44b6ac931afbeadeb7f07b660e30bac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="procs_8c.html#a9dcafd40720bff127bdc596e9c6dd6cd">procs_ctx_t</a>* procs_open </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlog__ctx__s.html">log_ctx_t</a> *&#160;</td>
          <td class="paramname"><em>log_ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>max_procs_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>prefix_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>procs_href</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allocates and initializes processors (PROCS) module instance context structure. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">log_ctx</td><td>Pointer to the LOG module context structure. </td></tr>
    <tr><td class="paramname">max_procs_num</td><td>Maximum number of processors that can be created (and managed) by this instance. </td></tr>
    <tr><td class="paramname">prefix_name</td><td>Module's API REST prefix name (256 characters maximum). This parameter is optional (NULL may be passed); if not specified, the default name "procs" is used. </td></tr>
    <tr><td class="paramname">procs_href</td><td>Module's API REST href attribute specifying the URL path the API refers to. This parameter is optional (NULL may be passed). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the processors context structure on success, NULL if fails. Code example:<br />
 The following call creates a "processors module instance" capable of handling 16 processors. Prefix name "video_processors" suggest we will use this module instance to handle only "video processors", and we give an href such that the module's API may be used applying on the following URL: GET/PUT/POST/DELETE -&gt; 127.0.0.1/video_processors.json<br />
 <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;procs_ctx_t *procs_ctx;</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;...</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;procs_ctx= procs_open(log_ctx, 16, &quot;video_processors&quot;, &quot;127.0.0.1&quot;);</div></div><!-- fragment --> </dd></dl>

<p>Definition at line <a class="el" href="procs_8c_source.html#l00336">336</a> of file <a class="el" href="procs_8c_source.html">procs.c</a>.</p>

</div>
</div>
<a class="anchor" id="a7af2e6f2788006cfc96ca8d811922ffa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int procs_opt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="procs_8c.html#a9dcafd40720bff127bdc596e9c6dd6cd">procs_ctx_t</a> *&#160;</td>
          <td class="paramname"><em>procs_ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Processors module instance options. This function represents the API of the PROCS module instance, and exposes all the available options to operate the different processors instances. This function is thread-safe and can be called concurrently.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">procs_ctx</td><td>Pointer to the processors (PROCS) module instance context structure. </td></tr>
    <tr><td class="paramname">tag</td><td>Processors option tag, namely, option identifier string. The following options are available:<ol type="1">
<li>"PROCS_POST"</li>
<li>"PROCS_GET"</li>
<li>"PROCS_ID_DELETE"</li>
<li>"PROCS_ID_GET"</li>
<li>"PROCS_ID_PUT"</li>
</ol>
</td></tr>
    <tr><td class="paramname">...</td><td>Variable list of parameters according to selected option. Refer to <b>Tags description</b> below to see the different additional parameters corresponding to each option tag. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status code (STAT_SUCCESS code in case of success, for other code values please refer to .<a class="el" href="stat__codes_8h.html" title="General status codes enumeration. ">stat_codes.h</a>).</dd></dl>
<h3>Tags description (additional variable arguments per tag)</h3>
<ul>
<li>
<b>Tag "PROCS_POST":</b><br />
 Instantiate and register new processor.<br />
 Additional variable arguments for function <a class="el" href="procs_8h.html#a7af2e6f2788006cfc96ca8d811922ffa">procs_opt()</a> are:<br />
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">proc_name</td><td>Pointer to a character string with the unambiguous processor type name. </td></tr>
    <tr><td class="paramname">settings_str</td><td>Character string containing initial settings for the processor. String format can be either a query-string or JSON. </td></tr>
    <tr><td class="paramname">rest_str</td><td>Reference to the pointer to a character string returning the processor identifier in JSON format as follows: '{"proc_id":id_number}' Code example: <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;char *rest_str= NULL;</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;...</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;ret_code= procs_opt(procs_ctx, &quot;PROCS_POST&quot;, &quot;bypass_processor&quot;,</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;    &quot;setting1=100&quot;, &amp;rest_str);</div></div><!-- fragment --></td></tr>
  </table>
  </dd>
</dl>
</li>
<li>
<b>Tag "PROCS_GET":</b><br />
 Get the representational state of the processors instances list.<br />
 Additional variable arguments for function <a class="el" href="procs_8h.html#a7af2e6f2788006cfc96ca8d811922ffa">procs_opt()</a> are:<br />
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ref_str</td><td>Reference to the pointer to a character string returning the processors list representational state. </td></tr>
    <tr><td class="paramname">filter_str</td><td>Character string indicating one of the following filters apply:<ul>
<li>"proc_name==x": Filter the returning list discarding all the processors that are not of the type 'x';</li>
<li>"proc_name!=x": Filter the returning list discarding all the processors that <em>are</em> of the type 'x'. This parameter is optional, and can be set to NULL (no filter apply). Code example: <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;char *rest_str= NULL;</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;...</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;ret_code= procs_opt(procs_ctx, &quot;PROCS_GET&quot;, &amp;rest_str, NULL);</div></div><!-- fragment --></li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li>
<b>Tag "PROCS_ID_DELETE":</b><br />
 Unregister and release a processor instance.<br />
 Additional variable arguments for function <a class="el" href="procs_8h.html#a7af2e6f2788006cfc96ca8d811922ffa">procs_opt()</a> are:<br />
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">proc_id</td><td>Processor instance unambiguous Id. Code example: <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;ret_code= procs_opt(procs_ctx, &quot;PROCS_ID_DELETE&quot;, proc_id);</div></div><!-- fragment --></td></tr>
  </table>
  </dd>
</dl>
</li>
<li>
<b>Tag "PROCS_ID_GET":</b><br />
 Get the representational state of a processor instance (including current settings).<br />
 Additional variable arguments for function <a class="el" href="procs_8h.html#a7af2e6f2788006cfc96ca8d811922ffa">procs_opt()</a> are:<br />
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">proc_id</td><td>Processor instance unambiguous Id. </td></tr>
    <tr><td class="paramname">ref_str</td><td>Reference to the pointer to a character string returning the processor's representational state. Code example: <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;char *rest_str= NULL;</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;...</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;ret_code= procs_opt(procs_ctx, &quot;PROCS_ID_GET&quot;, proc_id, &amp;rest_str);</div></div><!-- fragment --></td></tr>
  </table>
  </dd>
</dl>
</li>
<li>
<b>Tag "PROCS_ID_PUT":</b><br />
 Put (pass) new settings to a processor instance.<br />
 Additional variable arguments for function <a class="el" href="procs_8h.html#a7af2e6f2788006cfc96ca8d811922ffa">procs_opt()</a> are:<br />
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">proc_id</td><td>Processor instance unambiguous Id. </td></tr>
    <tr><td class="paramname">str</td><td>Pointer to a character string containing new settings for the processor instance. String format can be either a query-string or JSON. Code example: <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;ret_code= procs_opt(procs_ctx, &quot;PROCS_ID_PUT&quot;, proc_id, &quot;setting1=100&quot;);</div></div><!-- fragment --> </td></tr>
  </table>
  </dd>
</dl>
</li>
</ul>

<p>Definition at line <a class="el" href="procs_8c_source.html#l00474">474</a> of file <a class="el" href="procs_8c_source.html">procs.c</a>.</p>

</div>
</div>
<a class="anchor" id="a5be3851dc586c77c4ac8bb31654a6e2a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int procs_recv_frame </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="procs_8c.html#a9dcafd40720bff127bdc596e9c6dd6cd">procs_ctx_t</a> *&#160;</td>
          <td class="paramname"><em>procs_ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>proc_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structproc__frame__ctx__s.html">proc_frame_ctx_t</a> **&#160;</td>
          <td class="paramname"><em>ref_proc_frame_ctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get new processed frame of data from the indicated processor's output FIFO buffer (the processor instance is indicated by the processor Id.). This function blocks until a new frame is available to be read from the processor's output FIFO. To unblock this function, the corresponding processor instance should be deleted. This function is thread-safe and can be called concurrently. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">procs_ctx</td><td>Pointer to the processors (PROCS) module instance context structure. </td></tr>
    <tr><td class="paramname">proc_id</td><td>Processor instance unambiguous Id. </td></tr>
    <tr><td class="paramname">ref_proc_frame_ctx</td><td>Reference to the pointer to a structure characterizing the output processed frame. This function will return the processed frame passing its structure pointer by argument. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status code (STAT_SUCCESS code in case of success, for other code values please refer to .<a class="el" href="stat__codes_8h.html" title="General status codes enumeration. ">stat_codes.h</a>). </dd></dl>

<p>Definition at line <a class="el" href="procs_8c_source.html#l00545">545</a> of file <a class="el" href="procs_8c_source.html">procs.c</a>.</p>

</div>
</div>
<a class="anchor" id="aef6df524cba850594fa9fa23715ca3af"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int procs_send_frame </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="procs_8c.html#a9dcafd40720bff127bdc596e9c6dd6cd">procs_ctx_t</a> *&#160;</td>
          <td class="paramname"><em>procs_ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>proc_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structproc__frame__ctx__s.html">proc_frame_ctx_t</a> *&#160;</td>
          <td class="paramname"><em>proc_frame_ctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Put new frame of data to be processed in the indicated processor's input FIFO buffer (the processor instance is indicated by the processor Id.). This function blocks until a slot is available to be able to push the new frame into the processor's input FIFO. To unblock this function, the corresponding processor instance should be deleted. This function is thread-safe and can be called concurrently. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">procs_ctx</td><td>Pointer to the processors (PROCS) module instance context structure. </td></tr>
    <tr><td class="paramname">proc_id</td><td>Processor instance unambiguous Id. </td></tr>
    <tr><td class="paramname">proc_frame_ctx</td><td>Pointer to the structure characterizing the input frame to be processed. The frame is duplicated and inserted in the FIFO buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status code (STAT_SUCCESS code in case of success, for other code values please refer to .<a class="el" href="stat__codes_8h.html" title="General status codes enumeration. ">stat_codes.h</a>). </dd></dl>

<p>Definition at line <a class="el" href="procs_8c_source.html#l00504">504</a> of file <a class="el" href="procs_8c_source.html">procs.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a5e1a3210584f8735da101ba984f5e4aa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="procs_8c.html#ad411ade07d8515e93bc2e7abf2b1e765">procs_module_ctx_t</a>* procs_module_ctx = NULL</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>PROCS module static instance. </p>

<p>Definition at line <a class="el" href="procs_8c_source.html#l00242">242</a> of file <a class="el" href="procs_8c_source.html">procs.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
