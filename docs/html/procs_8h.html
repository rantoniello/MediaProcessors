<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>MediaProcessors: procs.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MediaProcessors
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_2ffd88034ff048eae6c941e2208d9221.html">procs</a></li><li class="navelem"><a class="el" href="dir_11969c6f42a7be17628130904e632278.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">procs.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Generic processors (PROC) module.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;sys/types.h&gt;</code><br />
<code>#include &lt;inttypes.h&gt;</code><br />
<code>#include &lt;stdarg.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for procs.h:</div>
<div class="dyncontent">
<div class="center"><img src="procs_8h__incl.png" border="0" usemap="#procs_8h" alt=""/></div>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="procs_8h__dep__incl.png" border="0" usemap="#procs_8hdep" alt=""/></div>
<map name="procs_8hdep" id="procs_8hdep">
<area shape="rect" id="node2" href="procs_8c.html" title="procs.c" alt="" coords="5,80,71,107"/>
<area shape="rect" id="node3" href="procs__api__http_8c.html" title="procs_api_http.c" alt="" coords="95,80,213,107"/>
</map>
</div>
</div>
<p><a href="procs_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a01e036219a22bb5933ddbc277cee8776"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a01e036219a22bb5933ddbc277cee8776"></a>
typedef struct <a class="el" href="structlog__ctx__s.html">log_ctx_s</a>&#160;</td><td class="memItemRight" valign="bottom"><b>log_ctx_t</b></td></tr>
<tr class="separator:a01e036219a22bb5933ddbc277cee8776"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab630d67154256bc674d010e9bf2bc3c9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab630d67154256bc674d010e9bf2bc3c9"></a>
typedef struct <a class="el" href="structprocs__ctx__s.html">procs_ctx_s</a>&#160;</td><td class="memItemRight" valign="bottom"><b>procs_ctx_t</b></td></tr>
<tr class="separator:ab630d67154256bc674d010e9bf2bc3c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac34f37074877acd40892cfb99d6298d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aac34f37074877acd40892cfb99d6298d"></a>
typedef struct <a class="el" href="structproc__frame__ctx__s.html">proc_frame_ctx_s</a>&#160;</td><td class="memItemRight" valign="bottom"><b>proc_frame_ctx_t</b></td></tr>
<tr class="separator:aac34f37074877acd40892cfb99d6298d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af5f91a46882b5706b25327384ba347d8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="procs_8h.html#af5f91a46882b5706b25327384ba347d8">procs_module_open</a> (<a class="el" href="structlog__ctx__s.html">log_ctx_t</a> *log_ctx)</td></tr>
<tr class="separator:af5f91a46882b5706b25327384ba347d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0947527d95117e432f21354103c390a6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="procs_8h.html#a0947527d95117e432f21354103c390a6">procs_module_close</a> ()</td></tr>
<tr class="separator:a0947527d95117e432f21354103c390a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a226ac6dfd7598a59b9ceab3a92239a80"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="procs_8h.html#a226ac6dfd7598a59b9ceab3a92239a80">procs_module_opt</a> (const char *tag,...)</td></tr>
<tr class="separator:a226ac6dfd7598a59b9ceab3a92239a80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac44b6ac931afbeadeb7f07b660e30bac"><td class="memItemLeft" align="right" valign="top"><a class="el" href="procs_8c.html#a9dcafd40720bff127bdc596e9c6dd6cd">procs_ctx_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="procs_8h.html#ac44b6ac931afbeadeb7f07b660e30bac">procs_open</a> (<a class="el" href="structlog__ctx__s.html">log_ctx_t</a> *log_ctx, size_t max_procs_num, const char *prefix_name, const char *procs_href)</td></tr>
<tr class="separator:ac44b6ac931afbeadeb7f07b660e30bac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0806c10ed3203ce53115ffb1a89e83d3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="procs_8h.html#a0806c10ed3203ce53115ffb1a89e83d3">procs_close</a> (<a class="el" href="procs_8c.html#a9dcafd40720bff127bdc596e9c6dd6cd">procs_ctx_t</a> **ref_procs_ctx)</td></tr>
<tr class="separator:a0806c10ed3203ce53115ffb1a89e83d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7af2e6f2788006cfc96ca8d811922ffa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="procs_8h.html#a7af2e6f2788006cfc96ca8d811922ffa">procs_opt</a> (<a class="el" href="procs_8c.html#a9dcafd40720bff127bdc596e9c6dd6cd">procs_ctx_t</a> *procs_ctx, const char *tag,...)</td></tr>
<tr class="separator:a7af2e6f2788006cfc96ca8d811922ffa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef6df524cba850594fa9fa23715ca3af"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="procs_8h.html#aef6df524cba850594fa9fa23715ca3af">procs_send_frame</a> (<a class="el" href="procs_8c.html#a9dcafd40720bff127bdc596e9c6dd6cd">procs_ctx_t</a> *procs_ctx, int proc_id, const <a class="el" href="structproc__frame__ctx__s.html">proc_frame_ctx_t</a> *proc_frame_ctx)</td></tr>
<tr class="separator:aef6df524cba850594fa9fa23715ca3af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5be3851dc586c77c4ac8bb31654a6e2a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="procs_8h.html#a5be3851dc586c77c4ac8bb31654a6e2a">procs_recv_frame</a> (<a class="el" href="procs_8c.html#a9dcafd40720bff127bdc596e9c6dd6cd">procs_ctx_t</a> *procs_ctx, int proc_id, <a class="el" href="structproc__frame__ctx__s.html">proc_frame_ctx_t</a> **ref_proc_frame_ctx)</td></tr>
<tr class="separator:a5be3851dc586c77c4ac8bb31654a6e2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Generic processors (PROC) module. </p>
<dl class="section author"><dt>Author</dt><dd>Rafael Antoniello </dd></dl>

<p>Definition in file <a class="el" href="procs_8h_source.html">procs.h</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a0806c10ed3203ce53115ffb1a89e83d3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void procs_close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="procs_8c.html#a9dcafd40720bff127bdc596e9c6dd6cd">procs_ctx_t</a> **&#160;</td>
          <td class="paramname"><em>ref_procs_ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>De-initialize and release the processors (PROCS) module instance context structure. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ref_procs_ctx</td><td>Reference to the pointer to the processors (PROCS) module instance context structure to be release, obtained in a previous call to the '<a class="el" href="procs_8h.html#ac44b6ac931afbeadeb7f07b660e30bac">procs_open()</a>' function. Pointer is set to NULL on return. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="procs_8c_source.html#l00417">417</a> of file <a class="el" href="procs_8c_source.html">procs.c</a>.</p>

</div>
</div>
<a class="anchor" id="a0947527d95117e432f21354103c390a6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void procs_module_close </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Close PROCS module. This is a global function and should be called only once at the end of the life of the application. </p>

<p>Definition at line <a class="el" href="procs_8c_source.html#l00273">273</a> of file <a class="el" href="procs_8c_source.html">procs.c</a>.</p>

</div>
</div>
<a class="anchor" id="af5f91a46882b5706b25327384ba347d8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int procs_module_open </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlog__ctx__s.html">log_ctx_t</a> *&#160;</td>
          <td class="paramname"><em>log_ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Open PROCS module. This is a global function and should be called only once at the very beginning and during the life of the application. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">log_ctx</td><td>Pointer to a externally defined LOG module context structure. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status code (STAT_SUCCESS code in case of success, for other code values please refer to .<a class="el" href="stat__codes_8h.html" title="General status codes enumeration. ">stat_codes.h</a>). </dd></dl>

<p>Definition at line <a class="el" href="procs_8c_source.html#l00244">244</a> of file <a class="el" href="procs_8c_source.html">procs.c</a>.</p>

</div>
</div>
<a class="anchor" id="a226ac6dfd7598a59b9ceab3a92239a80"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int procs_module_opt </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Processors module options. This function represents the API of the PROCS module. This function is thread-safe and can be called concurrently.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tag</td><td>Processors option tag, namely, option identifier string. The following options are available:<ol type="1">
<li>"PROCS_REGISTER_TYPE"</li>
<li>"PROCS_UNREGISTER_TYPE"</li>
</ol>
</td></tr>
    <tr><td class="paramname">...</td><td>Variable list of parameters according to selected option. Refer to <b>Tags description</b> below to see the different additional parameters corresponding to each option tag. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status code (STAT_SUCCESS code in case of success, for other code values please refer to .<a class="el" href="stat__codes_8h.html" title="General status codes enumeration. ">stat_codes.h</a>).</dd></dl>
<h3>Tags description (additional variable arguments per tag)</h3>
<ul>
<li>
<b>Tag "PROCS_REGISTER_TYPE":</b><br />
 Register the interface of an specific processor type.<br />
 Additional variable arguments for function <a class="el" href="procs_8h.html#a226ac6dfd7598a59b9ceab3a92239a80">procs_module_opt()</a> are:<br />
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">proc_if</td><td>Pointer to the processor interface structure (static and unambiguous interface of the type of processor we are registering). Code example: <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;...</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;const proc_if_t proc_if_bypass_proc= {</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;    &quot;bypass_processor&quot;,</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;    bypass_proc_open,</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;    bypass_proc_close,</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;    bypass_proc_rest_put,</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;    bypass_proc_rest_get,</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;    bypass_proc_process_frame,</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;    bypass_proc_opt,</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;    NULL, NULL, NULL</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;};</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;...</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;ret_code= procs_module_opt(&quot;PROCS_REGISTER_TYPE&quot;, &amp;proc_if_bypass_proc);</div></div><!-- fragment --></td></tr>
  </table>
  </dd>
</dl>
</li>
<li>
<b>Tag "PROCS_UNREGISTER_TYPE":</b><br />
 Unregister interface of an specific processor type.<br />
 Additional variable arguments for function <a class="el" href="procs_8h.html#a226ac6dfd7598a59b9ceab3a92239a80">procs_module_opt()</a> are:<br />
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">proc_name</td><td>Pointer to a character string with the unambiguous processor type name. Code example: <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;ret_code= procs_module_opt(&quot;PROCS_UNREGISTER_TYPE&quot;, &quot;bypass_processor&quot;);</div></div><!-- fragment --> </td></tr>
  </table>
  </dd>
</dl>
</li>
</ul>
<p><b>Tag "PROCS_GET_TYPE":</b><br />
 Get a copy of the interface of an specific processor type.<br />
 Additional variable arguments for function <a class="el" href="procs_8h.html#a226ac6dfd7598a59b9ceab3a92239a80">procs_module_opt()</a> are:<br />
 </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">proc_name</td><td>Pointer to a character string with the unambiguous processor type name. </td></tr>
    <tr><td class="paramname">ref_proc_if_cpy</td><td>Reference to the pointer to the copy of the requested processor interface context structure. If the requested processor exist, a copy of the context structure will be returned by this argument; otherwise, reference content will be set to NULL. Code example: <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;proc_if_t *proc_if_cpy= NULL;</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;...</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;ret_code= procs_module_opt(&quot;PROCS_GET_TYPE&quot;, &quot;bypass_processor&quot;,</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;        &amp;proc_if_cpy);</div></div><!-- fragment -->  </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="procs_8c_source.html#l00294">294</a> of file <a class="el" href="procs_8c_source.html">procs.c</a>.</p>

</div>
</div>
<a class="anchor" id="ac44b6ac931afbeadeb7f07b660e30bac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="procs_8c.html#a9dcafd40720bff127bdc596e9c6dd6cd">procs_ctx_t</a>* procs_open </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlog__ctx__s.html">log_ctx_t</a> *&#160;</td>
          <td class="paramname"><em>log_ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>max_procs_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>prefix_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>procs_href</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allocates and initializes processors (PROCS) module instance context structure. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">log_ctx</td><td>Pointer to the LOG module context structure. </td></tr>
    <tr><td class="paramname">max_procs_num</td><td>Maximum number of processors that can be created (and managed) by this instance. </td></tr>
    <tr><td class="paramname">prefix_name</td><td>Module's API REST prefix name (256 characters maximum). This parameter is optional (NULL may be passed); if not specified, the default name "procs" is used. </td></tr>
    <tr><td class="paramname">procs_href</td><td>Module's API REST href attribute specifying the URL path the API refers to. This parameter is optional (NULL may be passed). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the processors context structure on success, NULL if fails. Code example:<br />
 The following call creates a "processors module instance" capable of handling 16 processors. Prefix name "video_processors" suggest we will use this module instance to handle only "video processors", and we give an href such that the module's API may be used applying on the following URL: GET/PUT/POST/DELETE -&gt; 127.0.0.1/video_processors.json<br />
 <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;procs_ctx_t *procs_ctx;</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;...</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;procs_ctx= procs_open(log_ctx, 16, &quot;video_processors&quot;, &quot;127.0.0.1&quot;);</div></div><!-- fragment --> </dd></dl>

<p>Definition at line <a class="el" href="procs_8c_source.html#l00336">336</a> of file <a class="el" href="procs_8c_source.html">procs.c</a>.</p>

</div>
</div>
<a class="anchor" id="a7af2e6f2788006cfc96ca8d811922ffa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int procs_opt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="procs_8c.html#a9dcafd40720bff127bdc596e9c6dd6cd">procs_ctx_t</a> *&#160;</td>
          <td class="paramname"><em>procs_ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Processors module instance options. This function represents the API of the PROCS module instance, and exposes all the available options to operate the different processors instances. This function is thread-safe and can be called concurrently.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">procs_ctx</td><td>Pointer to the processors (PROCS) module instance context structure. </td></tr>
    <tr><td class="paramname">tag</td><td>Processors option tag, namely, option identifier string. The following options are available:<ol type="1">
<li>"PROCS_POST"</li>
<li>"PROCS_GET"</li>
<li>"PROCS_ID_DELETE"</li>
<li>"PROCS_ID_GET"</li>
<li>"PROCS_ID_PUT"</li>
</ol>
</td></tr>
    <tr><td class="paramname">...</td><td>Variable list of parameters according to selected option. Refer to <b>Tags description</b> below to see the different additional parameters corresponding to each option tag. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status code (STAT_SUCCESS code in case of success, for other code values please refer to .<a class="el" href="stat__codes_8h.html" title="General status codes enumeration. ">stat_codes.h</a>).</dd></dl>
<h3>Tags description (additional variable arguments per tag)</h3>
<ul>
<li>
<b>Tag "PROCS_POST":</b><br />
 Instantiate and register new processor.<br />
 Additional variable arguments for function <a class="el" href="procs_8h.html#a7af2e6f2788006cfc96ca8d811922ffa">procs_opt()</a> are:<br />
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">proc_name</td><td>Pointer to a character string with the unambiguous processor type name. </td></tr>
    <tr><td class="paramname">settings_str</td><td>Character string containing initial settings for the processor. String format can be either a query-string or JSON. </td></tr>
    <tr><td class="paramname">rest_str</td><td>Reference to the pointer to a character string returning the processor identifier in JSON format as follows: '{"proc_id":id_number}' Code example: <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;char *rest_str= NULL;</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;...</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;ret_code= procs_opt(procs_ctx, &quot;PROCS_POST&quot;, &quot;bypass_processor&quot;,</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;    &quot;setting1=100&quot;, &amp;rest_str);</div></div><!-- fragment --></td></tr>
  </table>
  </dd>
</dl>
</li>
<li>
<b>Tag "PROCS_GET":</b><br />
 Get the representational state of the processors instances list.<br />
 Additional variable arguments for function <a class="el" href="procs_8h.html#a7af2e6f2788006cfc96ca8d811922ffa">procs_opt()</a> are:<br />
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ref_str</td><td>Reference to the pointer to a character string returning the processors list representational state. </td></tr>
    <tr><td class="paramname">filter_str</td><td>Character string indicating one of the following filters apply:<ul>
<li>"proc_name==x": Filter the returning list discarding all the processors that are not of the type 'x';</li>
<li>"proc_name!=x": Filter the returning list discarding all the processors that <em>are</em> of the type 'x'. This parameter is optional, and can be set to NULL (no filter apply). Code example: <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;char *rest_str= NULL;</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;...</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;ret_code= procs_opt(procs_ctx, &quot;PROCS_GET&quot;, &amp;rest_str, NULL);</div></div><!-- fragment --></li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
</li>
<li>
<b>Tag "PROCS_ID_DELETE":</b><br />
 Unregister and release a processor instance.<br />
 Additional variable arguments for function <a class="el" href="procs_8h.html#a7af2e6f2788006cfc96ca8d811922ffa">procs_opt()</a> are:<br />
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">proc_id</td><td>Processor instance unambiguous Id. Code example: <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;ret_code= procs_opt(procs_ctx, &quot;PROCS_ID_DELETE&quot;, proc_id);</div></div><!-- fragment --></td></tr>
  </table>
  </dd>
</dl>
</li>
<li>
<b>Tag "PROCS_ID_GET":</b><br />
 Get the representational state of a processor instance (including current settings).<br />
 Additional variable arguments for function <a class="el" href="procs_8h.html#a7af2e6f2788006cfc96ca8d811922ffa">procs_opt()</a> are:<br />
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">proc_id</td><td>Processor instance unambiguous Id. </td></tr>
    <tr><td class="paramname">ref_str</td><td>Reference to the pointer to a character string returning the processor's representational state. Code example: <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;char *rest_str= NULL;</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;...</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;ret_code= procs_opt(procs_ctx, &quot;PROCS_ID_GET&quot;, proc_id, &amp;rest_str);</div></div><!-- fragment --></td></tr>
  </table>
  </dd>
</dl>
</li>
<li>
<b>Tag "PROCS_ID_PUT":</b><br />
 Put (pass) new settings to a processor instance.<br />
 Additional variable arguments for function <a class="el" href="procs_8h.html#a7af2e6f2788006cfc96ca8d811922ffa">procs_opt()</a> are:<br />
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">proc_id</td><td>Processor instance unambiguous Id. </td></tr>
    <tr><td class="paramname">str</td><td>Pointer to a character string containing new settings for the processor instance. String format can be either a query-string or JSON. Code example: <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;ret_code= procs_opt(procs_ctx, &quot;PROCS_ID_PUT&quot;, proc_id, &quot;setting1=100&quot;);</div></div><!-- fragment --> </td></tr>
  </table>
  </dd>
</dl>
</li>
</ul>

<p>Definition at line <a class="el" href="procs_8c_source.html#l00474">474</a> of file <a class="el" href="procs_8c_source.html">procs.c</a>.</p>

</div>
</div>
<a class="anchor" id="a5be3851dc586c77c4ac8bb31654a6e2a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int procs_recv_frame </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="procs_8c.html#a9dcafd40720bff127bdc596e9c6dd6cd">procs_ctx_t</a> *&#160;</td>
          <td class="paramname"><em>procs_ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>proc_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structproc__frame__ctx__s.html">proc_frame_ctx_t</a> **&#160;</td>
          <td class="paramname"><em>ref_proc_frame_ctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get new processed frame of data from the indicated processor's output FIFO buffer (the processor instance is indicated by the processor Id.). This function blocks until a new frame is available to be read from the processor's output FIFO. To unblock this function, the corresponding processor instance should be deleted. This function is thread-safe and can be called concurrently. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">procs_ctx</td><td>Pointer to the processors (PROCS) module instance context structure. </td></tr>
    <tr><td class="paramname">proc_id</td><td>Processor instance unambiguous Id. </td></tr>
    <tr><td class="paramname">ref_proc_frame_ctx</td><td>Reference to the pointer to a structure characterizing the output processed frame. This function will return the processed frame passing its structure pointer by argument. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status code (STAT_SUCCESS code in case of success, for other code values please refer to .<a class="el" href="stat__codes_8h.html" title="General status codes enumeration. ">stat_codes.h</a>). </dd></dl>

<p>Definition at line <a class="el" href="procs_8c_source.html#l00545">545</a> of file <a class="el" href="procs_8c_source.html">procs.c</a>.</p>

</div>
</div>
<a class="anchor" id="aef6df524cba850594fa9fa23715ca3af"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int procs_send_frame </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="procs_8c.html#a9dcafd40720bff127bdc596e9c6dd6cd">procs_ctx_t</a> *&#160;</td>
          <td class="paramname"><em>procs_ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>proc_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structproc__frame__ctx__s.html">proc_frame_ctx_t</a> *&#160;</td>
          <td class="paramname"><em>proc_frame_ctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Put new frame of data to be processed in the indicated processor's input FIFO buffer (the processor instance is indicated by the processor Id.). This function blocks until a slot is available to be able to push the new frame into the processor's input FIFO. To unblock this function, the corresponding processor instance should be deleted. This function is thread-safe and can be called concurrently. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">procs_ctx</td><td>Pointer to the processors (PROCS) module instance context structure. </td></tr>
    <tr><td class="paramname">proc_id</td><td>Processor instance unambiguous Id. </td></tr>
    <tr><td class="paramname">proc_frame_ctx</td><td>Pointer to the structure characterizing the input frame to be processed. The frame is duplicated and inserted in the FIFO buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status code (STAT_SUCCESS code in case of success, for other code values please refer to .<a class="el" href="stat__codes_8h.html" title="General status codes enumeration. ">stat_codes.h</a>). </dd></dl>

<p>Definition at line <a class="el" href="procs_8c_source.html#l00504">504</a> of file <a class="el" href="procs_8c_source.html">procs.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
