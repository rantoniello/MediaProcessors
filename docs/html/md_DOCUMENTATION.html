<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>MediaProcessors: DOCUMENTATION</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MediaProcessors
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">DOCUMENTATION </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1>Processor concept </h1>
<p>The basic idea is to define a generic structure to wrap any multimedia processor type. By "multimedia processor" we mean any encoder, decoder, multiplexer or demultiplexer. Namely, any "codec" or "muxer" will be implemented as a particularization of this generic processor interface, and in consequence, they all will offer the same generic interface/API (despite each particularization may extend the common interface as desired).</p>
<p>A processor defined in this library has two basic forms of interfacing:<br />
 1.- Control (CTRL) interface;<br />
 2.- Input/output (I/O) interface.<br />
</p>
<p>The latter is used to send or receive processed data, and may suppose a bit-rate as high as desired. This is important to remark, as the I/O interface should carefully take into account fast-fetching and efficient data transfers without interruptions.<br />
 The former suppose insignificant bit-rate, but should be unlinked -as possible- to the I/O interface; in other words, control commands should not interfere with I/O operations performance.<br />
 The processor generic implementation provides not only these characteristics, but also:<br />
</p><ul>
<li>I/O operations and CTRL operations can be executed concurrently without any risks (e.g. you can delete a processor while other thread is performing I/O operations on it without crashing risk);<br />
</li>
<li>CTRL operations are though to change the processor state (PUT operation) asynchronously -any-time- and concurrently. This may imply changing I/O data characteristics;<br />
</li>
<li>CTRL operations are though to get the processor state (GET operation ) asynchronously and concurrently;<br />
</li>
<li>Analogously, through CTRL operations we may create (POST operation) or delete (DELETE operation) a processor asynchronously and concurrently.<br />
</li>
</ul>
<p>In view of the above, the processor API has the following fundamental operations:<br />
</p><ol type="1">
<li>Control (CTRL) interface<ul>
<li>POST<br />
</li>
<li>DELETE<br />
</li>
<li>GET<br />
</li>
<li>PUT</li>
</ul>
</li>
<li>Input/output (I/O) interface<ul>
<li>send<br />
</li>
<li>recieve</li>
</ul>
</li>
</ol>
<div class="image">
<img src="../img1_processor_small.png"  align="left" style="margin-left:10%;margin-right:90%;"/>
</div>
<p> <em align="left" style="margin-left:calc(10% + 100px);">Figure 1: The processor structure</em></p>
<p>The CTRL operations, as implemented in this library, use textual information formatted in the JavaScript Object Notation (JSON).<br />
 The CTR interface interoperability philosophy is based on the Representational State Transfer (REST): the processor resources are accessible as textual representations through the GET operation, and may be manipulable using the PUT operation.</p>
<p>To analyze the processor API, it is interesting to have a picture of how a processor fits in a typical application.<br />
 In the next section we have a brief insight on <a class="el" href="md_DOCUMENTATION.html#How_to_use_a_Processor_the_API">How to use a Processor</a>.</p>
<h1><a class="anchor" id="How_to_use_a_Processor_the_API"></a>
How to use a Processor: the API </h1>
<p>A typical application would use a generic processor as follows (refer to the figure 2):<br />
</p>
<div class="image">
<img src="../img2_processor_flow_chart_small.png"  align="left" style="margin-left:10%;margin-right:90%;"/>
</div>
<p> <em align="left" style="margin-left:calc(10% + 300px);">Figure 2: Typical processing flow</em></p>
<ul>
<li>Application prologue:<ol type="1">
<li>Initialize (open) the processors (PROCS) module to be able to use it through the life of the application (this is done by calling function '<a class="el" href="procs_8c.html#af5f91a46882b5706b25327384ba347d8">procs_module_open()</a>' only once at the beginning of the app.).</li>
<li>Register the processor types you will support in your application. This is performed using the operation 'PROCS_REGISTER_TYPE' provided through the function '<a class="el" href="procs_8c.html#a226ac6dfd7598a59b9ceab3a92239a80">procs_module_opt()</a>'.<br />
 By "processor type" we mean, for example, H.264 codec, MP3 codec, RTSP format, etc. Note that at this step we are registering the supported types; later we will be able to instantiate any number of codecs/muxers of any of the types that we registered.</li>
<li>Create (open) an instance of the PROCS module using the function '<a class="el" href="procs_8c.html#a6fae33560b633113d848f6ec5e8461e5">procs_open()</a>' which will return an instance handler. With that single handler will be able to create, manipulate and destroy any instance of any specific processor type.</li>
<li>Actually create a processor instance (of any of the registered types) by performing a POST operation on the module handler. This is requested using the operation 'PROCS_POST' with the function '<a class="el" href="procs_8c.html#a7af2e6f2788006cfc96ca8d811922ffa">procs_opt()</a>' and requires specifying the processor type and optional initial settings. <br />
 If succeed, a unique processor identifier will be supplied to the calling application. This Id. will be used as an API parameter to handle the processor instance through the entire life of the application (or until the instance is deleted).<br />
 When instantiating a processor, the library will transparently initialize and launch the necessary processing threads.</li>
<li>Typically launch a producer thread and a consumer thread for processing data (I/O operations). Also, use a control thread to manage control operations (PUT, GET) in run-time. <br />
</li>
</ol>
</li>
<li>Application cyclic:<ol type="1">
<li>Regarding to I/O API operations (right hand side of figure 2), the producer should use '<a class="el" href="procs_8c.html#aef6df524cba850594fa9fa23715ca3af">procs_send_frame()</a>' function to put new frames of data into the processor's input FIFO buffer, and the consumer should use '<a class="el" href="procs_8c.html#a5be3851dc586c77c4ac8bb31654a6e2a">procs_recv_frame()</a>' to obtain processed frames from the processor's output FIFO buffer (note that some processors, e.g. a muxer, may only implement one of these I/O functions).<br />
 For the sake of simplifying the I/O interfacing as much as possible, all the processor types (codecs or muxers) use the same unique frame interface for both input and output operations: any frame will be represented using the structure '<a class="el" href="structproc__frame__ctx__s.html">proc_frame_ctx_s</a>'.<br />
</li>
<li>The control thread may use the function '<a class="el" href="procs_8c.html#a7af2e6f2788006cfc96ca8d811922ffa">procs_opt()</a>' to manage the processor options, which are basically the GET ('PROCS_ID_GET') and PUT ('PROCS_ID_PUT') operations.<br />
 Despite the representational state can be specific for each processor, the representation clearly separates between state-information data (which is unmodifiable) and the available settings (modifiable parameters). Refer to the <a class="el" href="md_DOCUMENTATION.html#How_to_use_a_Processor_the_REST">corresponding section</a> below ("How to use a Processor: the representational state") for more details. <br />
</li>
</ol>
</li>
<li>Application epilogue:<ol type="1">
<li>Delete running processor instance using the function '<a class="el" href="procs_8c.html#a7af2e6f2788006cfc96ca8d811922ffa">procs_opt()</a>' to perform a 'PROCS_ID_DELETE' operation. The library will transparently unblock I/O operations, join the processor's internal processing threads and release all the related resources.<br />
 It is important to remark that the <b>processor instance deletion must be performed before trying to join any of the producer or consumer thread</b>. This is because by deleting a processor we make sure we will not get blocked in an I/O operation.</li>
<li>Join our application threads.</li>
<li>Delete (close) the instance of the PROCS module using function '<a class="el" href="procs_8c.html#a0806c10ed3203ce53115ffb1a89e83d3">procs_close()</a>'. The handler will be released.</li>
<li>Finally, close the PROCS module using the '<a class="el" href="procs_8c.html#a0947527d95117e432f21354103c390a6">procs_module_close()</a>' function. <br />
</li>
</ol>
</li>
</ul>
<h1><a class="anchor" id="How_to_use_a_Processor_the_REST"></a>
The representational state </h1>
<p>Considering that any external application can implement and register a private processor type, doing a formal documentation of all the available processor types representational states may be an impossible task. Despite the library defines some common data and settings for video and audio codecs, <b>the easiest -and recommendable- way to fetch any processor's REST is to actually "ask" this information to the processor</b> (request through the API).<br />
 The only thing you need to know is the general form of the REST all the processors should comply, which is represented in the following JSON string:<br />
 </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;{</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;    &quot;settings&quot;:</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;    {</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;        ... here you will find the settings ...</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;    },</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;    ... anything outside object &#39;settings&#39; is state-information data -informative, cannot be modified-</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;}</div></div><!-- fragment --><p>The following sample code shows how to GET a processor's instance REST (see '<a class="el" href="procs_8c.html#a7af2e6f2788006cfc96ca8d811922ffa">procs_opt()</a>' function):</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;char *rest_str= NULL;</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;...</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;ret_code= procs_opt(procs_ctx, &quot;PROCS_ID_GET&quot;, proc_id, &amp;rest_str);</div></div><!-- fragment --><p>Let's suppose the answer is the following JSON string (e.g. given by a video encoder):</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;{</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;    ... any data ....</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;    &quot;settings&quot;: {</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;         &quot;bit_rate_output&quot;:1024000,</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;         &quot;frame_rate_output&quot;:25,</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;         &quot;width_output&quot;:720,</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;         &quot;height_output&quot;:576,</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;         &quot;gop_size&quot;:25,</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;         &quot;conf_preset&quot;:&quot;ultrafast&quot;</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;    }</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;}</div></div><!-- fragment --><p>Then, all the parameters that can be manipulated in the processor are specified within the "settings" object. If we want to change the output width and height, for example, we can perform a PUT operation passing the corresponding parameters either as a query string</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;ret_code= procs_opt(procs_ctx, &quot;PROCS_ID_PUT&quot;, proc_id, &quot;width_output=352&amp;height_output=288&quot;);</div></div><!-- fragment --><p>or as a JSON string (both are accepted)</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;ret_code= procs_opt(procs_ctx, &quot;PROCS_ID_PUT&quot;, proc_id, </div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;        &quot;{\&quot;width_output\&quot;:352,\&quot;height_output\&quot;:288}&quot;);</div></div><!-- fragment --><p>Requesting the settings REST to the processor is effective but may be not always self-explanatory (parameters are not documented in a REST response). To get formal documentation of each specific processor (any codec or muxer) you will have to go to the processor's code and analyze corresponding settings structure and the associated doxygen specifications.<br />
 To do that, consider the following example.<br />
 The video settings which are common to all video codec types ("generic" video codec settings) are defined at the structures <a class="el" href="structvideo__settings__enc__ctx__s.html">video_settings_enc_ctx_s</a> and <a class="el" href="structvideo__settings__dec__ctx__s.html">video_settings_dec_ctx_s</a> (encoding and decoding respectively) at the 'codecs' library. Similarly, common audio settings are defined at <a class="el" href="structaudio__settings__enc__ctx__s.html">audio_settings_enc_ctx_s</a> and <a class="el" href="structaudio__settings__dec__ctx__s.html">audio_settings_dec_ctx_s</a>.<br />
 Any video codec is supposed to use this common settings and extend them as desired. As a concrete example, the H.264 encoder implemented at <a class="el" href="ffmpeg__x264_8c.html">ffmpeg_x264.c</a> (MediaProcessors's wrapper of the FFmpeg x.264 codec facility) extends the video common settings in the structure defined as <a class="el" href="structffmpeg__x264__enc__settings__ctx__s.html">ffmpeg_x264_enc_settings_ctx_s</a>. Then, all the settings for this specific codec are documented at <a class="el" href="structffmpeg__x264__enc__settings__ctx__s.html">ffmpeg_x264_enc_settings_ctx_s</a> and the extended common structure <a class="el" href="structvideo__settings__enc__ctx__s.html">video_settings_enc_ctx_s</a>.<br />
 The rest of the codecs implemented in the 'codecs' library use analogue structure extensions as the above mentioned, so you can generalize this rule to see the settings parameters of any codec type implementation.</p>
<h1><a class="anchor" id="How_to_use_a_Processor_the_RESTful"></a>
The RESTful HTTP/web-services adapter </h1>
<p>REST philosophy of the API enables straightforward implementation of an HTTP web service exposing the CTRL API. Figure 3 depicts the basic scheme:</p>
<ul>
<li>First of all, an HTTP server has to be integrated in the solution (later, you will see a full <a href="md_EXAMPLES.html">example</a> code running a 3rd party server);</li>
<li>The HTTP server you integrate will offer to your application a kind of Common Gateway Interface (CGI). The CGI typically exposes:<ul>
<li>The destination URL of the HTTP request;</li>
<li>The request method (POST, DELETE, GET or PUT);</li>
<li>A query string with parameters (if any);</li>
<li>Body content if present.</li>
</ul>
</li>
<li>The RESTful adapter translates the HTTP request to a corresponding CTRL API request, and returns a response back to be used by the server.</li>
</ul>
<p>Translation of an HTTP request to a CTRL API request is immediate, and is implemented for reference, and for your application, at <a class="el" href="procs__api__http_8h.html" title="Processors (PROCS) module HTTP API adaptation layer. ">procs_api_http.h</a> / <a class="el" href="procs__api__http_8c.html">procs_api_http.c</a>.<br />
 The function '<a class="el" href="procs__api__http_8c.html#af95ab7d53c13d03d65d8cd0dacd3463f">procs_api_http_req_handler()</a>' is in charge of translating the HTTP request and returning the corresponding response.<br />
</p>
<div class="image">
<img src="../img3_processor_restful_adaptation_small.png"  align="left" style="margin-left:10%;margin-right:90%;"/>
</div>
<p> <em align="left" style="margin-left:calc(10% + 250px);">Figure 3: A RESTful HTTP/web-services adapter</em></p>
<h4>RESTful wrapped responses</h4>
<p>The function '<a class="el" href="procs__api__http_8c.html#af95ab7d53c13d03d65d8cd0dacd3463f">procs_api_http_req_handler()</a>' adds a JSON wrapper object to the response given by the CTRL API. This wrapper is a proper adaptation to the HTTP environment.<br />
 Because in many web-services frameworks (e.g. JavaScript) the HTTP status response codes can not be easily reached by end-developers, a wrapped response is included in the message body with the following properties:</p><ul>
<li>code: contains the HTTP response status code as an integer;</li>
<li>status: contains the text “success”, “fail”, or “error”; where “fail” is for HTTP status response values from 500-599, “error” is for statuses 400-499, and “success” is for everything else (e.g. 1XX, 2XX and 3XX responses).</li>
<li>message: only used for “fail” and “error” statuses to contain the error message.</li>
<li>data: Contains the response body. In the case of “error” or “fail” statuses, data may be set to 'null'.</li>
</ul>
<p>Schematically, the RESTful adapter response has then the following form: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;{</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;    &quot;code&quot;:number,</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;    &quot;status&quot;:string,</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;    &quot;message&quot;:string,</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;    &quot;data&quot;: {...} // object returned by PROCS CTR API if any or null.</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;}</div></div><!-- fragment --><h4>Returning and requesting representation extensions</h4>
<p>For this project RESTful specification, services use the file extension '.json' (e.g. all the request will have the form: '<a href="http://server_url:port/my/url/path.json'">http://server_url:port/my/url/path.json'</a>).</p>
<h4>Pluralization</h4>
<p>For this project RESTful specification, the use of pluralizations in name nodes is mandatory and generalized.<br />
 Example:<br />
 For referencing a specific processor with identifier '0' , we always use (note the plural 'proc<b>s</b>' at the URL path): </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;http://server_url:port/procs/:processor_id.json</div></div><!-- fragment --><p> rather than:<br />
 </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;http://server_url:port/proc/:processor_id.json</div></div><!-- fragment --><h4>RESTful minimal hyper-linking practices</h4>
<p>The RESTful API is navigable via its links to the various components of the representation.<br />
 Example:<br />
 Consider we are running our MediaProcessor based application with a 3rd party HTTP server with address 127.0.0.1 ('localhost') listening to port 8088. By default, the URL base the RESTful adapter (<a class="el" href="procs__api__http_8h.html" title="Processors (PROCS) module HTTP API adaptation layer. ">procs_api_http.h</a> / <a class="el" href="procs__api__http_8c.html">procs_api_http.c</a>) use is '/procs'; thus, any remote HTTP request to our application would have an URL of the form '127.0.0.1:8088/procs[...].json'.<br />
 The 'entrance point' of the API is given by the base URL ('/procs'); thus, if we perform from a remote HTTP client the following request:<br />
 </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;GET 127.0.0.1:8088/procs.json</div></div><!-- fragment --><p> We will have a response similar to the following: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;{</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;   &quot;code&quot;:200,</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;   &quot;status&quot;:&quot;OK&quot;,</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;   &quot;message&quot;:null,</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;   &quot;data&quot;:{</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;      &quot;procs&quot;:[</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;         {</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;            &quot;proc_id&quot;:0,</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;            &quot;type_name&quot;:&quot;my_codec_type&quot;,</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;            &quot;links&quot;:[</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;               {</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;                  &quot;rel&quot;:&quot;self&quot;,</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;                  &quot;href&quot;:&quot;/procs/0.json&quot;</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;               }</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;            ]</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;         },</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;         {</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;            &quot;proc_id&quot;:1,</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;            &quot;type_name&quot;:&quot;other_codec_type&quot;,</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;            &quot;links&quot;:[</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;               {</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;                  &quot;rel&quot;:&quot;self&quot;,</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;                  &quot;href&quot;:&quot;/procs/1.json&quot;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;               }</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;            ]</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;         }, ...</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;      ]</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;   }</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;}</div></div><!-- fragment --><p>For navigating through the rest of the resources representations we just need to follow the links; e.g. for requesting the state of processor with identifier '0': </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;GET 127.0.0.1:8088/procs/0.json</div></div><!-- fragment --><p> A sample response: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;{</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;   &quot;code&quot;:200,</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;   &quot;status&quot;:&quot;OK&quot;,</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;   &quot;message&quot;:null,</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;   &quot;data&quot;:{</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;      &quot;settings&quot;:{</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;         &quot;bit_rate_output&quot;:307200,</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;         &quot;frame_rate_output&quot;:15,</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;         &quot;width_output&quot;:352,</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;         &quot;height_output&quot;:288,</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;         &quot;gop_size&quot;:15,</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;         &quot;conf_preset&quot;:null</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;      }</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;   }</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;}</div></div><!-- fragment --><p>Processor with Id. '0' has settings; we can manipulate them using the PUT method: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;PUT 127.0.0.1:8088/procs/0.json?width_output=720&amp;height_output=480</div></div><!-- fragment --><p>If we request again proessor's state: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;{</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;   &quot;code&quot;:200,</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;   &quot;status&quot;:&quot;OK&quot;,</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;   &quot;message&quot;:null,</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;   &quot;data&quot;:{</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;      &quot;settings&quot;:{</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;          ...</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;         &quot;width_output&quot;:720,</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;         &quot;height_output&quot;:480,</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;         ...</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;      }</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;   }</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;}</div></div><!-- fragment --><h1>How to use a Processor: hands-on </h1>
<p>Please continue with the <a href="md_EXAMPLES.html">examples</a> documentation. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
